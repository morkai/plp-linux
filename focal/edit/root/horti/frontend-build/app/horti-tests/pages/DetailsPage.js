define(["app/user","app/viewport","app/core/pages/DetailsPage","app/horti-dashboard/views/MetricEditorView","app/horti-tests/templates/details"],function(e,t,i,o,s){"use strict";return i.extend({detailsTemplate:s,actions:function(){if(e.isAllowedTo("LOCAL","HORTI:MANAGE")&&!(Date.now()-Date.parse(this.model.get("finishedAt"))>18e5))return[{icon:"check",label:this.t("PAGE_ACTION:editMetric"),privileges:["LOCAL","HORTI:MANAGE"],callback:()=>this.showMetricEditor()}]},showMetricEditor:function(){const e=new o({model:{zoneNo:this.model.get("zoneNo"),testId:this.model.id,value:this.model.get("metric")||0}});t.showDialog(e,this.t("horti-dashboard","metric:editor:title"))}})});