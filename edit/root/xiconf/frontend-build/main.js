/**
 * @license RequireJS domReady 2.0.1 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/domReady for details
 */

/*!
 * jQuery JavaScript Library v2.0.3
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03T13:30Z
 */

/*!
 * Sizzle CSS Selector Engine v1.9.4-pre
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-06-03
 */

//     Underscore.js 1.5.2
//     http://underscorejs.org
//     (c) 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

//     (c) 2010-2013 Jeremy Ashkenas, DocumentCloud Inc.
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

/*!
 * backbone.layoutmanager.js v0.9.4
 * Copyright 2013, Tim Branyen (@tbranyen)
 * backbone.layoutmanager.js may be freely distributed under the MIT license.
 */

//! moment.js
//! version : 2.8.3
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com

// Part of <https://miracle.systems/p/walkner-xiconf> licensed under <CC BY-NC-SA 4.0>

/**
	 * Parses an URI
	 *
	 * @author Steven Levithan <stevenlevithan.com> (MIT license)
	 * @api private
	 */

/*
	 * base64-arraybuffer
	 * https://github.com/niklasvh/base64-arraybuffer
	 *
	 * Copyright (c) 2012 Niklas von Hertzen
	 * Licensed under the MIT license.
	 */

/*! https://mths.be/utf8js v2.0.0 by @mathias */

//! moment-timezone.js
//! version : 0.2.4
//! author : Tim Wood
//! license : MIT
//! github.com/moment/moment-timezone

/**
 * @license RequireJS i18n 2.0.4 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/i18n for details
 */

/**
 * Copyright (c) 2010 Maxim Vasiliev
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * @author Maxim Vasiliev
 * Date: 09.09.2010
 * Time: 19:02:33
 */

/**
 * Copyright (c) 2010 Maxim Vasiliev
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * @author Maxim Vasiliev
 * Date: 19.09.11
 * Time: 23:40
 */

/*!
 * Bootstrap v3.3.2 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */

/*!
 * Generated using the Bootstrap Customizer (http://getbootstrap.com/customize/?id=811a59ac09d752878af6)
 * Config saved to config.json and https://gist.github.com/811a59ac09d752878af6
 */

/* ========================================================================
 * Bootstrap: alert.js v3.3.2
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: button.js v3.3.2
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: dropdown.js v3.3.2
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: modal.js v3.3.2
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: tab.js v3.3.2
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: transition.js v3.3.2
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

define("domReady",[],function(){"use strict";function e(e){var t;for(t=0;t<e.length;t+=1)e[t](p)}function t(){var t=c;l&&t.length&&(c=[],e(t))}function n(){l||(l=!0,a&&clearInterval(a),t())}function r(e){return l?e(p):c.push(e),r}var i,o,a,s="undefined"!=typeof window&&window.document,l=!s,p=s?document:null,c=[];if(s){if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else if(window.attachEvent){window.attachEvent("onload",n),o=document.createElement("div");try{i=null===window.frameElement}catch(e){}o.doScroll&&i&&window.external&&(a=setInterval(function(){try{o.doScroll(),n()}catch(e){}},30))}"complete"===document.readyState&&n()}return r.version="2.0.1",r.load=function(e,t,n,i){i.isBuild?n(null):r(n)},r}),function(e,t){function n(e){var t=e.length,n=oe.type(e);return!oe.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)))}function r(e){var t=he[e]={};return oe.each(e.match(se)||[],function(e,n){t[n]=!0}),t}function i(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=oe.expando+Math.random()}function o(e,n,r){var i;if(r===t&&1===e.nodeType)if(i="data-"+n.replace(ve,"-$1").toLowerCase(),r=e.getAttribute(i),"string"==typeof r){try{r="true"===r||"false"!==r&&("null"===r?null:+r+""===r?+r:me.test(r)?JSON.parse(r):r)}catch(e){}ge.set(e,n,r)}else r=t;return r}function a(){return!0}function s(){return!1}function l(){try{return B.activeElement}catch(e){}}function p(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function c(e,t,n){if(oe.isFunction(t))return oe.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return oe.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(xe.test(t))return oe.filter(t,e,n);t=oe.filter(t,e)}return oe.grep(e,function(e){return te.call(t,e)>=0!==n})}function u(e,t){return oe.nodeName(e,"table")&&oe.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function d(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function f(e){var t=Ge.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function h(e,t){for(var n=e.length,r=0;r<n;r++)_e.set(e[r],"globalEval",!t||_e.get(t[r],"globalEval"))}function g(e,t){var n,r,i,o,a,s,l,p;if(1===t.nodeType){if(_e.hasData(e)&&(o=_e.access(e),a=_e.set(t,o),p=o.events)){delete a.handle,a.events={};for(i in p)for(n=0,r=p[i].length;n<r;n++)oe.event.add(t,i,p[i][n])}ge.hasData(e)&&(s=ge.access(e),l=oe.extend({},s),ge.set(t,l))}}function _(e,n){var r=e.getElementsByTagName?e.getElementsByTagName(n||"*"):e.querySelectorAll?e.querySelectorAll(n||"*"):[];return n===t||n&&oe.nodeName(e,n)?oe.merge([e],r):r}function m(e,t){var n=t.nodeName.toLowerCase();"input"===n&&De.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function v(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Je.length;i--;)if(t=Je[i]+n,t in e)return t;return r}function b(e,t){return e=t||e,"none"===oe.css(e,"display")||!oe.contains(e.ownerDocument,e)}function y(t){return e.getComputedStyle(t,null)}function w(e,t){for(var n,r,i,o=[],a=0,s=e.length;a<s;a++)r=e[a],r.style&&(o[a]=_e.get(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&b(r)&&(o[a]=_e.access(r,"olddisplay",A(r.nodeName)))):o[a]||(i=b(r),(n&&"none"!==n||!i)&&_e.set(r,"olddisplay",i?n:oe.css(r,"display"))));for(a=0;a<s;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function T(e,t,n){var r=Ve.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function P(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=oe.css(e,n+Ze[o],!0,i)),r?("content"===n&&(a-=oe.css(e,"padding"+Ze[o],!0,i)),"margin"!==n&&(a-=oe.css(e,"border"+Ze[o]+"Width",!0,i))):(a+=oe.css(e,"padding"+Ze[o],!0,i),"padding"!==n&&(a+=oe.css(e,"border"+Ze[o]+"Width",!0,i)));return a}function E(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=y(e),a=oe.support.boxSizing&&"border-box"===oe.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(i=We(e,t,o),(i<0||null==i)&&(i=e.style[t]),$e.test(i))return i;r=a&&(oe.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+P(e,t,n||(a?"border":"content"),r,o)+"px"}function A(e){var t=B,n=Ke[e];return n||(n=k(e,t),"none"!==n&&n||(je=(je||oe("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(je[0].contentWindow||je[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=k(e,t),je.detach()),Ke[e]=n),n}function k(e,t){var n=oe(t.createElement(e)).appendTo(t.body),r=oe.css(n[0],"display");return n.remove(),r}function S(e,t,n,r){var i;if(oe.isArray(t))oe.each(t,function(t,i){n||tt.test(e)?r(e,i):S(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==oe.type(t))r(e,t);else for(i in t)S(e+"["+i+"]",t[i],n,r)}function x(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(se)||[];if(oe.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function C(e,t,n,r){function i(s){var l;return o[s]=!0,oe.each(e[s]||[],function(e,s){var p=s(t,n,r);return"string"!=typeof p||a||o[p]?a?!(l=p):void 0:(t.dataTypes.unshift(p),i(p),!1)}),l}var o={},a=e===vt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function L(e,n){var r,i,o=oe.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((o[r]?e:i||(i={}))[r]=n[r]);return i&&oe.extend(!0,e,i),e}function O(e,n,r){for(var i,o,a,s,l=e.contents,p=e.dataTypes;"*"===p[0];)p.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("Content-Type"));if(i)for(o in l)if(l[o]&&l[o].test(i)){p.unshift(o);break}if(p[0]in r)a=p[0];else{for(o in r){if(!p[0]||e.converters[o+" "+p[0]]){a=o;break}s||(s=o)}a=a||s}if(a)return a!==p[0]&&p.unshift(a),r[a]}function R(e,t,n,r){var i,o,a,s,l,p={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)p[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=p[l+" "+o]||p["* "+o],!a)for(i in p)if(s=i.split(" "),s[1]===o&&(a=p[l+" "+s[0]]||p["* "+s[0]])){a===!0?a=p[i]:p[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function I(){return setTimeout(function(){kt=t}),kt=oe.now()}function M(e,t,n){for(var r,i=(Rt[t]||[]).concat(Rt["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function N(e,t,n){var r,i,o=0,a=Ot.length,s=oe.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=kt||I(),n=Math.max(0,p.startTime+p.duration-t),r=n/p.duration||0,o=1-r,a=0,l=p.tweens.length;a<l;a++)p.tweens[a].run(o);return s.notifyWith(e,[p,o,n]),o<1&&l?n:(s.resolveWith(e,[p]),!1)},p=s.promise({elem:e,props:oe.extend({},t),opts:oe.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:kt||I(),duration:n.duration,tweens:[],createTween:function(t,n){var r=oe.Tween(e,p.opts,t,n,p.opts.specialEasing[t]||p.opts.easing);return p.tweens.push(r),r},stop:function(t){var n=0,r=t?p.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)p.tweens[n].run(1);return t?s.resolveWith(e,[p,t]):s.rejectWith(e,[p,t]),this}}),c=p.props;for(D(c,p.opts.specialEasing);o<a;o++)if(r=Ot[o].call(p,e,c,p.opts))return r;return oe.map(c,M,p),oe.isFunction(p.opts.start)&&p.opts.start.call(e,p),oe.fx.timer(oe.extend(l,{elem:e,anim:p,queue:p.opts.queue})),p.progress(p.opts.progress).done(p.opts.done,p.opts.complete).fail(p.opts.fail).always(p.opts.always)}function D(e,t){var n,r,i,o,a;for(n in e)if(r=oe.camelCase(n),i=t[r],o=e[n],oe.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=oe.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function z(e,n,r){var i,o,a,s,l,p,c=this,u={},d=e.style,f=e.nodeType&&b(e),h=_e.get(e,"fxshow");r.queue||(l=oe._queueHooks(e,"fx"),null==l.unqueued&&(l.unqueued=0,p=l.empty.fire,l.empty.fire=function(){l.unqueued||p()}),l.unqueued++,c.always(function(){c.always(function(){l.unqueued--,oe.queue(e,"fx").length||l.empty.fire()})})),1===e.nodeType&&("height"in n||"width"in n)&&(r.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===oe.css(e,"display")&&"none"===oe.css(e,"float")&&(d.display="inline-block")),r.overflow&&(d.overflow="hidden",c.always(function(){d.overflow=r.overflow[0],d.overflowX=r.overflow[1],d.overflowY=r.overflow[2]}));for(i in n)if(o=n[i],xt.exec(o)){if(delete n[i],a=a||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!h||h[i]===t)continue;f=!0}u[i]=h&&h[i]||oe.style(e,i)}if(!oe.isEmptyObject(u)){h?"hidden"in h&&(f=h.hidden):h=_e.access(e,"fxshow",{}),a&&(h.hidden=!f),f?oe(e).show():c.done(function(){oe(e).hide()}),c.done(function(){var t;_e.remove(e,"fxshow");for(t in u)oe.style(e,t,u[t])});for(i in u)s=M(f?h[i]:0,i,c),i in h||(h[i]=s.start,f&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function F(e,t,n,r,i){return new F.prototype.init(e,t,n,r,i)}function G(e,t){var n,r={height:e},i=0;for(t=t?1:0;i<4;i+=2-t)n=Ze[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function H(e){return oe.isWindow(e)?e:9===e.nodeType&&e.defaultView}var U,W,j=typeof t,q=e.location,B=e.document,V=B.documentElement,$=e.jQuery,Y=e.$,K={},X=[],Q="2.0.3",Z=X.concat,J=X.push,ee=X.slice,te=X.indexOf,ne=K.toString,re=K.hasOwnProperty,ie=Q.trim,oe=function(e,t){return new oe.fn.init(e,t,U)},ae=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,se=/\S+/g,le=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,pe=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ce=/^-ms-/,ue=/-([\da-z])/gi,de=function(e,t){return t.toUpperCase()},fe=function(){B.removeEventListener("DOMContentLoaded",fe,!1),e.removeEventListener("load",fe,!1),oe.ready()};oe.fn=oe.prototype={jquery:Q,constructor:oe,init:function(e,n,r){var i,o;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:le.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof oe?n[0]:n,oe.merge(this,oe.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:B,!0)),pe.test(i[1])&&oe.isPlainObject(n))for(i in n)oe.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}return o=B.getElementById(i[2]),o&&o.parentNode&&(this.length=1,this[0]=o),this.context=B,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):oe.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),oe.makeArray(e,this))},selector:"",length:0,toArray:function(){return ee.call(this)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e){var t=oe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return oe.each(this,e,t)},ready:function(e){return oe.ready.promise().done(e),this},slice:function(){return this.pushStack(ee.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},map:function(e){return this.pushStack(oe.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:J,sort:[].sort,splice:[].splice},oe.fn.init.prototype=oe.fn,oe.extend=oe.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},l=1,p=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"==typeof s||oe.isFunction(s)||(s={}),p===l&&(s=this,--l);l<p;l++)if(null!=(e=arguments[l]))for(n in e)r=s[n],i=e[n],s!==i&&(c&&i&&(oe.isPlainObject(i)||(o=oe.isArray(i)))?(o?(o=!1,a=r&&oe.isArray(r)?r:[]):a=r&&oe.isPlainObject(r)?r:{},s[n]=oe.extend(c,a,i)):i!==t&&(s[n]=i));return s},oe.extend({expando:"jQuery"+(Q+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===oe&&(e.$=Y),t&&e.jQuery===oe&&(e.jQuery=$),oe},isReady:!1,readyWait:1,holdReady:function(e){e?oe.readyWait++:oe.ready(!0)},ready:function(e){(e===!0?--oe.readyWait:oe.isReady)||(oe.isReady=!0,e!==!0&&--oe.readyWait>0||(W.resolveWith(B,[oe]),oe.fn.trigger&&oe(B).trigger("ready").off("ready")))},isFunction:function(e){return"function"===oe.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?K[ne.call(e)]||"object":typeof e},isPlainObject:function(e){if("object"!==oe.type(e)||e.nodeType||oe.isWindow(e))return!1;try{if(e.constructor&&!re.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||B;var r=pe.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=oe.buildFragment([e],t,i),i&&oe(i).remove(),oe.merge([],r.childNodes))},parseJSON:JSON.parse,parseXML:function(e){var n,r;if(!e||"string"!=typeof e)return null;try{r=new DOMParser,n=r.parseFromString(e,"text/xml")}catch(e){n=t}return n&&!n.getElementsByTagName("parsererror").length||oe.error("Invalid XML: "+e),n},noop:function(){},globalEval:function(e){var t,n=eval;e=oe.trim(e),e&&(1===e.indexOf("use strict")?(t=B.createElement("script"),t.text=e,B.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(ce,"ms-").replace(ue,de)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,a=e.length,s=n(e);if(r){if(s)for(;o<a&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(s)for(;o<a&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":ie.call(e)},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?oe.merge(r,"string"==typeof e?[e]:e):J.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:te.call(t,e,n)},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;o<r;o++)e[i++]=n[o];else for(;n[o]!==t;)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;o<a;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),l=[];if(s)for(;o<a;o++)i=t(e[o],o,r),null!=i&&(l[l.length]=i);else for(o in e)i=t(e[o],o,r),null!=i&&(l[l.length]=i);return Z.apply([],l)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(r=e[n],n=e,e=r),oe.isFunction(e)?(i=ee.call(arguments,2),o=function(){return e.apply(n||this,i.concat(ee.call(arguments)))},o.guid=e.guid=e.guid||oe.guid++,o):t},access:function(e,n,r,i,o,a,s){var l=0,p=e.length,c=null==r;if("object"===oe.type(r)){o=!0;for(l in r)oe.access(e,n,l,r[l],!0,a,s)}else if(i!==t&&(o=!0,oe.isFunction(i)||(s=!0),c&&(s?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(oe(e),n)})),n))for(;l<p;l++)n(e[l],r,s?i:i.call(e[l],l,n(e[l],r)));return o?e:c?n.call(e):p?n(e[0],r):a},now:Date.now,swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i}}),oe.ready.promise=function(t){return W||(W=oe.Deferred(),"complete"===B.readyState?setTimeout(oe.ready):(B.addEventListener("DOMContentLoaded",fe,!1),e.addEventListener("load",fe,!1))),W.promise(t)},oe.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){K["[object "+t+"]"]=t.toLowerCase()}),U=oe(B),function(e,t){function n(e,t,n,r){var i,o,a,s,l,p,c,u,h,g;if((t?t.ownerDocument||t:H)!==R&&O(t),t=t||R,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(M&&!r){if(i=be.exec(e))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&F(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return ee.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&P.getElementsByClassName&&t.getElementsByClassName)return ee.apply(n,t.getElementsByClassName(a)),n}if(P.qsa&&(!N||!N.test(e))){if(u=c=G,h=t,g=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(p=d(e),(c=t.getAttribute("id"))?u=c.replace(Te,"\\$&"):t.setAttribute("id",u),u="[id='"+u+"'] ",l=p.length;l--;)p[l]=u+f(p[l]);h=fe.test(e)&&t.parentNode||t,g=p.join(",")}if(g)try{return ee.apply(n,h.querySelectorAll(g)),n}catch(e){}finally{c||t.removeAttribute("id")}}}return w(e.replace(ce,"$1"),t,n,r)}function r(){function e(n,r){return t.push(n+=" ")>A.cacheLength&&delete e[t.shift()],e[n]=r}var t=[];return e}function i(e){return e[G]=!0,e}function o(e){var t=R.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t){for(var n=e.split("|"),r=e.length;r--;)A.attrHandle[n[r]]=t}function s(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||K)-(~e.sourceIndex||K);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function p(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function u(){}function d(e,t){var r,i,o,a,s,l,p,c=q[e+" "];if(c)return t?0:c.slice(0);for(s=e,l=[],p=A.preFilter;s;){r&&!(i=ue.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=de.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ce," ")}),s=s.slice(r.length));for(a in A.filter)!(i=me[a].exec(s))||p[a]&&!(i=p[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return t?s.length:s?n.error(e):q(e,l).slice(0)}function f(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=W++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,l,p,c=U+" "+o;if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i)if(p=t[G]||(t[G]={}),(l=p[r])&&l[0]===c){if((s=l[1])===!0||s===E)return s===!0}else if(l=p[r]=[c],l[1]=e(t,n,a)||E,l[1]===!0)return!0}}function g(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function _(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,p=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),p&&t.push(s)));return a}function m(e,t,n,r,o,a){return r&&!r[G]&&(r=m(r)),o&&!o[G]&&(o=m(o,a)),i(function(i,a,s,l){var p,c,u,d=[],f=[],h=a.length,g=i||y(t||"*",s.nodeType?[s]:s,[]),m=!e||!i&&t?g:_(g,d,e,s,l),v=n?o||(i?e:h||r)?[]:a:m;if(n&&n(m,v,s,l),r)for(p=_(v,f),r(p,[],s,l),c=p.length;c--;)(u=p[c])&&(v[f[c]]=!(m[f[c]]=u));if(i){if(o||e){if(o){for(p=[],c=v.length;c--;)(u=v[c])&&p.push(m[c]=u);o(null,v=[],p,l)}for(c=v.length;c--;)(u=v[c])&&(p=o?ne.call(i,u):d[c])>-1&&(i[p]=!(a[p]=u))}}else v=_(v===a?v.splice(h,v.length):v),o?o(null,a,v,l):ee.apply(a,v)})}function v(e){for(var t,n,r,i=e.length,o=A.relative[e[0].type],a=o||A.relative[" "],s=o?1:0,l=h(function(e){return e===t},a,!0),p=h(function(e){return ne.call(t,e)>-1},a,!0),c=[function(e,n,r){return!o&&(r||n!==C)||((t=n).nodeType?l(e,n,r):p(e,n,r))}];s<i;s++)if(n=A.relative[e[s].type])c=[h(g(c),n)];else{if(n=A.filter[e[s].type].apply(null,e[s].matches),n[G]){for(r=++s;r<i&&!A.relative[e[r].type];r++);return m(s>1&&g(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ce,"$1"),n,s<r&&v(e.slice(s,r)),r<i&&v(e=e.slice(r)),r<i&&f(e))}c.push(n)}return g(c)}function b(e,t){var r=0,o=t.length>0,a=e.length>0,s=function(i,s,l,p,c){var u,d,f,h=[],g=0,m="0",v=i&&[],b=null!=c,y=C,w=i||a&&A.find.TAG("*",c&&s.parentNode||s),T=U+=null==y?1:Math.random()||.1;for(b&&(C=s!==R&&s,E=r);null!=(u=w[m]);m++){if(a&&u){for(d=0;f=e[d++];)if(f(u,s,l)){p.push(u);break}b&&(U=T,E=++r)}o&&((u=!f&&u)&&g--,i&&v.push(u))}if(g+=m,o&&m!==g){for(d=0;f=t[d++];)f(v,h,s,l);if(i){if(g>0)for(;m--;)v[m]||h[m]||(h[m]=Z.call(p));h=_(h)}ee.apply(p,h),b&&!i&&h.length>0&&g+t.length>1&&n.uniqueSort(p)}return b&&(U=T,C=y),v};return o?i(s):s}function y(e,t,r){for(var i=0,o=t.length;i<o;i++)n(e,t[i],r);return r}function w(e,t,n,r){var i,o,a,s,l,p=d(e);if(!r&&1===p.length){if(o=p[0]=p[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&P.getById&&9===t.nodeType&&M&&A.relative[o[1].type]){if(t=(A.find.ID(a.matches[0].replace(Pe,Ee),t)||[])[0],!t)return n;e=e.slice(o.shift().value.length)}for(i=me.needsContext.test(e)?0:o.length;i--&&(a=o[i],!A.relative[s=a.type]);)if((l=A.find[s])&&(r=l(a.matches[0].replace(Pe,Ee),fe.test(o[0].type)&&t.parentNode||t))){if(o.splice(i,1),e=r.length&&f(o),!e)return ee.apply(n,r),n;break}}return x(e,p)(r,t,!M,n,fe.test(e)),n}var T,P,E,A,k,S,x,C,L,O,R,I,M,N,D,z,F,G="sizzle"+-new Date,H=e.document,U=0,W=0,j=r(),q=r(),B=r(),V=!1,$=function(e,t){return e===t?(V=!0,0):0},Y=typeof t,K=1<<31,X={}.hasOwnProperty,Q=[],Z=Q.pop,J=Q.push,ee=Q.push,te=Q.slice,ne=Q.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},re="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",ae="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",se=ae.replace("w","w#"),le="\\["+ie+"*("+ae+")"+ie+"*(?:([*^$|!~]?=)"+ie+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+se+")|)|)"+ie+"*\\]",pe=":("+ae+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+le.replace(3,8)+")*)|.*)\\)|)",ce=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),ue=new RegExp("^"+ie+"*,"+ie+"*"),de=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),fe=new RegExp(ie+"*[+~]"),he=new RegExp("="+ie+"*([^\\]'\"]*)"+ie+"*\\]","g"),ge=new RegExp(pe),_e=new RegExp("^"+se+"$"),me={ID:new RegExp("^#("+ae+")"),CLASS:new RegExp("^\\.("+ae+")"),TAG:new RegExp("^("+ae.replace("w","w*")+")"),ATTR:new RegExp("^"+le),PSEUDO:new RegExp("^"+pe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+re+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},ve=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/^(?:input|select|textarea|button)$/i,we=/^h\d$/i,Te=/'|\\/g,Pe=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),Ee=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{ee.apply(Q=te.call(H.childNodes),H.childNodes),Q[H.childNodes.length].nodeType}catch(e){ee={apply:Q.length?function(e,t){J.apply(e,te.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}S=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},P=n.support={},O=n.setDocument=function(e){var t=e?e.ownerDocument||e:H,n=t.defaultView;return t!==R&&9===t.nodeType&&t.documentElement?(R=t,I=t.documentElement,M=!S(t),n&&n.attachEvent&&n!==n.top&&n.attachEvent("onbeforeunload",function(){O()}),P.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),P.getElementsByTagName=o(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),P.getElementsByClassName=o(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),P.getById=o(function(e){return I.appendChild(e).id=G,!t.getElementsByName||!t.getElementsByName(G).length}),P.getById?(A.find.ID=function(e,t){if(typeof t.getElementById!==Y&&M){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},A.filter.ID=function(e){var t=e.replace(Pe,Ee);return function(e){return e.getAttribute("id")===t}}):(delete A.find.ID,A.filter.ID=function(e){var t=e.replace(Pe,Ee);return function(e){var n=typeof e.getAttributeNode!==Y&&e.getAttributeNode("id");return n&&n.value===t}}),A.find.TAG=P.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==Y)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},A.find.CLASS=P.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!==Y&&M)return t.getElementsByClassName(e)},D=[],N=[],(P.qsa=ve.test(t.querySelectorAll))&&(o(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||N.push("\\["+ie+"*(?:value|"+re+")"),e.querySelectorAll(":checked").length||N.push(":checked")}),o(function(e){var n=t.createElement("input");n.setAttribute("type","hidden"),e.appendChild(n).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&N.push("[*^$]="+ie+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),N.push(",.*:")})),(P.matchesSelector=ve.test(z=I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&o(function(e){P.disconnectedMatch=z.call(e,"div"),z.call(e,"[s!='']:x"),D.push("!=",pe)}),N=N.length&&new RegExp(N.join("|")),D=D.length&&new RegExp(D.join("|")),F=ve.test(I.contains)||I.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},$=I.compareDocumentPosition?function(e,n){if(e===n)return V=!0,0;var r=n.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(n);return r?1&r||!P.sortDetached&&n.compareDocumentPosition(e)===r?e===t||F(H,e)?-1:n===t||F(H,n)?1:L?ne.call(L,e)-ne.call(L,n):0:4&r?-1:1:e.compareDocumentPosition?-1:1}:function(e,n){var r,i=0,o=e.parentNode,a=n.parentNode,l=[e],p=[n];if(e===n)return V=!0,0;if(!o||!a)return e===t?-1:n===t?1:o?-1:a?1:L?ne.call(L,e)-ne.call(L,n):0;if(o===a)return s(e,n);for(r=e;r=r.parentNode;)l.unshift(r);for(r=n;r=r.parentNode;)p.unshift(r);for(;l[i]===p[i];)i++;return i?s(l[i],p[i]):l[i]===H?-1:p[i]===H?1:0},t):R},n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){if((e.ownerDocument||e)!==R&&O(e),t=t.replace(he,"='$1']"),P.matchesSelector&&M&&(!D||!D.test(t))&&(!N||!N.test(t)))try{var r=z.call(e,t);if(r||P.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return n(t,R,null,[e]).length>0},n.contains=function(e,t){return(e.ownerDocument||e)!==R&&O(e),F(e,t)},n.attr=function(e,n){(e.ownerDocument||e)!==R&&O(e);var r=A.attrHandle[n.toLowerCase()],i=r&&X.call(A.attrHandle,n.toLowerCase())?r(e,n,!M):t;return i===t?P.attributes||!M?e.getAttribute(n):(i=e.getAttributeNode(n))&&i.specified?i.value:null:i},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},n.uniqueSort=function(e){var t,n=[],r=0,i=0;if(V=!P.detectDuplicates,L=!P.sortStable&&e.slice(0),e.sort($),V){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return e},k=n.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=k(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=k(t);return n},A=n.selectors={cacheLength:50,createPseudo:i,match:me,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Pe,Ee),e[3]=(e[4]||e[5]||"").replace(Pe,Ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||n.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&n.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&&e[2];return me.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&ge.test(r)&&(n=d(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Pe,Ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=j[e+" "];return t||(t=new RegExp("(^|"+ie+")"+e+"("+ie+"|$)"))&&j(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==Y&&e.getAttribute("class")||"")})},ATTR:function(e,t,r){return function(i){var o=n.attr(i,e);return null==o?"!="===t:!t||(o+="","="===t?o===r:"!="===t?o!==r:"^="===t?r&&0===o.indexOf(r):"*="===t?r&&o.indexOf(r)>-1:"$="===t?r&&o.slice(-r.length)===r:"~="===t?(" "+o+" ").indexOf(r)>-1:"|="===t&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var p,c,u,d,f,h,g=o!==a?"nextSibling":"previousSibling",_=t.parentNode,m=s&&t.nodeName.toLowerCase(),v=!l&&!s;if(_){if(o){for(;g;){for(u=t;u=u[g];)if(s?u.nodeName.toLowerCase()===m:1===u.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?_.firstChild:_.lastChild],a&&v){for(c=_[G]||(_[G]={}),p=c[e]||[],f=p[0]===U&&p[1],d=p[0]===U&&p[2],u=f&&_.childNodes[f];u=++f&&u&&u[g]||(d=f=0)||h.pop();)if(1===u.nodeType&&++d&&u===t){c[e]=[U,f,d];break}}else if(v&&(p=(t[G]||(t[G]={}))[e])&&p[0]===U)d=p[1];else for(;(u=++f&&u&&u[g]||(d=f=0)||h.pop())&&((s?u.nodeName.toLowerCase()!==m:1!==u.nodeType)||!++d||(v&&((u[G]||(u[G]={}))[e]=[U,d]),u!==t)););return d-=i,d===r||d%r===0&&d/r>=0}}},PSEUDO:function(e,t){var r,o=A.pseudos[e]||A.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return o[G]?o(t):o.length>1?(r=[e,e,"",t],A.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,n){for(var r,i=o(e,t),a=i.length;a--;)r=ne.call(e,i[a]),e[r]=!(n[r]=i[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=x(e.replace(ce,"$1"));return r[G]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:i(function(e){return function(t){return n(e,t).length>0}}),contains:i(function(e){return function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:i(function(e){return _e.test(e||"")||n.error("unsupported lang: "+e),e=e.replace(Pe,Ee).toLowerCase(),function(t){var n;do if(n=M?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===I},focus:function(e){return e===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!A.pseudos.empty(e);
},header:function(e){return we.test(e.nodeName)},input:function(e){return ye.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[n<0?n+t:n]}),even:c(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:c(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},A.pseudos.nth=A.pseudos.eq;for(T in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})A.pseudos[T]=l(T);for(T in{submit:!0,reset:!0})A.pseudos[T]=p(T);u.prototype=A.filters=A.pseudos,A.setFilters=new u,x=n.compile=function(e,t){var n,r=[],i=[],o=B[e+" "];if(!o){for(t||(t=d(e)),n=t.length;n--;)o=v(t[n]),o[G]?r.push(o):i.push(o);o=B(e,b(i,r))}return o},P.sortStable=G.split("").sort($).join("")===G,P.detectDuplicates=V,O(),P.sortDetached=o(function(e){return 1&e.compareDocumentPosition(R.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),P.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||a(re,function(e,t,n){var r;if(!n)return(r=e.getAttributeNode(t))&&r.specified?r.value:e[t]===!0?t.toLowerCase():null}),oe.find=n,oe.expr=n.selectors,oe.expr[":"]=oe.expr.pseudos,oe.unique=n.uniqueSort,oe.text=n.getText,oe.isXMLDoc=n.isXML,oe.contains=n.contains}(e);var he={};oe.Callbacks=function(e){e="string"==typeof e?he[e]||r(e):oe.extend({},e);var n,i,o,a,s,l,p=[],c=!e.once&&[],u=function(t){for(n=e.memory&&t,i=!0,l=a||0,a=0,s=p.length,o=!0;p&&l<s;l++)if(p[l].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}o=!1,p&&(c?c.length&&u(c.shift()):n?p=[]:d.disable())},d={add:function(){if(p){var t=p.length;!function t(n){oe.each(n,function(n,r){var i=oe.type(r);"function"===i?e.unique&&d.has(r)||p.push(r):r&&r.length&&"string"!==i&&t(r)})}(arguments),o?s=p.length:n&&(a=t,u(n))}return this},remove:function(){return p&&oe.each(arguments,function(e,t){for(var n;(n=oe.inArray(t,p,n))>-1;)p.splice(n,1),o&&(n<=s&&s--,n<=l&&l--)}),this},has:function(e){return e?oe.inArray(e,p)>-1:!(!p||!p.length)},empty:function(){return p=[],s=0,this},disable:function(){return p=c=n=t,this},disabled:function(){return!p},lock:function(){return c=t,n||d.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!p||i&&!c||(t=t||[],t=[e,t.slice?t.slice():t],o?c.push(t):u(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},oe.extend({Deferred:function(e){var t=[["resolve","done",oe.Callbacks("once memory"),"resolved"],["reject","fail",oe.Callbacks("once memory"),"rejected"],["notify","progress",oe.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return oe.Deferred(function(n){oe.each(t,function(t,o){var a=o[0],s=oe.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&oe.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?oe.extend(e,r):r}},i={};return r.pipe=r.then,oe.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=ee.call(arguments),a=o.length,s=1!==a||e&&oe.isFunction(e.promise)?a:0,l=1===s?e:oe.Deferred(),p=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?ee.call(arguments):i,r===t?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);i<a;i++)o[i]&&oe.isFunction(o[i].promise)?o[i].promise().done(p(i,r,o)).fail(l.reject).progress(p(i,n,t)):--s;return s||l.resolveWith(r,o),l.promise()}}),oe.support=function(t){var n=B.createElement("input"),r=B.createDocumentFragment(),i=B.createElement("div"),o=B.createElement("select"),a=o.appendChild(B.createElement("option"));return n.type?(n.type="checkbox",t.checkOn=""!==n.value,t.optSelected=a.selected,t.reliableMarginRight=!0,t.boxSizingReliable=!0,t.pixelPosition=!1,n.checked=!0,t.noCloneChecked=n.cloneNode(!0).checked,o.disabled=!0,t.optDisabled=!a.disabled,n=B.createElement("input"),n.value="t",n.type="radio",t.radioValue="t"===n.value,n.setAttribute("checked","t"),n.setAttribute("name","t"),r.appendChild(n),t.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,t.focusinBubbles="onfocusin"in e,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===i.style.backgroundClip,oe(function(){var n,r,o="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",a=B.getElementsByTagName("body")[0];a&&(n=B.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(i),i.innerHTML="",i.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",oe.swap(a,null!=a.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===i.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(i,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(i,null)||{width:"4px"}).width,r=i.appendChild(B.createElement("div")),r.style.cssText=i.style.cssText=o,r.style.marginRight=r.style.width="0",i.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),a.removeChild(n))}),t):t}({});var ge,_e,me=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,ve=/([A-Z])/g;i.uid=1,i.accepts=function(e){return!e.nodeType||(1===e.nodeType||9===e.nodeType)},i.prototype={key:function(e){if(!i.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=i.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,oe.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(oe.isEmptyObject(o))oe.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,n){var r=this.cache[this.key(e)];return n===t?r:r[n]},access:function(e,n,r){var i;return n===t||n&&"string"==typeof n&&r===t?(i=this.get(e,n),i!==t?i:this.get(e,oe.camelCase(n))):(this.set(e,n,r),r!==t?r:n)},remove:function(e,n){var r,i,o,a=this.key(e),s=this.cache[a];if(n===t)this.cache[a]={};else{oe.isArray(n)?i=n.concat(n.map(oe.camelCase)):(o=oe.camelCase(n),n in s?i=[n,o]:(i=o,i=i in s?[i]:i.match(se)||[])),r=i.length;for(;r--;)delete s[i[r]]}},hasData:function(e){return!oe.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}},ge=new i,_e=new i,oe.extend({acceptData:i.accepts,hasData:function(e){return ge.hasData(e)||_e.hasData(e)},data:function(e,t,n){return ge.access(e,t,n)},removeData:function(e,t){ge.remove(e,t)},_data:function(e,t,n){return _e.access(e,t,n)},_removeData:function(e,t){_e.remove(e,t)}}),oe.fn.extend({data:function(e,n){var r,i,a=this[0],s=0,l=null;if(e===t){if(this.length&&(l=ge.get(a),1===a.nodeType&&!_e.get(a,"hasDataAttrs"))){for(r=a.attributes;s<r.length;s++)i=r[s].name,0===i.indexOf("data-")&&(i=oe.camelCase(i.slice(5)),o(a,i,l[i]));_e.set(a,"hasDataAttrs",!0)}return l}return"object"==typeof e?this.each(function(){ge.set(this,e)}):oe.access(this,function(n){var r,i=oe.camelCase(e);if(a&&n===t){if(r=ge.get(a,e),r!==t)return r;if(r=ge.get(a,i),r!==t)return r;if(r=o(a,i,t),r!==t)return r}else this.each(function(){var r=ge.get(this,i);ge.set(this,i,n),e.indexOf("-")!==-1&&r!==t&&ge.set(this,e,n)})},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ge.remove(this,e)})}}),oe.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=_e.get(e,t),n&&(!r||oe.isArray(n)?r=_e.access(e,t,oe.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=oe.queue(e,t),r=n.length,i=n.shift(),o=oe._queueHooks(e,t),a=function(){oe.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return _e.get(e,n)||_e.access(e,n,{empty:oe.Callbacks("once memory").add(function(){_e.remove(e,[t+"queue",n])})})}}),oe.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),arguments.length<r?oe.queue(this[0],e):n===t?this:this.each(function(){var t=oe.queue(this,e,n);oe._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&oe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){oe.dequeue(this,e)})},delay:function(e,t){return e=oe.fx?oe.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=oe.Deferred(),a=this,s=this.length,l=function(){--i||o.resolveWith(a,[a])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)r=_e.get(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(l));return l(),o.promise(n)}});var be,ye,we=/[\t\r\n\f]/g,Te=/\r/g,Pe=/^(?:input|select|textarea|button)$/i;oe.fn.extend({attr:function(e,t){return oe.access(this,oe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){oe.removeAttr(this,e)})},prop:function(e,t){return oe.access(this,oe.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[oe.propFix[e]||e]})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,l="string"==typeof e&&e;if(oe.isFunction(e))return this.each(function(t){oe(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(se)||[];a<s;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(we," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");n.className=oe.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(oe.isFunction(e))return this.each(function(t){oe(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(se)||[];a<s;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(we," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");n.className=e?oe.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):oe.isFunction(e)?this.each(function(n){oe(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,r=0,i=oe(this),o=e.match(se)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else n!==j&&"boolean"!==n||(this.className&&_e.set(this,"__className__",this.className),this.className=this.className||e===!1?"":_e.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(we," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,o=this[0];{if(arguments.length)return i=oe.isFunction(e),this.each(function(r){var o;1===this.nodeType&&(o=i?e.call(this,r,oe(this).val()):e,null==o?o="":"number"==typeof o?o+="":oe.isArray(o)&&(o=oe.map(o,function(e){return null==e?"":e+""})),n=oe.valHooks[this.type]||oe.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))});if(o)return n=oe.valHooks[o.type]||oe.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(o,"value"))!==t?r:(r=o.value,"string"==typeof r?r.replace(Te,""):null==r?"":r)}}}),oe.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,l=i<0?s:o?i:0;l<s;l++)if(n=r[l],(n.selected||l===i)&&(oe.support.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!oe.nodeName(n.parentNode,"optgroup"))){if(t=oe(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=oe.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=oe.inArray(oe(r).val(),o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}},attr:function(e,n,r){var i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return typeof e.getAttribute===j?oe.prop(e,n,r):(1===a&&oe.isXMLDoc(e)||(n=n.toLowerCase(),i=oe.attrHooks[n]||(oe.expr.match.bool.test(n)?ye:be)),r===t?i&&"get"in i&&null!==(o=i.get(e,n))?o:(o=oe.find.attr(e,n),null==o?t:o):null!==r?i&&"set"in i&&(o=i.set(e,r,n))!==t?o:(e.setAttribute(n,r+""),r):void oe.removeAttr(e,n))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(se);if(o&&1===e.nodeType)for(;n=o[i++];)r=oe.propFix[n]||n,oe.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!oe.support.radioValue&&"radio"===t&&oe.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{for:"htmlFor",class:"className"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!oe.isXMLDoc(e),a&&(n=oe.propFix[n]||n,o=oe.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||Pe.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),ye={set:function(e,t,n){return t===!1?oe.removeAttr(e,n):e.setAttribute(n,n),n}},oe.each(oe.expr.match.bool.source.match(/\w+/g),function(e,n){var r=oe.expr.attrHandle[n]||oe.find.attr;oe.expr.attrHandle[n]=function(e,n,i){var o=oe.expr.attrHandle[n],a=i?t:(oe.expr.attrHandle[n]=t)!=r(e,n,i)?n.toLowerCase():null;return oe.expr.attrHandle[n]=o,a}}),oe.support.optSelected||(oe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),oe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){oe.propFix[this.toLowerCase()]=this}),oe.each(["radio","checkbox"],function(){oe.valHooks[this]={set:function(e,t){if(oe.isArray(t))return e.checked=oe.inArray(oe(e).val(),t)>=0}},oe.support.checkOn||(oe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Ee=/^key/,Ae=/^(?:mouse|contextmenu)|click/,ke=/^(?:focusinfocus|focusoutblur)$/,Se=/^([^.]*)(?:\.(.+)|)$/;oe.event={global:{},add:function(e,n,r,i,o){var a,s,l,p,c,u,d,f,h,g,_,m=_e.get(e);if(m){for(r.handler&&(a=r,r=a.handler,o=a.selector),r.guid||(r.guid=oe.guid++),(p=m.events)||(p=m.events={}),(s=m.handle)||(s=m.handle=function(e){return typeof oe===j||e&&oe.event.triggered===e.type?t:oe.event.dispatch.apply(s.elem,arguments)},s.elem=e),n=(n||"").match(se)||[""],c=n.length;c--;)l=Se.exec(n[c])||[],h=_=l[1],g=(l[2]||"").split(".").sort(),h&&(d=oe.event.special[h]||{},h=(o?d.delegateType:d.bindType)||h,d=oe.event.special[h]||{},u=oe.extend({type:h,origType:_,data:i,handler:r,guid:r.guid,selector:o,needsContext:o&&oe.expr.match.needsContext.test(o),namespace:g.join(".")},a),(f=p[h])||(f=p[h]=[],f.delegateCount=0,d.setup&&d.setup.call(e,i,g,s)!==!1||e.addEventListener&&e.addEventListener(h,s,!1)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=r.guid)),o?f.splice(f.delegateCount++,0,u):f.push(u),oe.event.global[h]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,l,p,c,u,d,f,h,g,_=_e.hasData(e)&&_e.get(e);if(_&&(l=_.events)){for(t=(t||"").match(se)||[""],p=t.length;p--;)if(s=Se.exec(t[p])||[],f=g=s[1],h=(s[2]||"").split(".").sort(),f){for(u=oe.event.special[f]||{},f=(r?u.delegateType:u.bindType)||f,d=l[f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)c=d[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,u.remove&&u.remove.call(e,c));a&&!d.length&&(u.teardown&&u.teardown.call(e,h,_.handle)!==!1||oe.removeEvent(e,f,_.handle),delete l[f])}else for(f in l)oe.event.remove(e,f+t[p],n,r,!0);oe.isEmptyObject(l)&&(delete _.handle,_e.remove(e,"events"))}},trigger:function(n,r,i,o){var a,s,l,p,c,u,d,f=[i||B],h=re.call(n,"type")?n.type:n,g=re.call(n,"namespace")?n.namespace.split("."):[];if(s=l=i=i||B,3!==i.nodeType&&8!==i.nodeType&&!ke.test(h+oe.event.triggered)&&(h.indexOf(".")>=0&&(g=h.split("."),h=g.shift(),g.sort()),c=h.indexOf(":")<0&&"on"+h,n=n[oe.expando]?n:new oe.Event(h,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=g.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:oe.makeArray(r,[n]),d=oe.event.special[h]||{},o||!d.trigger||d.trigger.apply(i,r)!==!1)){if(!o&&!d.noBubble&&!oe.isWindow(i)){for(p=d.delegateType||h,ke.test(p+h)||(s=s.parentNode);s;s=s.parentNode)f.push(s),l=s;l===(i.ownerDocument||B)&&f.push(l.defaultView||l.parentWindow||e)}for(a=0;(s=f[a++])&&!n.isPropagationStopped();)n.type=a>1?p:d.bindType||h,u=(_e.get(s,"events")||{})[n.type]&&_e.get(s,"handle"),u&&u.apply(s,r),u=c&&s[c],u&&oe.acceptData(s)&&u.apply&&u.apply(s,r)===!1&&n.preventDefault();return n.type=h,o||n.isDefaultPrevented()||d._default&&d._default.apply(f.pop(),r)!==!1||!oe.acceptData(i)||c&&oe.isFunction(i[h])&&!oe.isWindow(i)&&(l=i[c],l&&(i[c]=null),oe.event.triggered=h,i[h](),oe.event.triggered=t,l&&(i[c]=l)),n.result}},dispatch:function(e){e=oe.event.fix(e);var n,r,i,o,a,s=[],l=ee.call(arguments),p=(_e.get(this,"events")||{})[e.type]||[],c=oe.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(s=oe.event.handlers.call(this,e,p),n=0;(o=s[n++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,r=0;(a=o.handlers[r++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(a.namespace)||(e.handleObj=a,e.data=a.data,i=((oe.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,l),i!==t&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],l=n.delegateCount,p=e.target;if(l&&p.nodeType&&(!e.button||"click"!==e.type))for(;p!==this;p=p.parentNode||this)if(p.disabled!==!0||"click"!==e.type){for(i=[],r=0;r<l;r++)a=n[r],o=a.selector+" ",i[o]===t&&(i[o]=a.needsContext?oe(o,this).index(p)>=0:oe.find(o,this,null,[p]).length),i[o]&&i.push(a);i.length&&s.push({elem:p,handlers:i})}return l<n.length&&s.push({elem:this,handlers:n.slice(l)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,a=n.button;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||B,i=r.documentElement,o=r.body,e.pageX=n.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[oe.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Ae.test(i)?this.mouseHooks:Ee.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new oe.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=B),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==l()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===l()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&oe.nodeName(this,"input"))return this.click(),!1},_default:function(e){return oe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=oe.extend(new oe.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?oe.event.trigger(i,null,t):oe.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},oe.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},oe.Event=function(e,t){return this instanceof oe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.getPreventDefault&&e.getPreventDefault()?a:s):this.type=e,t&&oe.extend(this,t),this.timeStamp=e&&e.timeStamp||oe.now(),void(this[oe.expando]=!0)):new oe.Event(e,t)},oe.Event.prototype={isDefaultPrevented:s,isPropagationStopped:s,isImmediatePropagationStopped:s,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=a,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=a,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=a,this.stopPropagation()}},oe.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){oe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||oe.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),oe.support.focusinBubbles||oe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){oe.event.simulate(t,e.target,oe.event.fix(e),!0)};oe.event.special[t]={setup:function(){0===n++&&B.addEventListener(e,r,!0)},teardown:function(){0===--n&&B.removeEventListener(e,r,!0)}}}),oe.fn.extend({on:function(e,n,r,i,o){var a,l;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(l in e)this.on(l,n,r,e[l],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=s;else if(!i)return this;return 1===o&&(a=i,i=function(e){return oe().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=oe.guid++)),this.each(function(){oe.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,oe(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return n!==!1&&"function"!=typeof n||(r=n,n=t),r===!1&&(r=s),this.each(function(){oe.event.remove(this,e,r,n)})},trigger:function(e,t){return this.each(function(){oe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return oe.event.trigger(e,t,n,!0)}});var xe=/^.[^:#\[\.,]*$/,Ce=/^(?:parents|prev(?:Until|All))/,Le=oe.expr.match.needsContext,Oe={children:!0,contents:!0,next:!0,prev:!0};oe.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(oe(e).filter(function(){for(t=0;t<i;t++)if(oe.contains(r[t],this))return!0}));for(t=0;t<i;t++)oe.find(e,r[t],n);return n=this.pushStack(i>1?oe.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t=oe(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(oe.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(c(this,e||[],!0))},filter:function(e){return this.pushStack(c(this,e||[],!1))},is:function(e){return!!c(this,"string"==typeof e&&Le.test(e)?oe(e):e||[],!1).length},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=Le.test(e)||"string"!=typeof e?oe(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&oe.find.matchesSelector(n,e))){n=o.push(n);break}return this.pushStack(o.length>1?oe.unique(o):o)},index:function(e){return e?"string"==typeof e?te.call(oe(e),this[0]):te.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?oe(e,t):oe.makeArray(e&&e.nodeType?[e]:e),r=oe.merge(this.get(),n);return this.pushStack(oe.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),oe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return oe.dir(e,"parentNode")},parentsUntil:function(e,t,n){return oe.dir(e,"parentNode",n)},next:function(e){return p(e,"nextSibling")},prev:function(e){return p(e,"previousSibling")},nextAll:function(e){return oe.dir(e,"nextSibling")},prevAll:function(e){return oe.dir(e,"previousSibling")},nextUntil:function(e,t,n){return oe.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return oe.dir(e,"previousSibling",n)},siblings:function(e){return oe.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return oe.sibling(e.firstChild)},contents:function(e){return e.contentDocument||oe.merge([],e.childNodes)}},function(e,t){oe.fn[e]=function(n,r){var i=oe.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=oe.filter(r,i)),this.length>1&&(Oe[e]||oe.unique(i),Ce.test(e)&&i.reverse()),this.pushStack(i)}}),oe.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?oe.find.matchesSelector(r,e)?[r]:[]:oe.find.matches(e,oe.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,r){for(var i=[],o=r!==t;(e=e[n])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&oe(e).is(r))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ie=/<([\w:]+)/,Me=/<|&#?\w+;/,Ne=/<(?:script|style|link)/i,De=/^(?:checkbox|radio)$/i,ze=/checked\s*(?:[^=]|=\s*.checked.)/i,Fe=/^$|\/(?:java|ecma)script/i,Ge=/^true\/(.*)/,He=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ue={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ue.optgroup=Ue.option,Ue.tbody=Ue.tfoot=Ue.colgroup=Ue.caption=Ue.thead,Ue.th=Ue.td,oe.fn.extend({text:function(e){return oe.access(this,function(e){return e===t?oe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||B).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=u(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=u(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?oe.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||oe.cleanData(_(n)),n.parentNode&&(t&&oe.contains(n.ownerDocument,n)&&h(_(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(oe.cleanData(_(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return oe.clone(this,e,t)})},html:function(e){return oe.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t&&1===n.nodeType)return n.innerHTML;if("string"==typeof e&&!Ne.test(e)&&!Ue[(Ie.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Re,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},1===n.nodeType&&(oe.cleanData(_(n,!1)),n.innerHTML=e);n=0}catch(e){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=oe.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),oe(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=Z.apply([],e);var r,i,o,a,s,l,p=0,c=this.length,u=this,h=c-1,g=e[0],m=oe.isFunction(g);if(m||!(c<=1||"string"!=typeof g||oe.support.checkClone)&&ze.test(g))return this.each(function(r){var i=u.eq(r);m&&(e[0]=g.call(this,r,i.html())),i.domManip(e,t,n)});if(c&&(r=oe.buildFragment(e,this[0].ownerDocument,!1,!n&&this),i=r.firstChild,1===r.childNodes.length&&(r=i),i)){for(o=oe.map(_(r,"script"),d),a=o.length;p<c;p++)s=r,p!==h&&(s=oe.clone(s,!0,!0),a&&oe.merge(o,_(s,"script"))),t.call(this[p],s,p);if(a)for(l=o[o.length-1].ownerDocument,oe.map(o,f),p=0;p<a;p++)s=o[p],Fe.test(s.type||"")&&!_e.access(s,"globalEval")&&oe.contains(l,s)&&(s.src?oe._evalUrl(s.src):oe.globalEval(s.textContent.replace(He,"")))}return this}}),oe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){oe.fn[e]=function(e){for(var n,r=[],i=oe(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),oe(i[a])[t](n),J.apply(r,n.get());return this.pushStack(r)}}),oe.extend({clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),l=oe.contains(e.ownerDocument,e);if(!(oe.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||oe.isXMLDoc(e)))for(a=_(s),o=_(e),r=0,i=o.length;r<i;r++)m(o[r],a[r]);if(t)if(n)for(o=o||_(e),a=a||_(s),r=0,i=o.length;r<i;r++)g(o[r],a[r]);else g(e,s);return a=_(s,"script"),a.length>0&&h(a,!l&&_(e,"script")),s},buildFragment:function(e,t,n,r){for(var i,o,a,s,l,p,c=0,u=e.length,d=t.createDocumentFragment(),f=[];c<u;c++)if(i=e[c],i||0===i)if("object"===oe.type(i))oe.merge(f,i.nodeType?[i]:i);else if(Me.test(i)){for(o=o||d.appendChild(t.createElement("div")),a=(Ie.exec(i)||["",""])[1].toLowerCase(),s=Ue[a]||Ue._default,o.innerHTML=s[1]+i.replace(Re,"<$1></$2>")+s[2],p=s[0];p--;)o=o.lastChild;oe.merge(f,o.childNodes),o=d.firstChild,o.textContent=""}else f.push(t.createTextNode(i));for(d.textContent="",c=0;i=f[c++];)if((!r||oe.inArray(i,r)===-1)&&(l=oe.contains(i.ownerDocument,i),o=_(d.appendChild(i),"script"),l&&h(o),n))for(p=0;i=o[p++];)Fe.test(i.type||"")&&n.push(i);return d},cleanData:function(e){for(var n,r,o,a,s,l,p=oe.event.special,c=0;(r=e[c])!==t;c++){if(i.accepts(r)&&(s=r[_e.expando],s&&(n=_e.cache[s]))){if(o=Object.keys(n.events||{}),o.length)for(l=0;(a=o[l])!==t;l++)p[a]?oe.event.remove(r,a):oe.removeEvent(r,a,n.handle);_e.cache[s]&&delete _e.cache[s]}delete ge.cache[r[ge.expando]]}},_evalUrl:function(e){return oe.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})}}),oe.fn.extend({wrapAll:function(e){var t;return oe.isFunction(e)?this.each(function(t){oe(this).wrapAll(e.call(this,t))}):(this[0]&&(t=oe(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return oe.isFunction(e)?this.each(function(t){
oe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=oe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=oe.isFunction(e);return this.each(function(n){oe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){oe.nodeName(this,"body")||oe(this).replaceWith(this.childNodes)}).end()}});var We,je,qe=/^(none|table(?!-c[ea]).+)/,Be=/^margin/,Ve=new RegExp("^("+ae+")(.*)$","i"),$e=new RegExp("^("+ae+")(?!px)[a-z%]+$","i"),Ye=new RegExp("^([+-])=("+ae+")","i"),Ke={BODY:"block"},Xe={position:"absolute",visibility:"hidden",display:"block"},Qe={letterSpacing:0,fontWeight:400},Ze=["Top","Right","Bottom","Left"],Je=["Webkit","O","Moz","ms"];oe.fn.extend({css:function(e,n){return oe.access(this,function(e,n,r){var i,o,a={},s=0;if(oe.isArray(n)){for(i=y(e),o=n.length;s<o;s++)a[n[s]]=oe.css(e,n[s],!1,i);return a}return r!==t?oe.style(e,n,r):oe.css(e,n)},e,n,arguments.length>1)},show:function(){return w(this,!0)},hide:function(){return w(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){b(this)?oe(this).show():oe(this).hide()})}}),oe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=We(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,model:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=oe.camelCase(n),p=e.style;return n=oe.cssProps[l]||(oe.cssProps[l]=v(p,l)),s=oe.cssHooks[n]||oe.cssHooks[l],r===t?s&&"get"in s&&(o=s.get(e,!1,i))!==t?o:p[n]:(a=typeof r,"string"===a&&(o=Ye.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(oe.css(e,n)),a="number"),null==r||"number"===a&&isNaN(r)||("number"!==a||oe.cssNumber[l]||(r+="px"),oe.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(p[n]="inherit"),s&&"set"in s&&(r=s.set(e,r,i))===t||(p[n]=r)),void 0)}},css:function(e,n,r,i){var o,a,s,l=oe.camelCase(n);return n=oe.cssProps[l]||(oe.cssProps[l]=v(e.style,l)),s=oe.cssHooks[n]||oe.cssHooks[l],s&&"get"in s&&(o=s.get(e,!0,r)),o===t&&(o=We(e,n,i)),"normal"===o&&n in Qe&&(o=Qe[n]),""===r||r?(a=parseFloat(o),r===!0||oe.isNumeric(a)?a||0:o):o}}),We=function(e,n,r){var i,o,a,s=r||y(e),l=s?s.getPropertyValue(n)||s[n]:t,p=e.style;return s&&(""!==l||oe.contains(e.ownerDocument,e)||(l=oe.style(e,n)),$e.test(l)&&Be.test(n)&&(i=p.width,o=p.minWidth,a=p.maxWidth,p.minWidth=p.maxWidth=p.width=l,l=s.width,p.width=i,p.minWidth=o,p.maxWidth=a)),l},oe.each(["height","width"],function(e,t){oe.cssHooks[t]={get:function(e,n,r){if(n)return 0===e.offsetWidth&&qe.test(oe.css(e,"display"))?oe.swap(e,Xe,function(){return E(e,t,r)}):E(e,t,r)},set:function(e,n,r){var i=r&&y(e);return T(e,n,r?P(e,t,r,oe.support.boxSizing&&"border-box"===oe.css(e,"boxSizing",!1,i),i):0)}}}),oe(function(){oe.support.reliableMarginRight||(oe.cssHooks.marginRight={get:function(e,t){if(t)return oe.swap(e,{display:"inline-block"},We,[e,"marginRight"])}}),!oe.support.pixelPosition&&oe.fn.position&&oe.each(["top","left"],function(e,t){oe.cssHooks[t]={get:function(e,n){if(n)return n=We(e,t),$e.test(n)?oe(e).position()[t]+"px":n}}})}),oe.expr&&oe.expr.filters&&(oe.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},oe.expr.filters.visible=function(e){return!oe.expr.filters.hidden(e)}),oe.each({margin:"",padding:"",border:"Width"},function(e,t){oe.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Ze[r]+t]=o[r]||o[r-2]||o[0];return i}},Be.test(e)||(oe.cssHooks[e+t].set=T)});var et=/%20/g,tt=/\[\]$/,nt=/\r?\n/g,rt=/^(?:submit|button|image|reset|file)$/i,it=/^(?:input|select|textarea|keygen)/i;oe.fn.extend({serialize:function(){return oe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=oe.prop(this,"elements");return e?oe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!oe(this).is(":disabled")&&it.test(this.nodeName)&&!rt.test(e)&&(this.checked||!De.test(e))}).map(function(e,t){var n=oe(this).val();return null==n?null:oe.isArray(n)?oe.map(n,function(e){return{name:t.name,value:e.replace(nt,"\r\n")}}):{name:t.name,value:n.replace(nt,"\r\n")}}).get()}}),oe.param=function(e,n){var r,i=[],o=function(e,t){t=oe.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=oe.ajaxSettings&&oe.ajaxSettings.traditional),oe.isArray(e)||e.jquery&&!oe.isPlainObject(e))oe.each(e,function(){o(this.name,this.value)});else for(r in e)S(r,e[r],n,o);return i.join("&").replace(et,"+")},oe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){oe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),oe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var ot,at,st=oe.now(),lt=/\?/,pt=/#.*$/,ct=/([?&])_=[^&]*/,ut=/^(.*?):[ \t]*([^\r\n]*)$/gm,dt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ft=/^(?:GET|HEAD)$/,ht=/^\/\//,gt=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,_t=oe.fn.load,mt={},vt={},bt="*/".concat("*");try{at=q.href}catch(e){at=B.createElement("a"),at.href="",at=at.href}ot=gt.exec(at.toLowerCase())||[],oe.fn.load=function(e,n,r){if("string"!=typeof e&&_t)return _t.apply(this,arguments);var i,o,a,s=this,l=e.indexOf(" ");return l>=0&&(i=e.slice(l),e=e.slice(0,l)),oe.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(o="POST"),s.length>0&&oe.ajax({url:e,type:o,dataType:"html",data:n}).done(function(e){a=arguments,s.html(i?oe("<div>").append(oe.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,a||[e.responseText,t,e])}),this},oe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){oe.fn[t]=function(e){return this.on(t,e)}}),oe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:at,type:"GET",isLocal:dt.test(ot[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":oe.parseJSON,"text xml":oe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?L(L(e,oe.ajaxSettings),t):L(oe.ajaxSettings,e)},ajaxPrefilter:x(mt),ajaxTransport:x(vt),ajax:function(e,n){function r(e,n,r,s){var p,u,v,b,w,P=n;2!==y&&(y=2,l&&clearTimeout(l),i=t,a=s||"",T.readyState=e>0?4:0,p=e>=200&&e<300||304===e,r&&(b=O(d,T,r)),b=R(d,b,T,p),p?(d.ifModified&&(w=T.getResponseHeader("Last-Modified"),w&&(oe.lastModified[o]=w),w=T.getResponseHeader("etag"),w&&(oe.etag[o]=w)),204===e||"HEAD"===d.type?P="nocontent":304===e?P="notmodified":(P=b.state,u=b.data,v=b.error,p=!v)):(v=P,!e&&P||(P="error",e<0&&(e=0))),T.status=e,T.statusText=(n||P)+"",p?g.resolveWith(f,[u,P,T]):g.rejectWith(f,[T,P,v]),T.statusCode(m),m=t,c&&h.trigger(p?"ajaxSuccess":"ajaxError",[T,d,p?u:v]),_.fireWith(f,[T,P]),c&&(h.trigger("ajaxComplete",[T,d]),--oe.active||oe.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var i,o,a,s,l,p,c,u,d=oe.ajaxSetup({},n),f=d.context||d,h=d.context&&(f.nodeType||f.jquery)?oe(f):oe.event,g=oe.Deferred(),_=oe.Callbacks("once memory"),m=d.statusCode||{},v={},b={},y=0,w="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!s)for(s={};t=ut.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=b[n]=b[n]||e,v[e]=t),this},overrideMimeType:function(e){return y||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(y<2)for(t in e)m[t]=[m[t],e[t]];else T.always(e[T.status]);return this},abort:function(e){var t=e||w;return i&&i.abort(t),r(0,t),this}};if(g.promise(T).complete=_.add,T.success=T.done,T.error=T.fail,d.url=((e||d.url||at)+"").replace(pt,"").replace(ht,ot[1]+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=oe.trim(d.dataType||"*").toLowerCase().match(se)||[""],null==d.crossDomain&&(p=gt.exec(d.url.toLowerCase()),d.crossDomain=!(!p||p[1]===ot[1]&&p[2]===ot[2]&&(p[3]||("http:"===p[1]?"80":"443"))===(ot[3]||("http:"===ot[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=oe.param(d.data,d.traditional)),C(mt,d,n,T),2===y)return T;c=d.global,c&&0===oe.active++&&oe.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!ft.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(lt.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=ct.test(o)?o.replace(ct,"$1_="+st++):o+(lt.test(o)?"&":"?")+"_="+st++)),d.ifModified&&(oe.lastModified[o]&&T.setRequestHeader("If-Modified-Since",oe.lastModified[o]),oe.etag[o]&&T.setRequestHeader("If-None-Match",oe.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&T.setRequestHeader("Content-Type",d.contentType),T.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+bt+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)T.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(d.beforeSend.call(f,T,d)===!1||2===y))return T.abort();w="abort";for(u in{success:1,error:1,complete:1})T[u](d[u]);if(i=C(vt,d,n,T)){T.readyState=1,c&&h.trigger("ajaxSend",[T,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){T.abort("timeout")},d.timeout));try{y=1,i.send(v,r)}catch(e){if(!(y<2))throw e;r(-1,e)}}else r(-1,"No Transport");return T},getJSON:function(e,t,n){return oe.get(e,t,n,"json")},getScript:function(e,n){return oe.get(e,t,n,"script")}}),oe.each(["get","post"],function(e,n){oe[n]=function(e,r,i,o){return oe.isFunction(r)&&(o=o||i,i=r,r=t),oe.ajax({url:e,type:n,dataType:o,data:r,success:i})}}),oe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return oe.globalEval(e),e}}}),oe.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),oe.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=oe("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),B.head.appendChild(t[0])},abort:function(){n&&n()}}}});var yt=[],wt=/(=)\?(?=&|$)|\?\?/;oe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=yt.pop()||oe.expando+"_"+st++;return this[e]=!0,e}}),oe.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,l=n.jsonp!==!1&&(wt.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&wt.test(n.data)&&"data");if(l||"jsonp"===n.dataTypes[0])return o=n.jsonpCallback=oe.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(wt,"$1"+o):n.jsonp!==!1&&(n.url+=(lt.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||oe.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,yt.push(o)),s&&oe.isFunction(a)&&a(s[0]),s=a=t}),"script"}),oe.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Tt=oe.ajaxSettings.xhr(),Pt={0:200,1223:204},Et=0,At={};e.ActiveXObject&&oe(e).on("unload",function(){for(var e in At)At[e]();At=t}),oe.support.cors=!!Tt&&"withCredentials"in Tt,oe.support.ajax=Tt=!!Tt,oe.ajaxTransport(function(e){var n;if(oe.support.cors||Tt&&!e.crossDomain)return{send:function(r,i){var o,a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)s[o]=e.xhrFields[o];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(o in r)s.setRequestHeader(o,r[o]);n=function(e){return function(){n&&(delete At[a],n=s.onload=s.onerror=null,"abort"===e?s.abort():"error"===e?i(s.status||404,s.statusText):i(Pt[s.status]||s.status,s.statusText,"string"==typeof s.responseText?{text:s.responseText}:t,s.getAllResponseHeaders()))}},s.onload=n(),s.onerror=n("error"),n=At[a=Et++]=n("abort"),s.send(e.hasContent&&e.data||null)},abort:function(){n&&n()}}});var kt,St,xt=/^(?:toggle|show|hide)$/,Ct=new RegExp("^(?:([+-])=|)("+ae+")([a-z%]*)$","i"),Lt=/queueHooks$/,Ot=[z],Rt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Ct.exec(t),o=i&&i[3]||(oe.cssNumber[e]?"":"px"),a=(oe.cssNumber[e]||"px"!==o&&+r)&&Ct.exec(oe.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,oe.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};oe.Animation=oe.extend(N,{tweener:function(e,t){oe.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;r<i;r++)n=e[r],Rt[n]=Rt[n]||[],Rt[n].unshift(t)},prefilter:function(e,t){t?Ot.unshift(e):Ot.push(e)}}),oe.Tween=F,F.prototype={constructor:F,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(oe.cssNumber[n]?"":"px")},cur:function(){var e=F.propHooks[this.prop];return e&&e.get?e.get(this):F.propHooks._default.get(this)},run:function(e){var t,n=F.propHooks[this.prop];return this.options.duration?this.pos=t=oe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):F.propHooks._default.set(this),this}},F.prototype.init.prototype=F.prototype,F.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=oe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){oe.fx.step[e.prop]?oe.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[oe.cssProps[e.prop]]||oe.cssHooks[e.prop])?oe.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},oe.each(["toggle","show","hide"],function(e,t){var n=oe.fn[t];oe.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(G(t,!0),e,r,i)}}),oe.fn.extend({fadeTo:function(e,t,n,r){return this.filter(b).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=oe.isEmptyObject(e),o=oe.speed(t,n,r),a=function(){var t=N(this,oe.extend({},e),o);(i||_e.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=oe.timers,a=_e.get(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&Lt.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));!t&&r||oe.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=_e.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=oe.timers,a=r?r.length:0;for(n.finish=!0,oe.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),oe.each({slideDown:G("show"),slideUp:G("hide"),slideToggle:G("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){oe.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),oe.speed=function(e,t,n){var r=e&&"object"==typeof e?oe.extend({},e):{complete:n||!n&&t||oe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!oe.isFunction(t)&&t};return r.duration=oe.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in oe.fx.speeds?oe.fx.speeds[r.duration]:oe.fx.speeds._default,null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){oe.isFunction(r.old)&&r.old.call(this),r.queue&&oe.dequeue(this,r.queue)},r},oe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},oe.timers=[],oe.fx=F.prototype.init,oe.fx.tick=function(){var e,n=oe.timers,r=0;for(kt=oe.now();r<n.length;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||oe.fx.stop(),kt=t},oe.fx.timer=function(e){e()&&oe.timers.push(e)&&oe.fx.start()},oe.fx.interval=13,oe.fx.start=function(){St||(St=setInterval(oe.fx.tick,oe.fx.interval))},oe.fx.stop=function(){clearInterval(St),St=null},oe.fx.speeds={slow:600,fast:200,_default:400},oe.fx.step={},oe.expr&&oe.expr.filters&&(oe.expr.filters.animated=function(e){return oe.grep(oe.timers,function(t){return e===t.elem}).length}),oe.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){oe.offset.setOffset(this,e,t)});var n,r,i=this[0],o={top:0,left:0},a=i&&i.ownerDocument;if(a)return n=a.documentElement,oe.contains(n,i)?(typeof i.getBoundingClientRect!==j&&(o=i.getBoundingClientRect()),r=H(a),{top:o.top+r.pageYOffset-n.clientTop,left:o.left+r.pageXOffset-n.clientLeft}):o},oe.offset={setOffset:function(e,t,n){var r,i,o,a,s,l,p,c=oe.css(e,"position"),u=oe(e),d={};"static"===c&&(e.style.position="relative"),s=u.offset(),o=oe.css(e,"top"),l=oe.css(e,"left"),p=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,p?(r=u.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),oe.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):u.css(d)}},oe.fn.extend({position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===oe.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),oe.nodeName(e[0],"html")||(r=e.offset()),r.top+=oe.css(e[0],"borderTopWidth",!0),r.left+=oe.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-oe.css(n,"marginTop",!0),left:t.left-r.left-oe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||V;e&&!oe.nodeName(e,"html")&&"static"===oe.css(e,"position");)e=e.offsetParent;return e||V})}}),oe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,r){var i="pageYOffset"===r;oe.fn[n]=function(o){return oe.access(this,function(n,o,a){var s=H(n);return a===t?s?s[r]:n[o]:void(s?s.scrollTo(i?e.pageXOffset:a,i?a:e.pageYOffset):n[o]=a)},n,o,arguments.length,null)}}),oe.each({Height:"height",Width:"width"},function(e,n){oe.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){oe.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return oe.access(this,function(n,r,i){var o;return oe.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?oe.css(n,r,s):oe.style(n,r,i,s)},n,a?i:t,a,null)}})}),oe.fn.size=function(){return this.length},oe.fn.andSelf=oe.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=oe:"function"==typeof define&&define.amd&&define("jquery",[],function(){return oe}),"object"==typeof e&&"object"==typeof e.document&&(e.jQuery=e.$=oe)}(window),function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,o=Function.prototype,a=r.push,s=r.slice,l=r.concat,p=i.toString,c=i.hasOwnProperty,u=r.forEach,d=r.map,f=r.reduce,h=r.reduceRight,g=r.filter,_=r.every,m=r.some,v=r.indexOf,b=r.lastIndexOf,y=Array.isArray,w=Object.keys,T=o.bind,P=function(e){return e instanceof P?e:this instanceof P?void(this._wrapped=e):new P(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=P),exports._=P):e._=P,P.VERSION="1.5.2";var E=P.each=P.forEach=function(e,t,r){if(null!=e)if(u&&e.forEach===u)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,o=e.length;i<o;i++)if(t.call(r,e[i],i,e)===n)return}else for(var a=P.keys(e),i=0,o=a.length;i<o;i++)if(t.call(r,e[a[i]],a[i],e)===n)return};P.map=P.collect=function(e,t,n){var r=[];return null==e?r:d&&e.map===d?e.map(t,n):(E(e,function(e,i,o){r.push(t.call(n,e,i,o))}),r)};var A="Reduce of empty array with no initial value";P.reduce=P.foldl=P.inject=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),f&&e.reduce===f)return r&&(t=P.bind(t,r)),i?e.reduce(t,n):e.reduce(t);if(E(e,function(e,o,a){i?n=t.call(r,n,e,o,a):(n=e,i=!0)}),!i)throw new TypeError(A);return n},P.reduceRight=P.foldr=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),h&&e.reduceRight===h)return r&&(t=P.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var o=e.length;if(o!==+o){var a=P.keys(e);o=a.length}if(E(e,function(s,l,p){l=a?a[--o]:--o,i?n=t.call(r,n,e[l],l,p):(n=e[l],i=!0)}),!i)throw new TypeError(A);return n},P.find=P.detect=function(e,t,n){var r;return k(e,function(e,i,o){if(t.call(n,e,i,o))return r=e,!0}),r},P.filter=P.select=function(e,t,n){var r=[];return null==e?r:g&&e.filter===g?e.filter(t,n):(E(e,function(e,i,o){t.call(n,e,i,o)&&r.push(e)}),r)},P.reject=function(e,t,n){return P.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},P.every=P.all=function(e,t,r){t||(t=P.identity);var i=!0;return null==e?i:_&&e.every===_?e.every(t,r):(E(e,function(e,o,a){if(!(i=i&&t.call(r,e,o,a)))return n}),!!i)};var k=P.some=P.any=function(e,t,r){t||(t=P.identity);var i=!1;return null==e?i:m&&e.some===m?e.some(t,r):(E(e,function(e,o,a){if(i||(i=t.call(r,e,o,a)))return n}),!!i)};P.contains=P.include=function(e,t){return null!=e&&(v&&e.indexOf===v?e.indexOf(t)!=-1:k(e,function(e){return e===t}))},P.invoke=function(e,t){var n=s.call(arguments,2),r=P.isFunction(t);return P.map(e,function(e){return(r?t:e[t]).apply(e,n)})},P.pluck=function(e,t){return P.map(e,function(e){return e[t]})},P.where=function(e,t,n){return P.isEmpty(t)?n?void 0:[]:P[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},P.findWhere=function(e,t){return P.where(e,t,!0)},P.max=function(e,t,n){if(!t&&P.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&P.isEmpty(e))return-(1/0);var r={computed:-(1/0),value:-(1/0)};return E(e,function(e,i,o){var a=t?t.call(n,e,i,o):e;a>r.computed&&(r={value:e,computed:a})}),r.value},P.min=function(e,t,n){if(!t&&P.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&P.isEmpty(e))return 1/0;var r={computed:1/0,value:1/0};return E(e,function(e,i,o){var a=t?t.call(n,e,i,o):e;a<r.computed&&(r={value:e,computed:a})}),r.value},P.shuffle=function(e){var t,n=0,r=[];return E(e,function(e){t=P.random(n++),r[n-1]=r[t],r[t]=e}),r},P.sample=function(e,t,n){return arguments.length<2||n?e[P.random(e.length-1)]:P.shuffle(e).slice(0,Math.max(0,t))};var S=function(e){return P.isFunction(e)?e:function(t){return t[e]}};P.sortBy=function(e,t,n){var r=S(t);return P.pluck(P.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")};var x=function(e){return function(t,n,r){var i={},o=null==n?P.identity:S(n);return E(t,function(n,a){var s=o.call(r,n,a,t);e(i,s,n)}),i}};P.groupBy=x(function(e,t,n){(P.has(e,t)?e[t]:e[t]=[]).push(n)}),P.indexBy=x(function(e,t,n){e[t]=n}),P.countBy=x(function(e,t){P.has(e,t)?e[t]++:e[t]=1}),P.sortedIndex=function(e,t,n,r){n=null==n?P.identity:S(n);for(var i=n.call(r,t),o=0,a=e.length;o<a;){var s=o+a>>>1;n.call(r,e[s])<i?o=s+1:a=s}return o},P.toArray=function(e){return e?P.isArray(e)?s.call(e):e.length===+e.length?P.map(e,P.identity):P.values(e):[]},P.size=function(e){return null==e?0:e.length===+e.length?e.length:P.keys(e).length},P.first=P.head=P.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:s.call(e,0,t)},P.initial=function(e,t,n){return s.call(e,0,e.length-(null==t||n?1:t))},P.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:s.call(e,Math.max(e.length-t,0))},P.rest=P.tail=P.drop=function(e,t,n){return s.call(e,null==t||n?1:t)},P.compact=function(e){return P.filter(e,P.identity)};var C=function(e,t,n){return t&&P.every(e,P.isArray)?l.apply(n,e):(E(e,function(e){P.isArray(e)||P.isArguments(e)?t?a.apply(n,e):C(e,t,n):n.push(e)}),n)};P.flatten=function(e,t){return C(e,t,[])},P.without=function(e){return P.difference(e,s.call(arguments,1))},P.uniq=P.unique=function(e,t,n,r){P.isFunction(t)&&(r=n,n=t,t=!1);var i=n?P.map(e,n,r):e,o=[],a=[];return E(i,function(n,r){(t?r&&a[a.length-1]===n:P.contains(a,n))||(a.push(n),o.push(e[r]))}),o},P.union=function(){return P.uniq(P.flatten(arguments,!0))},P.intersection=function(e){var t=s.call(arguments,1);return P.filter(P.uniq(e),function(e){return P.every(t,function(t){return P.indexOf(t,e)>=0})})},P.difference=function(e){var t=l.apply(r,s.call(arguments,1));return P.filter(e,function(e){return!P.contains(t,e)})},P.zip=function(){for(var e=P.max(P.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;n<e;n++)t[n]=P.pluck(arguments,""+n);return t},P.object=function(e,t){if(null==e)return{};for(var n={},r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},P.indexOf=function(e,t,n){if(null==e)return-1;var r=0,i=e.length;if(n){if("number"!=typeof n)return r=P.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(v&&e.indexOf===v)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},P.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=null!=n;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var i=r?n:e.length;i--;)if(e[i]===t)return i;return-1},P.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=0,o=new Array(r);i<r;)o[i++]=e,e+=n;return o};var L=function(){};P.bind=function(e,t){var n,r;if(T&&e.bind===T)return T.apply(e,s.call(arguments,1));if(!P.isFunction(e))throw new TypeError;return n=s.call(arguments,2),r=function(){if(!(this instanceof r))return e.apply(t,n.concat(s.call(arguments)));L.prototype=e.prototype;var i=new L;L.prototype=null;var o=e.apply(i,n.concat(s.call(arguments)));return Object(o)===o?o:i}},P.partial=function(e){var t=s.call(arguments,1);return function(){return e.apply(this,t.concat(s.call(arguments)))}},P.bindAll=function(e){var t=s.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return E(t,function(t){e[t]=P.bind(e[t],e)}),e},P.memoize=function(e,t){var n={};return t||(t=P.identity),function(){var r=t.apply(this,arguments);return P.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},P.delay=function(e,t){var n=s.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},P.defer=function(e){return P.delay.apply(P,[e,1].concat(s.call(arguments,1)))},P.throttle=function(e,t,n){var r,i,o,a=null,s=0;n||(n={});var l=function(){s=n.leading===!1?0:new Date,a=null,o=e.apply(r,i)};return function(){var p=new Date;s||n.leading!==!1||(s=p);var c=t-(p-s);return r=this,i=arguments,c<=0?(clearTimeout(a),a=null,s=p,o=e.apply(r,i)):a||n.trailing===!1||(a=setTimeout(l,c)),o}},P.debounce=function(e,t,n){var r,i,o,a,s;return function(){o=this,i=arguments,a=new Date;var l=function(){var p=new Date-a;p<t?r=setTimeout(l,t-p):(r=null,n||(s=e.apply(o,i)))},p=n&&!r;return r||(r=setTimeout(l,t)),p&&(s=e.apply(o,i)),s}},P.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},P.wrap=function(e,t){return function(){var n=[e];return a.apply(n,arguments),t.apply(this,n)}},P.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},P.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},P.keys=w||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)P.has(e,n)&&t.push(n);return t},P.values=function(e){for(var t=P.keys(e),n=t.length,r=new Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},P.pairs=function(e){for(var t=P.keys(e),n=t.length,r=new Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},P.invert=function(e){for(var t={},n=P.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},P.functions=P.methods=function(e){var t=[];for(var n in e)P.isFunction(e[n])&&t.push(n);return t.sort()},P.extend=function(e){return E(s.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},P.pick=function(e){var t={},n=l.apply(r,s.call(arguments,1));return E(n,function(n){n in e&&(t[n]=e[n])}),t},P.omit=function(e){var t={},n=l.apply(r,s.call(arguments,1));for(var i in e)P.contains(n,i)||(t[i]=e[i]);return t},P.defaults=function(e){return E(s.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},P.clone=function(e){return P.isObject(e)?P.isArray(e)?e.slice():P.extend({},e):e},P.tap=function(e,t){return t(e),e};var O=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof P&&(e=e._wrapped),t instanceof P&&(t=t._wrapped);var i=p.call(e);if(i!=p.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=n.length;o--;)if(n[o]==e)return r[o]==t;var a=e.constructor,s=t.constructor;if(a!==s&&!(P.isFunction(a)&&a instanceof a&&P.isFunction(s)&&s instanceof s))return!1;n.push(e),r.push(t);var l=0,c=!0;if("[object Array]"==i){if(l=e.length,c=l==t.length)for(;l--&&(c=O(e[l],t[l],n,r)););}else{for(var u in e)if(P.has(e,u)&&(l++,!(c=P.has(t,u)&&O(e[u],t[u],n,r))))break;if(c){for(u in t)if(P.has(t,u)&&!l--)break;c=!l}}return n.pop(),r.pop(),c};P.isEqual=function(e,t){return O(e,t,[],[])},P.isEmpty=function(e){if(null==e)return!0;if(P.isArray(e)||P.isString(e))return 0===e.length;for(var t in e)if(P.has(e,t))return!1;return!0},P.isElement=function(e){return!(!e||1!==e.nodeType)},P.isArray=y||function(e){return"[object Array]"==p.call(e)},P.isObject=function(e){return e===Object(e)},E(["Arguments","Function","String","Number","Date","RegExp"],function(e){P["is"+e]=function(t){return p.call(t)=="[object "+e+"]"}}),P.isArguments(arguments)||(P.isArguments=function(e){return!(!e||!P.has(e,"callee"))}),"function"!=typeof/./&&(P.isFunction=function(e){return"function"==typeof e}),P.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},P.isNaN=function(e){return P.isNumber(e)&&e!=+e},P.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==p.call(e)},P.isNull=function(e){return null===e},P.isUndefined=function(e){return void 0===e},P.has=function(e,t){return c.call(e,t)},P.noConflict=function(){return e._=t,this},P.identity=function(e){return e},P.times=function(e,t,n){for(var r=Array(Math.max(0,e)),i=0;i<e;i++)r[i]=t.call(n,i);return r},P.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var R={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};R.unescape=P.invert(R.escape);var I={escape:new RegExp("["+P.keys(R.escape).join("")+"]","g"),unescape:new RegExp("("+P.keys(R.unescape).join("|")+")","g")
};P.each(["escape","unescape"],function(e){P[e]=function(t){return null==t?"":(""+t).replace(I[e],function(t){return R[e][t]})}}),P.result=function(e,t){if(null!=e){var n=e[t];return P.isFunction(n)?n.call(e):n}},P.mixin=function(e){E(P.functions(e),function(t){var n=P[t]=e[t];P.prototype[t]=function(){var e=[this._wrapped];return a.apply(e,arguments),F.call(this,n.apply(P,e))}})};var M=0;P.uniqueId=function(e){var t=++M+"";return e?e+t:t},P.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/,D={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},z=/\\|'|\r|\n|\t|\u2028|\u2029/g;P.template=function(e,t,n){var r;n=P.defaults({},n,P.templateSettings);var i=new RegExp([(n.escape||N).source,(n.interpolate||N).source,(n.evaluate||N).source].join("|")+"|$","g"),o=0,a="__p+='";e.replace(i,function(t,n,r,i,s){return a+=e.slice(o,s).replace(z,function(e){return"\\"+D[e]}),n&&(a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(a+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(a+="';\n"+i+"\n__p+='"),o=s+t.length,t}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(n.variable||"obj","_",a)}catch(e){throw e.source=a,e}if(t)return r(t,P);var s=function(e){return r.call(this,e,P)};return s.source="function("+(n.variable||"obj")+"){\n"+a+"}",s},P.chain=function(e){return P(e).chain()};var F=function(e){return this._chain?P(e).chain():e};P.mixin(P),E(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];P.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],F.call(this,n)}}),E(["concat","join","slice"],function(e){var t=r[e];P.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),P.extend(P.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),define("underscore",function(e){return function(){var t;return t||e._}}(this)),function(){var e,t=this,n=t.Backbone,r=[],i=r.push,o=r.slice,a=r.splice;e="undefined"!=typeof exports?exports:t.Backbone={},e.VERSION="1.0.0";var s=t._;s||"undefined"==typeof require||(s=require("underscore")),e.$=t.jQuery||t.Zepto||t.ender||t.$,e.noConflict=function(){return t.Backbone=n,this},e.emulateHTTP=!1,e.emulateJSON=!1;var l=e.Events={on:function(e,t,n){if(!c(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!c(this,"once",e,[t,n])||!t)return this;var r=this,i=s.once(function(){r.off(e,i),t.apply(this,arguments)});return i._callback=t,this.on(e,i,n)},off:function(e,t,n){var r,i,o,a,l,p,u,d;if(!this._events||!c(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(a=e?[e]:s.keys(this._events),l=0,p=a.length;l<p;l++)if(e=a[l],o=this._events[e]){if(this._events[e]=r=[],t||n)for(u=0,d=o.length;u<d;u++)i=o[u],(t&&t!==i.callback&&t!==i.callback._callback||n&&n!==i.context)&&r.push(i);r.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=o.call(arguments,1);if(!c(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&u(n,t),r&&u(r,arguments),this},stopListening:function(e,t,n){var r=this._listeners;if(!r)return this;var i=!t&&!n;"object"==typeof t&&(n=this),e&&((r={})[e._listenerId]=e);for(var o in r)r[o].off(t,n,this),i&&delete this._listeners[o];return this}},p=/\s+/,c=function(e,t,n,r){if(!n)return!0;if("object"==typeof n){for(var i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(p.test(n)){for(var o=n.split(p),a=0,s=o.length;a<s;a++)e[t].apply(e,[o[a]].concat(r));return!1}return!0},u=function(e,t){var n,r=-1,i=e.length,o=t[0],a=t[1],s=t[2];switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,a);return;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,a,s);return;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t)}},d={listenTo:"on",listenToOnce:"once"};s.each(d,function(e,t){l[t]=function(t,n,r){var i=this._listeners||(this._listeners={}),o=t._listenerId||(t._listenerId=s.uniqueId("l"));return i[o]=t,"object"==typeof n&&(r=this),t[e](n,r,this),this}}),l.bind=l.on,l.unbind=l.off,s.extend(e,l);var f=e.Model=function(e,t){var n,r=e||{};t||(t={}),this.cid=s.uniqueId("c"),this.attributes={},s.extend(this,s.pick(t,h)),t.parse&&(r=this.parse(r,t)||{}),(n=s.result(this,"defaults"))&&(r=s.defaults({},r,n)),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)},h=["url","urlRoot","collection"];s.extend(f.prototype,l,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return s.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return s.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,n){var r,i,o,a,l,p,c,u;if(null==e)return this;if("object"==typeof e?(i=e,n=t):(i={})[e]=t,n||(n={}),!this._validate(i,n))return!1;o=n.unset,l=n.silent,a=[],p=this._changing,this._changing=!0,p||(this._previousAttributes=s.clone(this.attributes),this.changed={}),u=this.attributes,c=this._previousAttributes,this.idAttribute in i&&(this.id=i[this.idAttribute]);for(r in i)t=i[r],s.isEqual(u[r],t)||a.push(r),s.isEqual(c[r],t)?delete this.changed[r]:this.changed[r]=t,o?delete u[r]:u[r]=t;if(!l){a.length&&(this._pending=!0);for(var d=0,f=a.length;d<f;d++)this.trigger("change:"+a[d],this,u[a[d]],n)}if(p)return this;if(!l)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,s.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,s.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!s.isEmpty(this.changed):s.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&s.clone(this.changed);var t,n=!1,r=this._changing?this._previousAttributes:this.attributes;for(var i in e)s.isEqual(r[i],t=e[i])||((n||(n={}))[i]=t);return n},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return s.clone(this._previousAttributes)},fetch:function(e){e=e?s.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,n=e.success;return e.success=function(r){return!!t.set(t.parse(r,e),e)&&(n&&n(t,r,e),void t.trigger("sync",t,r,e))},z(this,e),this.sync("read",this,e)},save:function(e,t,n){var r,i,o,a=this.attributes;if(null==e||"object"==typeof e?(r=e,n=t):(r={})[e]=t,r&&(!n||!n.wait)&&!this.set(r,n))return!1;if(n=s.extend({validate:!0},n),!this._validate(r,n))return!1;r&&n.wait&&(this.attributes=s.extend({},a,r)),void 0===n.parse&&(n.parse=!0);var l=this,p=n.success;return n.success=function(e){l.attributes=a;var t=l.parse(e,n);return n.wait&&(t=s.extend(r||{},t)),!(s.isObject(t)&&!l.set(t,n))&&(p&&p(l,e,n),void l.trigger("sync",l,e,n))},z(this,n),i=this.isNew()?"create":n.patch?"patch":"update","patch"===i&&(n.attrs=r),o=this.sync(i,this,n),r&&n.wait&&(this.attributes=a),o},destroy:function(e){e=e?s.clone(e):{};var t=this,n=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(i){(e.wait||t.isNew())&&r(),n&&n(t,i,e),t.isNew()||t.trigger("sync",t,i,e)},this.isNew())return e.success(),!1;z(this,e);var i=this.sync("delete",this,e);return e.wait||r(),i},url:function(){var e=s.result(this,"urlRoot")||s.result(this.collection,"url")||D();return this.isNew()?e:e+("/"===e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(e){return this._validate({},s.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=s.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return!n||(this.trigger("invalid",this,n,s.extend(t||{},{validationError:n})),!1)}});var g=["keys","values","pairs","invert","pick","omit"];s.each(g,function(e){f.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.attributes),s[e].apply(s,t)}});var _=e.Collection=function(e,t){t||(t={}),t.url&&(this.url=t.url),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,s.extend({silent:!0},t))},m={add:!0,remove:!0,merge:!0},v={add:!0,merge:!1,remove:!1};s.extend(_.prototype,l,{model:f,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return e.sync.apply(this,arguments)},add:function(e,t){return this.set(e,s.defaults(t||{},v))},remove:function(e,t){e=s.isArray(e)?e.slice():[e],t||(t={});var n,r,i,o;for(n=0,r=e.length;n<r;n++)o=this.get(e[n]),o&&(delete this._byId[o.id],delete this._byId[o.cid],i=this.indexOf(o),this.models.splice(i,1),this.length--,t.silent||(t.index=i,o.trigger("remove",o,this,t)),this._removeReference(o));return this},set:function(e,t){t=s.defaults(t||{},m),t.parse&&(e=this.parse(e,t)),s.isArray(e)||(e=e?[e]:[]);var n,r,o,l,p,c=t.at,u=this.comparator&&null==c&&t.sort!==!1,d=s.isString(this.comparator)?this.comparator:null,f=[],h=[],g={};for(n=0,r=e.length;n<r;n++)(o=this._prepareModel(e[n],t))&&((l=this.get(o))?(t.remove&&(g[l.cid]=!0),t.merge&&(l.set(o.attributes,t),u&&!p&&l.hasChanged(d)&&(p=!0))):t.add&&(f.push(o),o.on("all",this._onModelEvent,this),this._byId[o.cid]=o,null!=o.id&&(this._byId[o.id]=o)));if(t.remove){for(n=0,r=this.length;n<r;++n)g[(o=this.models[n]).cid]||h.push(o);h.length&&this.remove(h,t)}if(f.length&&(u&&(p=!0),this.length+=f.length,null!=c?a.apply(this.models,[c,0].concat(f)):i.apply(this.models,f)),p&&this.sort({silent:!0}),t.silent)return this;for(n=0,r=f.length;n<r;n++)(o=f[n]).trigger("add",o,this,t);return p&&this.trigger("sort",this,t),this},reset:function(e,t){t||(t={});for(var n=0,r=this.models.length;n<r;n++)this._removeReference(this.models[n]);return t.previousModels=this.models,this._reset(),this.add(e,s.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,s.extend({at:this.length},t)),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,s.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(e,t){return this.models.slice(e,t)},get:function(e){if(null!=e)return this._byId[null!=e.id?e.id:e.cid||e]},at:function(e){return this.models[e]},where:function(e,t){return s.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),s.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(s.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},sortedIndex:function(e,t,n){t||(t=this.comparator);var r=s.isFunction(t)?t:function(e){return e.get(t)};return s.sortedIndex(this.models,e,r,n)},pluck:function(e){return s.invoke(this.models,"get",e)},fetch:function(e){e=e?s.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,n=this;return e.success=function(r){var i=e.reset?"reset":"set";n[i](r,e),t&&t(n,r,e),n.trigger("sync",n,r,e)},z(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?s.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,r=t.success;return t.success=function(i){t.wait&&n.add(e,t),r&&r(e,i,t)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof f)return e.collection||(e.collection=this),e;t||(t={}),t.collection=this;var n=new this.model(e,t);return n._validate(e,t)?n:(this.trigger("invalid",this,e,t),!1)},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var b=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];s.each(b,function(e){_.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.models),s[e].apply(s,t)}});var y=["groupBy","countBy","sortBy"];s.each(y,function(e){_.prototype[e]=function(t,n){var r=s.isFunction(t)?t:function(e){return e.get(t)};return s[e](this.models,r,n)}});var w=e.View=function(e){this.cid=s.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},T=/^(\S+)\s*(.*)$/,P=["model","collection","el","id","attributes","className","tagName","events"];s.extend(w.prototype,l,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,n){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=s.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var n=e[t];if(s.isFunction(n)||(n=this[e[t]]),n){var r=t.match(T),i=r[1],o=r[2];n=s.bind(n,this),i+=".delegateEvents"+this.cid,""===o?this.$el.on(i,n):this.$el.on(i,o,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(e){this.options&&(e=s.extend({},s.result(this,"options"),e)),s.extend(this,s.pick(e,P)),this.options=e},_ensureElement:function(){if(this.el)this.setElement(s.result(this,"el"),!1);else{var t=s.extend({},s.result(this,"attributes"));this.id&&(t.id=s.result(this,"id")),this.className&&(t.class=s.result(this,"className"));var n=e.$("<"+s.result(this,"tagName")+">").attr(t);this.setElement(n,!1)}}}),e.sync=function(t,n,r){var i=E[t];s.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var o={type:i,dataType:"json"};if(r.url||(o.url=s.result(n,"url")||D()),null!=r.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(r.attrs||n.toJSON(r))),r.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),r.emulateHTTP&&("PUT"===i||"DELETE"===i||"PATCH"===i)){o.type="POST",r.emulateJSON&&(o.data._method=i);var a=r.beforeSend;r.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",i),a)return a.apply(this,arguments)}}"GET"===o.type||r.emulateJSON||(o.processData=!1),"PATCH"!==o.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=r.xhr=e.ajax(s.extend(o,r));return n.trigger("request",n,l,r),l};var E={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var A=e.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},k=/\((.*?)\)/g,S=/(\(\?)?:\w+/g,x=/\*\w+/g,C=/[\-{}\[\]+?.,\\\^$|#\s]/g;s.extend(A.prototype,l,{initialize:function(){},route:function(t,n,r){s.isRegExp(t)||(t=this._routeToRegExp(t)),s.isFunction(n)&&(r=n,n=""),r||(r=this[n]);var i=this;return e.history.route(t,function(o){var a=i._extractParameters(t,o);r&&r.apply(i,a),i.trigger.apply(i,["route:"+n].concat(a)),i.trigger("route",n,a),e.history.trigger("route",i,n,a)}),this},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=s.result(this,"routes");for(var e,t=s.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(C,"\\$&").replace(k,"(?:$1)?").replace(S,function(e,t){return t?e:"([^/]+)"}).replace(x,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return s.map(n,function(e){return e?decodeURIComponent(e):null})}});var L=e.History=function(){this.handlers=[],s.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},O=/^[#\/]|\s+$/g,R=/^\/+|\/+$/g,I=/msie [\w.]+/,M=/\/$/;L.started=!1,s.extend(L.prototype,l,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(M,"");e.indexOf(n)||(e=e.substr(n.length))}else e=this.getHash();return e.replace(O,"")},start:function(t){if(L.started)throw new Error("Backbone.history has already been started");L.started=!0,this.options=s.extend({},{root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),r=document.documentMode,i=I.exec(navigator.userAgent.toLowerCase())&&(!r||r<=7);this.root=("/"+this.root+"/").replace(R,"/"),i&&this._wantsHashChange&&(this.iframe=e.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(n)),this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!i?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var o=this.location,a=o.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!a?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&a&&o.hash&&(this.fragment=this.getHash().replace(O,""),this.history.replaceState({},document.title,this.root+this.fragment+o.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),L.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t!==this.fragment&&(this.iframe&&this.navigate(t),void(this.loadUrl()||this.loadUrl(this.getHash())))},loadUrl:function(e){var t=this.fragment=this.getFragment(e),n=s.any(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0});return n},navigate:function(e,t){if(!L.started)return!1;if(t&&t!==!0||(t={trigger:t}),e=this.getFragment(e||""),this.fragment!==e){this.fragment=e;var n=this.root+e;if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}t.trigger&&this.loadUrl(e)}},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),e.history=new L;var N=function(e,t){var n,r=this;n=e&&s.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)},s.extend(n,r,t);var i=function(){this.constructor=n};return i.prototype=r.prototype,n.prototype=new i,e&&s.extend(n.prototype,e),n.__super__=r.prototype,n};f.extend=_.extend=A.extend=w.extend=L.extend=N;var D=function(){throw new Error('A "url" property or function must be specified')},z=function(e,t){var n=t.error;t.error=function(r){n&&n(e,r,t),e.trigger("error",e,r,t)}}}.call(this),define("backbone",["underscore","jquery"],function(e){return function(){var t;return t||e.Backbone}}(this)),function(e,t){"use strict";var n=e.Backbone;return"function"==typeof define&&define.amd?define("backbone.layout",["backbone","underscore","jquery"],function(){return t.apply(e,arguments)}):void(n.Layout=t.call(e,n,e._,n.$))}("object"==typeof global?global:this,function(e,t,n){"use strict";var r=this,i=e.View,o=Array.prototype.push,a=Array.prototype.concat,s=Array.prototype.splice,l=String.prototype.trim?t.bind(String.prototype.trim.call,String.prototype.trim):n.trim,p=e.View.extend({_render:function(){var e=this,t=e.__manager__,n=e.beforeRender,r=e.deferred();return e.hasRendered&&e._removeViews(),t.callback=function(){delete t.isAsync,delete t.callback,e.trigger("beforeRender",e),e._viewRender(t).render().then(function(){r.resolve()})},n&&n.call(e,e),t.isAsync||t.callback(),r.promise()},_applyTemplate:function(e,r,i){t.isString(e)&&(r.noel?(e=n.parseHTML(e,!0),this.$el.slice(1).remove(),this.$el.replaceWith(e),this.setElement(e,!1)):this.html(this.$el,e)),i.resolveWith(this,[this])},_viewRender:function(e){function n(t,n){var i;e.callback=function(t){delete e.isAsync,delete e.callback,a._applyTemplate(t,e,o)},p.cache(r,n),n&&(i=a.renderTemplate.call(a,n,t)),e.isAsync||a._applyTemplate(i,e,o)}var r,i,o,a=this;return{render:function(){var s=a.serialize,l=a.template;return o=a.deferred(),t.isFunction(s)&&(s=s.call(a)),e.callback=function(t){delete e.isAsync,delete e.callback,n(s,t)},"string"==typeof l&&(r=a.prefix+l),(i=p.cache(r))?(n(s,i,r),o):("string"==typeof l?i=a.fetchTemplate.call(a,a.prefix+l):"function"==typeof l?i=l:null!=l&&(i=a.fetchTemplate.call(a,l)),e.isAsync||n(s,i),o)}}},constructor:function(n){this.manage=!0,t.extend(this,n),e.View.apply(this,arguments)},async:function(){var e=this.__manager__;return e.isAsync=!0,e.callback},promise:function(){return this.__manager__.renderDeferred.promise()},renderViews:function(){var e=this,t=e.__manager__,n=e.deferred(),r=e.getViews().map(function(e){return e.render().__manager__.renderDeferred}).value();return t.renderDeferred=n.promise(),e.when(r).then(function(){n.resolveWith(e,[e])}),e},insertView:function(t,n,r){return n instanceof e.View?this.setView(t,n,!0,r):this.setView(t,!0,n)},insertViews:function(e){return t.isArray(e)?this.setViews({"":e}):(t.each(e,function(n,r){e[r]=t.isArray(n)?n:[n]}),this.setViews(e))},getView:function(e){return null==e&&(e=arguments[1]),this.getViews(e).first().value()},getViews:function(e){var n;return"string"==typeof e?(e=this.sections[e]||e,n=this.views[e]||[],t.chain([].concat(n))):(n=t.chain(this.views).map(function(e){return t.isArray(e)?e:[e]},this).flatten(),"object"==typeof e?n.where(e):"function"==typeof e?n.filter(e):n)},removeView:function(e){return this.getViews(e).each(function(e){e.remove()})},setView:function(e,n,r,i){var o,s,l,p=this;if("string"!=typeof e&&(i=r,r=n,n=e,e=""),o=n.__manager__,!o)throw new Error("The argument associated with selector '"+e+"' is defined and a View.  Set `manage` property to true for Backbone.View instances.");return o.parent=p,s=o.selector=p.sections[e]||e,l=p.views[s],r?(p.views[s]=a.call([],p.views[e]||[],n),i&&t.isNumber(i.insertAt)&&l?(l.splice(i.insertAt,0,n),p.views[s]=l,o.insertAt=i.insertAt):p.views[s]=a.call([],l||[],n),p.__manager__.insert=!0,n):(n.hasRendered&&n.partial(p.$el,n.$el,p.__manager__,o),p.removeView(e),p.views[s]=n)},setViews:function(e){return t.each(e,function(e,n){return t.isArray(e)?t.each(e,function(e){this.insertView(n,e)},this):void this.setView(n,e)},this),this},render:function(){function e(){function e(){var e=r.console,n=i.afterRender;n&&n.call(i,i),i.trigger("afterRender",i),a.noel&&i.$el.length>1&&t.isFunction(e.warn)&&!i.suppressWarnings&&(e.warn("`el: false` with multiple top level elements is not supported."),t.isFunction(e.trace)&&e.trace())}var n;return t.each(i.views,function(e,n){t.isArray(e)&&i.htmlBatch(i,e,n)}),s&&!a.insertedViaFragment&&(i.contains(s.el,i.el)||s.partial(s.$el,i.$el,l,a)),i.delegateEvents(),i.hasRendered=!0,(n=a.queue.shift())?n():delete a.queue,l&&l.queue?s.once("afterRender",e):e(),p.resolveWith(i,[i])}function n(){i._render().done(function(){if(!t.keys(i.views).length)return e();var n=t.map(i.views,function(e){var n=t.isArray(e);return n&&e.length?i.when(t.map(e,function(e){return e.__manager__.insertedViaFragment=!0,e.render().__manager__.renderDeferred})):n?e:e.render().__manager__.renderDeferred});i.when(n).done(e)})}var i=this,a=i.__manager__,s=a.parent,l=s&&s.__manager__,p=i.deferred();return a.queue?o.call(a.queue,n):(a.queue=[],n(i,p)),i.__manager__.renderDeferred=p,i},remove:function(){return p._removeView(this,!0),this._remove.apply(this,arguments)}},{_cache:{},_removeViews:function(e,t){"boolean"==typeof e&&(t=e,e=this),e=e||this,e.getViews().each(function(e){(e.hasRendered||t)&&p._removeView(e,t)})},_removeView:function(e,n){var r,i=e.__manager__,o=i.parent&&i.parent.__manager__,a="boolean"==typeof e.keep?e.keep:e.options.keep;if(!a&&o&&o.insert===!0||n){if(p.cleanViews(e),e._removeViews(!0),e.$el.remove(),!i.parent)return;if(r=i.parent.views[i.selector],t.isArray(r))return t.each(t.clone(r),function(e,t){e&&e.__manager__===i&&s.call(r,t,1)});delete i.parent.views[i.selector]}},cache:function(e,t){return e in this._cache&&null==t?this._cache[e]:null!=e&&null!=t?this._cache[e]=t:void 0},cleanViews:function(n){t.each(a.call([],n),function(n){n.unbind(),n.model instanceof e.Model&&n.model.off(null,null,n),n.collection instanceof e.Collection&&n.collection.off(null,null,n),n.stopListening(),t.isFunction(n.cleanup)&&n.cleanup()})},configure:function(n){t.extend(p.prototype,n),n.manage&&(e.View.prototype.manage=!0),n.el===!1&&(e.View.prototype.el=!1),n.suppressWarnings===!0&&(e.View.prototype.suppressWarnings=!0)},setupView:function(n,r){r=r||{},t.each(a.call([],n),function(n){if(!n.__manager__){var i,o,a=p.prototype;t.defaults(n,{views:{},sections:{},__manager__:{},_removeViews:p._removeViews,_removeView:p._removeView},p.prototype),n.options=r,t.extend(n,r),n._remove=e.View.prototype.remove,n.render=p.prototype.render,n.remove!==a.remove&&(n._remove=n.remove,n.remove=a.remove),i=r.views||n.views,t.keys(i).length&&(o=i,n.views={},t.each(o,function(e,t){"function"==typeof e&&(o[t]=e.call(n,n))}),n.setViews(o))}})}});p.VERSION="0.9.4",e.Layout=p,e.View=function(e){var t;e=e||{},("el"in e?e.el===!1:this.el===!1)&&(t=!0),(e.manage||this.manage)&&p.setupView(this,e),this.__manager__&&(this.__manager__.noel=t,this.__manager__.suppressWarnings=e.suppressWarnings),i.apply(this,arguments)},e.View.extend=i.extend,e.View.prototype=i.prototype;var c={prefix:"",deferred:function(){return n.Deferred()},fetchTemplate:function(e){return t.template(n(e).html())},renderTemplate:function(e,t){return l(e(t))},serialize:function(){return this.model?t.clone(this.model.attributes):{}},partial:function(e,t,n,r){var i;r.selector&&(n.noel?(i=e.filter(r.selector),e=i.length?i:e.find(r.selector)):e=e.find(r.selector)),n.insert?this.insert(e,t,r.insertAt):this.html(e,t)},html:function(e,t){e.html(t)},htmlBatch:function(e,r,i){var o=e.__manager__,a={selector:i},s=t.reduce(r,function(t,r){var i="boolean"==typeof r.keep?r.keep:r.options.keep,o=i&&n.contains(e.el,r.el);return r.el&&!o&&t.push(r.el),t},[]);return this.partial(e.$el,n(s),o,a)},insert:function(e,n,r){t.isNumber(r)?this.insertAtIndex(e,n,r):e.append(n)},insertAtIndex:function(e,t,n){var r;r=n<0?e.children().eq(Math.max(0,e.children().length+n)):e.children().eq(n),r.length?r.before(t):this.insert(e,t)},when:function(e){return n.when.apply(null,e)},contains:function(e,t){return n.contains(e,t)}};return t.extend(p.prototype,c),p}),function(e){function t(e,t,n){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:n;default:throw new Error("Implement me")}}function n(e,t){return Ae.call(e,t)}function r(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function i(e){be.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn}function o(e,t){var n=!0;return d(function(){return n&&(i(e),n=!1),t.apply(this,arguments)},t)}function a(e,t){_t[e]||(i(t),_t[e]=!0)}function s(e,t){return function(n){return g(e.call(this,n),t)}}function l(e,t){return function(n){return this.localeData().ordinal(e.call(this,n),t)}}function p(){}function c(e,t){t!==!1&&O(e),f(this,e),this._d=new Date(+e._d)}function u(e){var t=E(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,p=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*p+6e4*l+36e5*s,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=be.localeData(),this._bubble()}function d(e,t){for(var r in t)n(t,r)&&(e[r]=t[r]);return n(t,"toString")&&(e.toString=t.toString),n(t,"valueOf")&&(e.valueOf=t.valueOf),e}function f(e,t){var n,r,i;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=t._pf),"undefined"!=typeof t._locale&&(e._locale=t._locale),Me.length>0)for(n in Me)r=Me[n],i=t[r],"undefined"!=typeof i&&(e[r]=i);return e}function h(e){return e<0?Math.ceil(e):Math.floor(e)}function g(e,t,n){for(var r=""+Math.abs(e),i=e>=0;r.length<t;)r="0"+r;return(i?n?"+":"":"-")+r}function _(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function m(e,t){var n;return t=D(t,e),e.isBefore(t)?n=_(e,t):(n=_(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function v(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(a(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=be.duration(n,r),b(this,i,e),this}}function b(e,t,n,r){var i=t._milliseconds,o=t._days,a=t._months;r=null==r||r,i&&e._d.setTime(+e._d+i*n),o&&fe(e,"Date",de(e,"Date")+o*n),a&&ue(e,de(e,"Month")+a*n),r&&be.updateOffset(e,o||a)}function y(e){return"[object Array]"===Object.prototype.toString.call(e)}function w(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function T(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&k(e[r])!==k(t[r]))&&a++;return a+o}function P(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=pt[e]||ct[t]||t}return e}function E(e){var t,r,i={};for(r in e)n(e,r)&&(t=P(r),t&&(i[t]=e[r]));return i}function A(t){var n,r;if(0===t.indexOf("week"))n=7,r="day";else{if(0!==t.indexOf("month"))return;n=12,r="month"}be[t]=function(i,o){var a,s,l=be._locale[t],p=[];if("number"==typeof i&&(o=i,i=e),s=function(e){var t=be().utc().set(r,e);
return l.call(be._locale,t,i||"")},null!=o)return s(o);for(a=0;a<n;a++)p.push(s(a));return p}}function k(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function S(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function x(e,t,n){return se(be([e,11,31+t-n]),t,n).week}function C(e){return L(e)?366:365}function L(e){return e%4===0&&e%100!==0||e%400===0}function O(e){var t;e._a&&e._pf.overflow===-2&&(t=e._a[Se]<0||e._a[Se]>11?Se:e._a[xe]<1||e._a[xe]>S(e._a[ke],e._a[Se])?xe:e._a[Ce]<0||e._a[Ce]>23?Ce:e._a[Le]<0||e._a[Le]>59?Le:e._a[Oe]<0||e._a[Oe]>59?Oe:e._a[Re]<0||e._a[Re]>999?Re:-1,e._pf._overflowDayOfYear&&(t<ke||t>xe)&&(t=xe),e._pf.overflow=t)}function R(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function I(e){return e?e.toLowerCase().replace("_","-"):e}function M(e){for(var t,n,r,i,o=0;o<e.length;){for(i=I(e[o]).split("-"),t=i.length,n=I(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=N(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&T(i,n,!0)>=t-1)break;t--}o++}return null}function N(e){var t=null;if(!Ie[e]&&Ne)try{t=be.locale(),require("./locale/"+e),be.locale(t)}catch(e){}return Ie[e]}function D(e,t){return t._isUTC?be(e).zone(t._offset||0):be(e).local()}function z(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function F(e){var t,n,r=e.match(Ge);for(t=0,n=r.length;t<n;t++)gt[r[t]]?r[t]=gt[r[t]]:r[t]=z(r[t]);return function(i){var o="";for(t=0;t<n;t++)o+=r[t]instanceof Function?r[t].call(i,e):r[t];return o}}function G(e,t){return e.isValid()?(t=H(t,e.localeData()),ut[t]||(ut[t]=F(t)),ut[t](e)):e.localeData().invalidDate()}function H(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(He.lastIndex=0;r>=0&&He.test(e);)e=e.replace(He,n),He.lastIndex=0,r-=1;return e}function U(e,t){var n,r=t._strict;switch(e){case"Q":return Qe;case"DDDD":return Je;case"YYYY":case"GGGG":case"gggg":return r?et:je;case"Y":case"G":case"g":return nt;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return r?tt:qe;case"S":if(r)return Qe;case"SS":if(r)return Ze;case"SSS":if(r)return Je;case"DDD":return We;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Ve;case"a":case"A":return t._locale._meridiemParse;case"X":return Ke;case"Z":case"ZZ":return $e;case"T":return Ye;case"SSSS":return Be;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return r?Ze:Ue;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Ue;case"Do":return Xe;default:return n=new RegExp(X(K(e.replace("\\","")),"i"))}}function W(e){e=e||"";var t=e.match($e)||[],n=t[t.length-1]||[],r=(n+"").match(st)||["-",0,0],i=+(60*r[1])+k(r[2]);return"+"===r[0]?-i:i}function j(e,t,n){var r,i=n._a;switch(e){case"Q":null!=t&&(i[Se]=3*(k(t)-1));break;case"M":case"MM":null!=t&&(i[Se]=k(t)-1);break;case"MMM":case"MMMM":r=n._locale.monthsParse(t),null!=r?i[Se]=r:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(i[xe]=k(t));break;case"Do":null!=t&&(i[xe]=k(parseInt(t,10)));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=k(t));break;case"YY":i[ke]=be.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":i[ke]=k(t);break;case"a":case"A":n._isPm=n._locale.isPM(t);break;case"H":case"HH":case"h":case"hh":i[Ce]=k(t);break;case"m":case"mm":i[Le]=k(t);break;case"s":case"ss":i[Oe]=k(t);break;case"S":case"SS":case"SSS":case"SSSS":i[Re]=k(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=W(t);break;case"dd":case"ddd":case"dddd":r=n._locale.weekdaysParse(t),null!=r?(n._w=n._w||{},n._w.d=r):n._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=k(t));break;case"gg":case"GG":n._w=n._w||{},n._w[e]=be.parseTwoDigitYear(t)}}function q(e){var n,r,i,o,a,s,l;n=e._w,null!=n.GG||null!=n.W||null!=n.E?(a=1,s=4,r=t(n.GG,e._a[ke],se(be(),1,4).year),i=t(n.W,1),o=t(n.E,1)):(a=e._locale._week.dow,s=e._locale._week.doy,r=t(n.gg,e._a[ke],se(be(),a,s).year),i=t(n.w,1),null!=n.d?(o=n.d,o<a&&++i):o=null!=n.e?n.e+a:a),l=le(r,i,o,s,a),e._a[ke]=l.year,e._dayOfYear=l.dayOfYear}function B(e){var n,r,i,o,a=[];if(!e._d){for(i=$(e),e._w&&null==e._a[xe]&&null==e._a[Se]&&q(e),e._dayOfYear&&(o=t(e._a[ke],i[ke]),e._dayOfYear>C(o)&&(e._pf._overflowDayOfYear=!0),r=re(o,0,e._dayOfYear),e._a[Se]=r.getUTCMonth(),e._a[xe]=r.getUTCDate()),n=0;n<3&&null==e._a[n];++n)e._a[n]=a[n]=i[n];for(;n<7;n++)e._a[n]=a[n]=null==e._a[n]?2===n?1:0:e._a[n];e._d=(e._useUTC?re:ne).apply(null,a),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()+e._tzm)}}function V(e){var t;e._d||(t=E(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],B(e))}function $(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Y(e){if(e._f===be.ISO_8601)return void Z(e);e._a=[],e._pf.empty=!0;var t,n,r,i,o,a=""+e._i,s=a.length,l=0;for(r=H(e._f,e._locale).match(Ge)||[],t=0;t<r.length;t++)i=r[t],n=(a.match(U(i,e))||[])[0],n&&(o=a.substr(0,a.indexOf(n)),o.length>0&&e._pf.unusedInput.push(o),a=a.slice(a.indexOf(n)+n.length),l+=n.length),gt[i]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(i),j(i,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(i);e._pf.charsLeftOver=s-l,a.length>0&&e._pf.unusedInput.push(a),e._isPm&&e._a[Ce]<12&&(e._a[Ce]+=12),e._isPm===!1&&12===e._a[Ce]&&(e._a[Ce]=0),B(e),O(e)}function K(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i})}function X(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Q(e){var t,n,i,o,a;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)a=0,t=f({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._pf=r(),t._f=e._f[o],Y(t),R(t)&&(a+=t._pf.charsLeftOver,a+=10*t._pf.unusedTokens.length,t._pf.score=a,(null==i||a<i)&&(i=a,n=t));d(e,n||t)}function Z(e){var t,n,r=e._i,i=rt.exec(r);if(i){for(e._pf.iso=!0,t=0,n=ot.length;t<n;t++)if(ot[t][1].exec(r)){e._f=ot[t][0]+(i[6]||" ");break}for(t=0,n=at.length;t<n;t++)if(at[t][1].exec(r)){e._f+=at[t][0];break}r.match($e)&&(e._f+="Z"),Y(e)}else e._isValid=!1}function J(e){Z(e),e._isValid===!1&&(delete e._isValid,be.createFromInputFallback(e))}function ee(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function te(t){var n,r=t._i;r===e?t._d=new Date:w(r)?t._d=new Date(+r):null!==(n=De.exec(r))?t._d=new Date(+n[1]):"string"==typeof r?J(t):y(r)?(t._a=ee(r.slice(0),function(e){return parseInt(e,10)}),B(t)):"object"==typeof r?V(t):"number"==typeof r?t._d=new Date(r):be.createFromInputFallback(t)}function ne(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return e<1970&&s.setFullYear(e),s}function re(e){var t=new Date(Date.UTC.apply(null,arguments));return e<1970&&t.setUTCFullYear(e),t}function ie(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function oe(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function ae(e,t,n){var r=be.duration(e).abs(),i=Ee(r.as("s")),o=Ee(r.as("m")),a=Ee(r.as("h")),s=Ee(r.as("d")),l=Ee(r.as("M")),p=Ee(r.as("y")),c=i<dt.s&&["s",i]||1===o&&["m"]||o<dt.m&&["mm",o]||1===a&&["h"]||a<dt.h&&["hh",a]||1===s&&["d"]||s<dt.d&&["dd",s]||1===l&&["M"]||l<dt.M&&["MM",l]||1===p&&["y"]||["yy",p];return c[2]=t,c[3]=+e>0,c[4]=n,oe.apply({},c)}function se(e,t,n){var r,i=n-t,o=n-e.day();return o>i&&(o-=7),o<i-7&&(o+=7),r=be(e).add(o,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function le(e,t,n,r,i){var o,a,s=re(e,0,1).getUTCDay();return s=0===s?7:s,n=null!=n?n:i,o=i-s+(s>r?7:0)-(s<i?7:0),a=7*(t-1)+(n-i)+o+1,{year:a>0?e:e-1,dayOfYear:a>0?a:C(e-1)+a}}function pe(t){var n=t._i,r=t._f;return t._locale=t._locale||be.localeData(t._l),null===n||r===e&&""===n?be.invalid({nullInput:!0}):("string"==typeof n&&(t._i=n=t._locale.preparse(n)),be.isMoment(n)?new c(n,!0):(r?y(r)?Q(t):Y(t):te(t),new c(t)))}function ce(e,t){var n,r;if(1===t.length&&y(t[0])&&(t=t[0]),!t.length)return be();for(n=t[0],r=1;r<t.length;++r)t[r][e](n)&&(n=t[r]);return n}function ue(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),S(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function de(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function fe(e,t,n){return"Month"===t?ue(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function he(e,t){return function(n){return null!=n?(fe(this,e,n),be.updateOffset(this,t),this):de(this,e)}}function ge(e){return 400*e/146097}function _e(e){return 146097*e/400}function me(e){be.duration.fn[e]=function(){return this._data[e]}}function ve(e){"undefined"==typeof ender&&(ye=Pe.moment,e?Pe.moment=o("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",be):Pe.moment=be)}for(var be,ye,we,Te="2.8.3",Pe="undefined"!=typeof global?global:this,Ee=Math.round,Ae=Object.prototype.hasOwnProperty,ke=0,Se=1,xe=2,Ce=3,Le=4,Oe=5,Re=6,Ie={},Me=[],Ne="undefined"!=typeof module&&module.exports,De=/^\/?Date\((\-?\d+)/i,ze=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Fe=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Ge=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,He=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Ue=/\d\d?/,We=/\d{1,3}/,je=/\d{1,4}/,qe=/[+\-]?\d{1,6}/,Be=/\d+/,Ve=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,$e=/Z|[\+\-]\d\d:?\d\d/gi,Ye=/T/i,Ke=/[\+\-]?\d+(\.\d{1,3})?/,Xe=/\d{1,2}/,Qe=/\d/,Ze=/\d\d/,Je=/\d{3}/,et=/\d{4}/,tt=/[+-]?\d{6}/,nt=/[+-]?\d+/,rt=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,it="YYYY-MM-DDTHH:mm:ssZ",ot=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],at=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],st=/([\+\-]|\d\d)/gi,lt=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),pt={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},ct={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},ut={},dt={s:45,m:45,h:22,d:26,M:11},ft="DDD w W M D d".split(" "),ht="M D H h m s w W".split(" "),gt={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return g(this.year()%100,2)},YYYY:function(){return g(this.year(),4)},YYYYY:function(){return g(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+g(Math.abs(e),6)},gg:function(){return g(this.weekYear()%100,2)},gggg:function(){return g(this.weekYear(),4)},ggggg:function(){return g(this.weekYear(),5)},GG:function(){return g(this.isoWeekYear()%100,2)},GGGG:function(){return g(this.isoWeekYear(),4)},GGGGG:function(){return g(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return k(this.milliseconds()/100)},SS:function(){return g(k(this.milliseconds()/10),2)},SSS:function(){return g(this.milliseconds(),3)},SSSS:function(){return g(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+g(k(e/60),2)+":"+g(k(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+g(k(e/60),2)+g(k(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},_t={},mt=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];ft.length;)we=ft.pop(),gt[we+"o"]=l(gt[we],we);for(;ht.length;)we=ht.pop(),gt[we+we]=s(gt[we],2);gt.DDDD=s(gt.DDD,3),d(p.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,r;for(this._monthsParse||(this._monthsParse=[]),t=0;t<12;t++)if(this._monthsParse[t]||(n=be.utc([2e3,t]),r="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(r.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,r;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;t<7;t++)if(this._weekdaysParse[t]||(n=be([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(e,t,n,r):i.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return se(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),be=function(t,n,i,o){var a;return"boolean"==typeof i&&(o=i,i=e),a={},a._isAMomentObject=!0,a._i=t,a._f=n,a._l=i,a._strict=o,a._isUTC=!1,a._pf=r(),pe(a)},be.suppressDeprecationWarnings=!1,be.createFromInputFallback=o("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i)}),be.min=function(){var e=[].slice.call(arguments,0);return ce("isBefore",e)},be.max=function(){var e=[].slice.call(arguments,0);return ce("isAfter",e)},be.utc=function(t,n,i,o){var a;return"boolean"==typeof i&&(o=i,i=e),a={},a._isAMomentObject=!0,a._useUTC=!0,a._isUTC=!0,a._l=i,a._i=t,a._f=n,a._strict=o,a._pf=r(),pe(a).utc()},be.unix=function(e){return be(1e3*e)},be.duration=function(e,t){var r,i,o,a,s=e,l=null;return be.isDuration(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(s={},t?s[t]=e:s.milliseconds=e):(l=ze.exec(e))?(r="-"===l[1]?-1:1,s={y:0,d:k(l[xe])*r,h:k(l[Ce])*r,m:k(l[Le])*r,s:k(l[Oe])*r,ms:k(l[Re])*r}):(l=Fe.exec(e))?(r="-"===l[1]?-1:1,o=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*r},s={y:o(l[2]),M:o(l[3]),d:o(l[4]),h:o(l[5]),m:o(l[6]),s:o(l[7]),w:o(l[8])}):"object"==typeof s&&("from"in s||"to"in s)&&(a=m(be(s.from),be(s.to)),s={},s.ms=a.milliseconds,s.M=a.months),i=new u(s),be.isDuration(e)&&n(e,"_locale")&&(i._locale=e._locale),i},be.version=Te,be.defaultFormat=it,be.ISO_8601=function(){},be.momentProperties=Me,be.updateOffset=function(){},be.relativeTimeThreshold=function(t,n){return dt[t]!==e&&(n===e?dt[t]:(dt[t]=n,!0))},be.lang=o("moment.lang is deprecated. Use moment.locale instead.",function(e,t){return be.locale(e,t)}),be.locale=function(e,t){var n;return e&&(n="undefined"!=typeof t?be.defineLocale(e,t):be.localeData(e),n&&(be.duration._locale=be._locale=n)),be._locale._abbr},be.defineLocale=function(e,t){return null!==t?(t.abbr=e,Ie[e]||(Ie[e]=new p),Ie[e].set(t),be.locale(e),Ie[e]):(delete Ie[e],null)},be.langData=o("moment.langData is deprecated. Use moment.localeData instead.",function(e){return be.localeData(e)}),be.localeData=function(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return be._locale;if(!y(e)){if(t=N(e))return t;e=[e]}return M(e)},be.isMoment=function(e){return e instanceof c||null!=e&&n(e,"_isAMomentObject")},be.isDuration=function(e){return e instanceof u};for(we=mt.length-1;we>=0;--we)A(mt[we]);be.normalizeUnits=function(e){return P(e)},be.invalid=function(e){var t=be.utc(NaN);return null!=e?d(t._pf,e):t._pf.userInvalidated=!0,t},be.parseZone=function(){return be.apply(null,arguments).parseZone()},be.parseTwoDigitYear=function(e){return k(e)+(k(e)>68?1900:2e3)},d(be.fn=c.prototype,{clone:function(){return be(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=be(this).utc();return 0<e.year()&&e.year()<=9999?G(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):G(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return R(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&T(this._a,(this._isUTC?be.utc(this._a):be(this._a)).toArray())>0)},parsingFlags:function(){return d({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.zone(0,e)},local:function(e){return this._isUTC&&(this.zone(0,e),this._isUTC=!1,e&&this.add(this._dateTzOffset(),"m")),this},format:function(e){var t=G(this,e||be.defaultFormat);return this.localeData().postformat(t)},add:v(1,"add"),subtract:v(-1,"subtract"),diff:function(e,t,n){var r,i,o,a=D(e,this),s=6e4*(this.zone()-a.zone());return t=P(t),"year"===t||"month"===t?(r=432e5*(this.daysInMonth()+a.daysInMonth()),i=12*(this.year()-a.year())+(this.month()-a.month()),o=this-be(this).startOf("month")-(a-be(a).startOf("month")),o-=6e4*(this.zone()-be(this).startOf("month").zone()-(a.zone()-be(a).startOf("month").zone())),i+=o/r,"year"===t&&(i/=12)):(r=this-a,i="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-s)/864e5:"week"===t?(r-s)/6048e5:r),n?i:h(i)},from:function(e,t){return be.duration({to:this,from:e}).locale(this.locale()).humanize(!t)},fromNow:function(e){return this.from(be(),e)},calendar:function(e){var t=e||be(),n=D(t,this).startOf("day"),r=this.diff(n,"days",!0),i=r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(i,this))},isLeapYear:function(){return L(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=ie(e,this.localeData()),this.add(e-t,"d")):t},month:he("Month",!0),startOf:function(e){switch(e=P(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=P(e),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},isAfter:function(e,t){return t=P("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=be.isMoment(e)?e:be(e),+this>+e):+this.clone().startOf(t)>+be(e).startOf(t)},isBefore:function(e,t){return t=P("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=be.isMoment(e)?e:be(e),+this<+e):+this.clone().startOf(t)<+be(e).startOf(t)},isSame:function(e,t){return t=P(t||"millisecond"),"millisecond"===t?(e=be.isMoment(e)?e:be(e),+this===+e):+this.clone().startOf(t)===+D(e,this).startOf(t)},min:o("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=be.apply(null,arguments),e<this?this:e}),max:o("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=be.apply(null,arguments),e>this?this:e}),zone:function(e,t){var n,r=this._offset||0;return null==e?this._isUTC?r:this._dateTzOffset():("string"==typeof e&&(e=W(e)),Math.abs(e)<16&&(e*=60),!this._isUTC&&t&&(n=this._dateTzOffset()),this._offset=e,this._isUTC=!0,null!=n&&this.subtract(n,"m"),r!==e&&(!t||this._changeInProgress?b(this,be.duration(r-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,be.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?be(e).zone():0,(this.zone()-e)%60===0},daysInMonth:function(){return S(this.year(),this.month())},dayOfYear:function(e){var t=Ee((be(this).startOf("day")-be(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=se(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=se(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},isoWeek:function(e){var t=se(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return x(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return x(this.year(),e.dow,e.doy)},get:function(e){return e=P(e),this[e]()},set:function(e,t){return e=P(e),"function"==typeof this[e]&&this[e](t),this},locale:function(t){var n;return t===e?this._locale._abbr:(n=be.localeData(t),null!=n&&(this._locale=n),this)},lang:o("moment().lang() is deprecated. Use moment().localeData() instead.",function(t){return t===e?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),be.fn.millisecond=be.fn.milliseconds=he("Milliseconds",!1),be.fn.second=be.fn.seconds=he("Seconds",!1),be.fn.minute=be.fn.minutes=he("Minutes",!1),be.fn.hour=be.fn.hours=he("Hours",!0),be.fn.date=he("Date",!0),be.fn.dates=o("dates accessor is deprecated. Use date instead.",he("Date",!0)),be.fn.year=he("FullYear",!0),be.fn.years=o("years accessor is deprecated. Use year instead.",he("FullYear",!0)),be.fn.days=be.fn.day,be.fn.months=be.fn.month,be.fn.weeks=be.fn.week,be.fn.isoWeeks=be.fn.isoWeek,be.fn.quarters=be.fn.quarter,be.fn.toJSON=be.fn.toISOString,d(be.duration.fn=u.prototype,{_bubble:function(){var e,t,n,r=this._milliseconds,i=this._days,o=this._months,a=this._data,s=0;a.milliseconds=r%1e3,e=h(r/1e3),a.seconds=e%60,t=h(e/60),a.minutes=t%60,n=h(t/60),a.hours=n%24,i+=h(n/24),s=h(ge(i)),i-=h(_e(s)),o+=h(i/30),i%=30,s+=h(o/12),o%=12,a.days=i,a.months=o,a.years=s},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return h(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*k(this._months/12)},humanize:function(e){var t=ae(this,!e,this.localeData());return e&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(e,t){var n=be.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=be.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=P(e),this[e.toLowerCase()+"s"]()},as:function(e){var t,n;if(e=P(e),"month"===e||"year"===e)return t=this._days+this._milliseconds/864e5,n=this._months+12*ge(t),"month"===e?n:n/12;switch(t=this._days+_e(this._months/12),e){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return 24*t+this._milliseconds/36e5;case"minute":return 24*t*60+this._milliseconds/6e4;case"second":return 24*t*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*t*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+e)}},lang:be.fn.lang,locale:be.fn.locale,toIsoString:o("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),r=Math.abs(this.hours()),i=Math.abs(this.minutes()),o=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(r||i||o?"T":"")+(r?r+"H":"")+(i?i+"M":"")+(o?o+"S":""):"P0D"},localeData:function(){return this._locale}}),be.duration.fn.toString=be.duration.fn.toISOString;for(we in lt)n(lt,we)&&me(we.toLowerCase());be.duration.fn.asMilliseconds=function(){return this.as("ms")},be.duration.fn.asSeconds=function(){return this.as("s")},be.duration.fn.asMinutes=function(){return this.as("m")},be.duration.fn.asHours=function(){return this.as("h")},be.duration.fn.asDays=function(){return this.as("d")},be.duration.fn.asWeeks=function(){return this.as("weeks")},be.duration.fn.asMonths=function(){return this.as("M")},be.duration.fn.asYears=function(){return this.as("y")},be.locale("en",{ordinal:function(e){var t=e%10,n=1===k(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),Ne?module.exports=be:"function"==typeof define&&define.amd?(define("moment",["require","exports","module"],function(e,t,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(Pe.moment=ye),be}),ve(!0)):ve()}.call(this),define("h5.pubsub/Subscriptions",["require","exports","module"],function(e,t,n){"use strict";function r(e){this.messageBroker=e,this.children={},this.subscriptions=[],this.subscriptionsPendingRemoval=[],this.sendingMessagesCount=0,this.removeSubscription=this.removeSubscription.bind(this)}n.exports=r;var i=[];r.TOKEN={SEPARATOR:".",ANY:"*",ALL:"**"},r.prototype.destroy=function(){for(var e=this.children,t=Object.keys(e),n=0,r=t.length;n<r;++n)e[t[n]].destroy();this.children=null,this.removeSubscriptions(),this.subscriptionsPendingRemoval=null,this.messageBroker=null},r.prototype.count=function(e,t){this.subscriptions.length&&(t[e]=this.subscriptions.length);var n=Object.keys(this.children),i=n.length;if(i){0!==e.length&&(e+=r.TOKEN.SEPARATOR);for(var o=0;o<i;++o){var a=n[o];this.children[a].count(e+a,t)}}},r.prototype.add=function(e){var t=this.splitTopic(e.getTopic());this.addSubscription(t,e)},r.prototype.remove=function(e){this.removeSubscriptions(this.splitTopic(e))},r.prototype.send=function(e,t,n){var r=this.splitTopic(e);this.sendMessage(r,e,t,n)},r.prototype.addSubscription=function(e,t){if(0===e.length)return this.subscriptions.push(t),t.on("cancel",this.removeSubscription),void(1===this.subscriptions.length&&this.messageBroker.emit("new topic",t.getTopic()));var n=this.children,i=e.shift();"undefined"==typeof n[i]&&(n[i]=new r(this.messageBroker)),n[i].addSubscription(e,t)},r.prototype.removeSubscriptions=function(e){var t,n;if("undefined"==typeof e||0===e.length){var r=this.subscriptions;if(!r.length)return;this.subscriptions=[];var i=r[0].getTopic();for(t=0,n=r.length;t<n;++t)r[t].cancel();return void this.messageBroker.emit("empty topic",i)}var o=e.shift();"undefined"!=typeof this.children[o]&&this.children[o].removeSubscriptions(e)},r.prototype.sendMessage=function(e,t,n,o){if(++this.sendingMessagesCount,"undefined"!=typeof this.children[r.TOKEN.ALL]&&this.children[r.TOKEN.ALL].sendMessage(i,t,n,o),0===e.length)for(var a=0,s=this.subscriptions.length;a<s;++a)this.subscriptions[a].send(t,n,o);else{var l=e.shift();"undefined"!=typeof this.children[r.TOKEN.ANY]&&this.children[r.TOKEN.ANY].sendMessage([].concat(e),t,n,o),"undefined"!=typeof this.children[l]&&this.children[l].sendMessage(e,t,n,o)}--this.sendingMessagesCount,this.removePendingSubscriptions()},r.prototype.splitTopic=function(e){var t=e.split(r.TOKEN.SEPARATOR).filter(function(e){return 0!==e.length});if(0===t.length)throw new Error("Invalid subscription topic: "+e);return t},r.prototype.removeSubscription=function(e){if(this.messageBroker.emit("cancel",e),0!==this.subscriptions.length)return 1===this.subscriptions.length&&this.subscriptions[0]===e?(this.subscriptions.length=0,void this.messageBroker.emit("empty topic",e.getTopic())):void this.removeOrQueueRemoval(e)},r.prototype.removeOrQueueRemoval=function(e){0===this.sendingMessagesCount?this.subscriptions.splice(this.subscriptions.indexOf(e),1):this.subscriptionsPendingRemoval.push(e)},r.prototype.removePendingSubscriptions=function(){var e=this.subscriptionsPendingRemoval,t=e.length;if(t&&!this.sendingMessagesCount){var n=this.subscriptions;if(t===n.length)return e.length=0,void(n.length=0);var r,i,o=[];for(r=0;r<t;++r)o.push(n.indexOf(e[r]));for(o.sort(function(e,t){
return t-e}),r=0,i=o.length;r<i;++r)n.splice(o[r],1);e.length=0}}}),define("h5.pubsub/Subscription",["require","exports","module"],function(e,t,n){"use strict";function r(e,t){this.cancelled=!1,this.id=e,this.topic=t,this.messageFilter=null,this.messageLimit=0,this.messageCount=0,this.doFilter=null,this.listeners={cancel:null,message:null}}n.exports=r,r.compileFilter=function(){throw new Error("Subscription.compileFilter() is not implemented!")},r.prototype.toJSON=function(){var e=this.getFilter();return"function"==typeof e&&(e=e.toString()),{id:this.getId(),topic:this.getTopic(),limit:this.getLimit(),filter:e}},r.prototype.getId=function(){return this.id},r.prototype.getTopic=function(){return this.topic},r.prototype.getFilter=function(){return this.messageFilter},r.prototype.setFilter=function(e){if(this.messageFilter=e,"function"==typeof e)this.doFilter=e;else if(this.doFilter=r.compileFilter(e),"function"!=typeof this.doFilter)throw new Error("Subscription.compileFilter() must return a function.");return this},r.prototype.getLimit=function(){return this.messageLimit},r.prototype.setLimit=function(e){if(e<1)throw new Error("Subscription limit must be greater than 0.");return this.messageLimit=e,this},r.prototype.getMessageCount=function(){return this.messageCount},r.prototype.on=function(e,t){if(this.cancelled)return this;var n=this.listeners[e],r=typeof n;if("undefined"===r)throw new Error("Unknown event: "+e);return"function"===r?this.listeners[e]=[n,t]:null===n?this.listeners[e]=t:this.listeners[e].push(t),this},r.prototype.off=function(e,t){if(this.cancelled)return this;var n=this.listeners[e],r=typeof n;if("undefined"===r)throw new Error("Unknown event: "+e);if("function"===r&&n===t)this.listeners[e]=null;else if("object"===r&&null!==n){for(var i=-1,o=n.length,a=0;a<o;++a)if(n[a]===t){i=a;break}i!==-1&&(n.splice(i,1),2===o&&(this.listeners[e]=n[0]))}return this},r.prototype.cancel=function(){this.cancelled||(this.cancelled=!0,this.emit("cancel",this),this.listeners=null,this.doFilter=null)},r.prototype.send=function(e,t,n){this.cancelled||null!==this.doFilter&&!this.doFilter(t,e,n,this)||(++this.messageCount,this.emit("message",t,e,n,this),this.messageCount===this.messageLimit&&this.cancel())},r.prototype.emit=function(e){var t=this.listeners[e];if(null!==t){var n=arguments.length;if("function"==typeof t)return void(5===n?t(arguments[1],arguments[2],arguments[3],arguments[4]):t(arguments[1]));for(var r=0,i=t.length;r<i;++r)5===n?t[r](arguments[1],arguments[2],arguments[3],arguments[4]):t[r](arguments[1])}}}),define("h5.pubsub/Sandbox",["require","exports","module"],function(e,t,n){"use strict";function r(e){this.broker=e,this.subscriptions={},this.removeSubscription=this.removeSubscription.bind(this)}n.exports=r,r.prototype.destroy=function(){var e=this.subscriptions;null!==e&&Object.keys(e).forEach(function(t){e[t].cancel()}),this.subscriptions=null,this.broker=null},r.prototype.sandbox=function(){return new r(this)},r.prototype.publish=function(e,t,n){return this.broker.publish(e,t,n),this},r.prototype.subscribe=function(e,t){var n=this.broker.subscribe(e,t);return n.on("cancel",this.removeSubscription),this.subscriptions[n.getId()]=n,n},r.prototype.unsubscribe=function(e){var t=[],n=this.subscriptions;for(var r in n)n.hasOwnProperty(r)&&n[r].getTopic()===e&&t.push(r);for(var i=0,o=t.length;i<o;++i)n[t[i]].cancel();return this},r.prototype.removeSubscription=function(e){delete this.subscriptions[e.getId()]}}),define("h5.pubsub/MessageBroker",["require","exports","module","./Subscriptions","./Subscription","./Sandbox"],function(e,t,n){"use strict";function r(){this.subscriptions=new i(this),this.nextSubscriptionId=0,this.listeners={subscribe:[],cancel:[],"new topic":[],"empty topic":[],message:[]}}var i=e("./Subscriptions"),o=e("./Subscription"),a=e("./Sandbox");n.exports=r,r.prototype.destroy=function(){this.subscriptions.destroy(),this.subscriptions=null,this.listeners=null},r.prototype.sandbox=function(){return new a(this)},r.prototype.publish=function(e,t,n){return"undefined"==typeof n&&(n={}),this.emit("message",e,t,n),this.subscriptions.send(e,t,n),this},r.prototype.subscribe=function(e,t){var n=new o(this.getNextSubscriptionId(),e);return"function"==typeof t&&n.on("message",t),this.subscriptions.add(n),this.emit("subscribe",n),n},r.prototype.unsubscribe=function(e){return this.subscriptions.remove(e),this},r.prototype.count=function(){var e={};if(null===this.subscriptions)return e;var t="";return this.subscriptions.count(t,e),e},r.prototype.on=function(e,t){var n=this.listeners[e],r=typeof n;if("undefined"===r)throw new Error("Unknown event: "+e);return n.push(t),this},r.prototype.off=function(e,t){var n=this.listeners[e],r=typeof n;if("undefined"===r)throw new Error("Unknown event: "+e);var i=n.indexOf(t);return i!==-1&&n.splice(i,1),this},r.prototype.emit=function(e,t){var n=this.listeners[e],r=typeof n;if("undefined"===r)throw new Error("Unknown event: "+e);if(!n.length)return this;var i=arguments.length;i>4&&(t=Array.prototype.slice.call(arguments),t.shift());for(var o=0,a=n.length;o<a;++o){var s=n[o];switch(i){case 4:s(arguments[1],arguments[2],arguments[3]);break;case 3:s(arguments[1],arguments[2]);break;case 2:s(arguments[1]);break;default:s.apply(null,t)}}return this},r.prototype.getNextSubscriptionId=function(){return(this.nextSubscriptionId++).toString(36)}}),define("app/broker",["h5.pubsub/MessageBroker"],function(e){"use strict";var t=new e;return t.on("message",function(e,t){}),window.broker=t,t}),define("app/i18n",["underscore","moment","app/broker"],function(e,t,n){"use strict";function r(e,t,r){try{return l[e][t](r)}catch(r){if(l[e]&&l[e][t])throw r;return n.publish("i18n.missingKey",{domain:e,key:t}),t}}function i(e,t,r){l[e]=t,"string"==typeof r&&p.push(r),n.publish("i18n.registered",{domain:e,keys:t,moduleId:r})}function o(i,o){var a="en";e.isObject(r.config)&&(a=r.config.locale,r.config.locale=i),p.forEach(require.undef);var s=[].concat(p);"en"!==i&&s.unshift("moment-lang/"+i),require(s,function(){t.lang(i),n.publish("i18n.reloaded",{oldLocale:a,newLocale:i}),e.isFunction(o)&&o()})}function a(e,t,n){function i(){return r(e,t,n)}return i.toString=i,i}function s(e,t){return"undefined"!=typeof l[e]&&"function"==typeof l[e][t]}var l={},p=[];return r.config=null,r.translate=r,r.register=i,r.reload=o,r.bound=a,r.has=s,window.i18n=r,r}),define("socket.io",[],function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e,t){"object"===("undefined"==typeof e?"undefined":o(e))&&(t=e,e=void 0),t=t||{};var n,r=a(e),s=r.source,u=r.id,d=r.path,f=c[u]&&d in c[u].nsps,h=t.forceNew||t["force new connection"]||!1===t.multiplex||f;return h?(p("ignoring socket cache for %s",s),n=l(s,t)):(c[u]||(p("new io instance for %s",s),c[u]=l(s,t)),n=c[u]),r.query&&!t.query?t.query=r.query:t&&"object"===o(t.query)&&(t.query=i(t.query)),n.socket(r.path,t)}function i(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=n(1),s=n(4),l=n(10),p=n(3)("socket.io-client");e.exports=t=r;var c=t.managers={};t.protocol=s.protocol,t.connect=r,t.Manager=n(10),t.Socket=n(37)},function(e,t,n){(function(t){"use strict";function r(e,n){var r=e;n=n||t.location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(o("protocol-less url %s",e),e="undefined"!=typeof n?n.protocol+"//"+e:"https://"+e),o("parse %s",e),r=i(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var a=r.host.indexOf(":")!==-1,s=a?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}var i=n(2),o=n(3)("socket.io-client:url");e.exports=r}).call(t,function(){return this}())},function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,i=e.indexOf("["),o=e.indexOf("]");i!=-1&&o!=-1&&(e=e.substring(0,i)+e.substring(i,o).replace(/:/g,";")+e.substring(o,e.length));for(var a=n.exec(e||""),s={},l=14;l--;)s[r[l]]=a[l]||"";return i!=-1&&o!=-1&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},function(e,t){"use strict";e.exports=function(){return function(){}}},function(e,t,n){function r(){}function i(e){var n="",r=!1;return n+=e.type,t.BINARY_EVENT!=e.type&&t.BINARY_ACK!=e.type||(n+=e.attachments,n+="-"),e.nsp&&"/"!=e.nsp&&(r=!0,n+=e.nsp),null!=e.id&&(r&&(n+=",",r=!1),n+=e.id),null!=e.data&&(r&&(n+=","),n+=u.stringify(e.data)),c("encoded %j as %s",e,n),n}function o(e,t){function n(e){var n=f.deconstructPacket(e),r=i(n.packet),o=n.buffers;o.unshift(r),t(o)}f.removeBlobs(e,n)}function a(){this.reconstructor=null}function s(e){var n={},r=0;if(n.type=Number(e.charAt(0)),null==t.types[n.type])return p();if(t.BINARY_EVENT==n.type||t.BINARY_ACK==n.type){for(var i="";"-"!=e.charAt(++r)&&(i+=e.charAt(r),r!=e.length););if(i!=Number(i)||"-"!=e.charAt(r))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"==e.charAt(r+1))for(n.nsp="";++r;){var o=e.charAt(r);if(","==o)break;if(n.nsp+=o,r==e.length)break}else n.nsp="/";var a=e.charAt(r+1);if(""!==a&&Number(a)==a){for(n.id="";++r;){var o=e.charAt(r);if(null==o||Number(o)!=o){--r;break}if(n.id+=e.charAt(r),r==e.length)break}n.id=Number(n.id)}if(e.charAt(++r))try{n.data=u.parse(e.substr(r))}catch(e){return p()}return c("decoded %s as %j",e,n),n}function l(e){this.reconPack=e,this.buffers=[]}function p(e){return{type:t.ERROR,data:"parser error"}}var c=n(3)("socket.io-parser"),u=n(5),d=(n(6),n(7)),f=n(8),h=n(9);t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=r,t.Decoder=a,r.prototype.encode=function(e,n){if(c("encoding packet %j",e),t.BINARY_EVENT==e.type||t.BINARY_ACK==e.type)o(e,n);else{var r=i(e);n([r])}},d(a.prototype),a.prototype.add=function(e){var n;if("string"==typeof e)n=s(e),t.BINARY_EVENT==n.type||t.BINARY_ACK==n.type?(this.reconstructor=new l(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!h(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,this.emit("decoded",n))}},a.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},l.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=f.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},l.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t){"use strict";e.exports=JSON},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t){function n(e){if(e)return r(e)}function r(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){r.off(e,n),t.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){(function(e){var r=n(6),i=n(9);t.deconstructPacket=function(e){function t(e){if(!e)return e;if(i(e)){var o={_placeholder:!0,num:n.length};return n.push(e),o}if(r(e)){for(var a=new Array(e.length),s=0;s<e.length;s++)a[s]=t(e[s]);return a}if("object"==typeof e&&!(e instanceof Date)){var a={};for(var l in e)a[l]=t(e[l]);return a}return e}var n=[],o=e.data,a=e;return a.data=t(o),a.attachments=n.length,{packet:a,buffers:n}},t.reconstructPacket=function(e,t){function n(e){if(e&&e._placeholder){var i=t[e.num];return i}if(r(e)){for(var o=0;o<e.length;o++)e[o]=n(e[o]);return e}if(e&&"object"==typeof e){for(var a in e)e[a]=n(e[a]);return e}return e}return e.data=n(e.data),e.attachments=void 0,e},t.removeBlobs=function(t,n){function o(t,l,p){if(!t)return t;if(e.Blob&&t instanceof Blob||e.File&&t instanceof File){a++;var c=new FileReader;c.onload=function(){p?p[l]=this.result:s=this.result,--a||n(s)},c.readAsArrayBuffer(t)}else if(r(t))for(var u=0;u<t.length;u++)o(t[u],u,t);else if(t&&"object"==typeof t&&!i(t))for(var d in t)o(t[d],d,t)}var a=0,s=t;o(s),a||n(s)}}).call(t,function(){return this}())},function(e,t){(function(t){function n(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer}e.exports=n}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e,t){return this instanceof r?(e&&"object"===("undefined"==typeof e?"undefined":i(e))&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new f({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new l.Encoder,this.decoder=new l.Decoder,this.autoConnect=t.autoConnect!==!1,void(this.autoConnect&&this.open())):new r(e,t)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=n(11),a=n(37),s=n(38),l=n(4),p=n(40),c=n(41),u=n(3)("socket.io-client:manager"),d=n(35),f=n(43),h=Object.prototype.hasOwnProperty;e.exports=r,r.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)h.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},r.prototype.updateSocketIds=function(){for(var e in this.nsps)h.call(this.nsps,e)&&(this.nsps[e].id=this.engine.id)},s(r.prototype),r.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},r.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},r.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(e,t){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=o(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var i=p(n,"open",function(){r.onopen(),e&&e()}),a=p(n,"error",function(t){if(u("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else r.maybeReconnectOnOpen()});if(!1!==this._timeout){var s=this._timeout;u("connect attempt will timeout after %d",s);var l=setTimeout(function(){u("connect attempt timed out after %d",s),i.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",s)},s);this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(i),this.subs.push(a),this},r.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(p(e,"data",c(this,"ondata"))),this.subs.push(p(e,"ping",c(this,"onping"))),this.subs.push(p(e,"pong",c(this,"onpong"))),this.subs.push(p(e,"error",c(this,"onerror"))),this.subs.push(p(e,"close",c(this,"onclose"))),this.subs.push(p(this.decoder,"decoded",c(this,"ondecoded")))},r.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},r.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},r.prototype.ondata=function(e){this.decoder.add(e)},r.prototype.ondecoded=function(e){this.emit("packet",e)},r.prototype.onerror=function(e){u("error",e),this.emitAll("error",e)},r.prototype.socket=function(e,t){function n(){~d(i.connecting,r)||i.connecting.push(r)}var r=this.nsps[e];if(!r){r=new a(this,e,t),this.nsps[e]=r;var i=this;r.on("connecting",n),r.on("connect",function(){r.id=i.engine.id}),this.autoConnect&&n()}return r},r.prototype.destroy=function(e){var t=d(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},r.prototype.packet=function(e){u("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},r.prototype.cleanup=function(){u("cleanup");for(var e=this.subs.length,t=0;t<e;t++){var n=this.subs.shift();n.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(e){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();u("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(u("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(u("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(u("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},r.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){e.exports=n(12)},function(e,t,n){e.exports=n(13),e.exports.parser=n(21)},function(e,t,n){(function(t){function r(e,n){if(!(this instanceof r))return new r(e,n);n=n||{},e&&"object"==typeof e&&(n=e,e=null),e?(e=c(e),n.hostname=e.host,n.secure="https"==e.protocol||"wss"==e.protocol,n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=c(n.host).host),this.secure=null!=n.secure?n.secure:t.location&&"https:"==location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.agent=n.agent||!1,this.hostname=n.hostname||(t.location?location.hostname:"localhost"),this.port=n.port||(t.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},"string"==typeof this.query&&(this.query=d.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||"t",this.timestampRequests=n.timestampRequests,this.transports=n.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=void 0===n.rejectUnauthorized||n.rejectUnauthorized;var i="object"==typeof t&&t;i.global===i&&n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),this.open()}function i(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var o=n(14),a=n(30),s=n(3)("engine.io-client:socket"),l=n(35),p=n(21),c=n(2),u=n(36),d=n(31);e.exports=r,r.priorWebsocketSuccess=!1,a(r.prototype),r.protocol=p.protocol,r.Socket=r,r.Transport=n(20),r.transports=n(14),r.parser=n(21),r.prototype.createTransport=function(e){s('creating transport "%s"',e);var t=i(this.query);t.EIO=p.protocol,t.transport=e,this.id&&(t.sid=this.id);var n=new o[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders});return n},r.prototype.open=function(){var e;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&this.transports.indexOf("websocket")!=-1)e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},r.prototype.setTransport=function(e){s("setting transport %s",e.name);var t=this;this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},r.prototype.probe=function(e){function t(){if(d.onlyBinaryUpgrades){var t=!this.supportsBinary&&d.transport.supportsBinary;u=u||t}u||(s('probe transport "%s" opened',e),c.send([{type:"ping",data:"probe"}]),c.once("packet",function(t){if(!u)if("pong"==t.type&&"probe"==t.data){if(s('probe transport "%s" pong',e),d.upgrading=!0,d.emit("upgrading",c),!c)return;r.priorWebsocketSuccess="websocket"==c.name,s('pausing current transport "%s"',d.transport.name),d.transport.pause(function(){u||"closed"!=d.readyState&&(s("changing transport and sending upgrade packet"),p(),d.setTransport(c),c.send([{type:"upgrade"}]),d.emit("upgrade",c),c=null,d.upgrading=!1,d.flush())})}else{s('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=c.name,d.emit("upgradeError",n)}}))}function n(){u||(u=!0,p(),c.close(),c=null)}function i(t){var r=new Error("probe error: "+t);r.transport=c.name,n(),s('probe transport "%s" failed because of error: %s',e,t),d.emit("upgradeError",r)}function o(){i("transport closed")}function a(){i("socket closed")}function l(e){c&&e.name!=c.name&&(s('"%s" works - aborting "%s"',e.name,c.name),n())}function p(){c.removeListener("open",t),c.removeListener("error",i),c.removeListener("close",o),d.removeListener("close",a),d.removeListener("upgrading",l)}s('probing transport "%s"',e);var c=this.createTransport(e,{probe:1}),u=!1,d=this;r.priorWebsocketSuccess=!1,c.once("open",t),c.once("error",i),c.once("close",o),this.once("close",a),this.once("upgrading",l),c.open()},r.prototype.onOpen=function(){if(s("socket open"),this.readyState="open",r.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){s("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},r.prototype.onPacket=function(e){if("opening"==this.readyState||"open"==this.readyState)switch(s('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(u(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else s('packet received with socket readyState "%s"',this.readyState)},r.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},r.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!=t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},r.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){s("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},r.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},r.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},r.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},r.prototype.write=r.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},r.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!=this.readyState&&"closed"!=this.readyState){n=n||{},n.compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},r.prototype.close=function(){function e(){r.onClose("forced close"),s("socket closing - telling transport to close"),r.transport.close()}function t(){r.removeListener("upgrade",t),r.removeListener("upgradeError",t),e()}function n(){r.once("upgrade",t),r.once("upgradeError",t)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}return this},r.prototype.onError=function(e){s("socket error %j",e),r.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},r.prototype.onClose=function(e,t){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){s('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}},r.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~l(this.transports,e[n])&&t.push(e[n]);return t}}).call(t,function(){return this}())},function(e,t,n){(function(e){function r(t){var n,r=!1,s=!1,l=!1!==t.jsonp;if(e.location){var p="https:"==location.protocol,c=location.port;c||(c=p?443:80),r=t.hostname!=location.hostname||c!=t.port,s=t.secure!=p}if(t.xdomain=r,t.xscheme=s,n=new i(t),"open"in n&&!t.forceJSONP)return new o(t);if(!l)throw new Error("JSONP disabled");return new a(t)}var i=n(15),o=n(17),a=n(18),s=n(19);t.polling=r,t.websocket=s}).call(t,function(){return this}())},function(e,t,n){var r=n(16);e.exports=function(e){var t=e.xdomain,n=e.xscheme,i=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&i)return new XDomainRequest}catch(e){}if(!t)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}},function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(){}},function(e,t,n){(function(t){function r(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,i.call(this,e)}var i=n(20),o=n(21),a=n(31),s=n(32),l=n(33),p=n(3)("engine.io-client:websocket"),c=t.WebSocket||t.MozWebSocket,u=c;if(!u&&"undefined"==typeof window)try{u=n(34)}catch(e){}e.exports=r,s(r,i),r.prototype.name="websocket",r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=void 0,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.ws=c?new u(e):new u(e,t,n),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},r.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t);
}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(r.prototype.onData=function(e){var t=this;setTimeout(function(){i.prototype.onData.call(t,e)},0)}),r.prototype.write=function(e){function n(){r.emit("flush"),setTimeout(function(){r.writable=!0,r.emit("drain")},0)}var r=this;this.writable=!1;for(var i=e.length,a=0,s=i;a<s;a++)!function(e){o.encodePacket(e,r.supportsBinary,function(o){if(!c){var a={};if(e.options&&(a.compress=e.options.compress),r.perMessageDeflate){var s="string"==typeof o?t.Buffer.byteLength(o):o.length;s<r.perMessageDeflate.threshold&&(a.compress=!1)}}try{c?r.ws.send(o):r.ws.send(o,a)}catch(e){p("websocket closed before onclose event")}--i||n()})}(e[a])},r.prototype.onClose=function(){i.prototype.onClose.call(this)},r.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";this.port&&("wss"==t&&443!=this.port||"ws"==t&&80!=this.port)&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||(e.b64=1),e=a.encode(e),e.length&&(e="?"+e);var r=this.hostname.indexOf(":")!==-1;return t+"://"+(r?"["+this.hostname+"]":this.hostname)+n+this.path+e},r.prototype.check=function(){return!(!u||"__initialize"in u&&this.name===r.prototype.name)}}).call(t,function(){return this}())},function(e,t,n){function r(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders}var i=n(21),o=n(30);e.exports=r,o(r.prototype),r.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},r.prototype.open=function(){return"closed"!=this.readyState&&""!=this.readyState||(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return"opening"!=this.readyState&&"open"!=this.readyState||(this.doClose(),this.onClose()),this},r.prototype.send=function(e){if("open"!=this.readyState)throw new Error("Transport not open");this.write(e)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(e){var t=i.decodePacket(e,this.socket.binaryType);this.onPacket(t)},r.prototype.onPacket=function(e){this.emit("packet",e)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,n){(function(e){function r(e,n){var r="b"+t.packets[e.type]+e.data.data;return n(r)}function i(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=e.data,o=new Uint8Array(i),a=new Uint8Array(1+i.byteLength);a[0]=m[e.type];for(var s=0;s<o.length;s++)a[s+1]=o[s];return r(a.buffer)}function o(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=new FileReader;return i.onload=function(){e.data=i.result,t.encodePacket(e,n,!0,r)},i.readAsArrayBuffer(e.data)}function a(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(_)return o(e,n,r);var i=new Uint8Array(1);i[0]=m[e.type];var a=new y([i.buffer,e.data]);return r(a)}function s(e,t,n){for(var r=new Array(e.length),i=d(e.length,n),o=function(e,n,i){t(n,function(t,n){r[e]=n,i(t,r)})},a=0;a<e.length;a++)o(a,e[a],i)}var l=n(22),p=n(23),c=n(24),u=n(25),d=n(26),f=n(27),h=navigator.userAgent.match(/Android/i),g=/PhantomJS/i.test(navigator.userAgent),_=h||g;t.protocol=3;var m=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},v=l(m),b={type:"error",data:"parser error"},y=n(29);t.encodePacket=function(t,n,o,s){"function"==typeof n&&(s=n,n=!1),"function"==typeof o&&(s=o,o=null);var l=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&l instanceof ArrayBuffer)return i(t,n,s);if(y&&l instanceof e.Blob)return a(t,n,s);if(l&&l.base64)return r(t,s);var p=m[t.type];return void 0!==t.data&&(p+=o?f.encode(String(t.data)):String(t.data)),s(""+p)},t.encodeBase64Packet=function(n,r){var i="b"+t.packets[n.type];if(y&&n.data instanceof e.Blob){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];r(i+e)},o.readAsDataURL(n.data)}var a;try{a=String.fromCharCode.apply(null,new Uint8Array(n.data))}catch(e){for(var s=new Uint8Array(n.data),l=new Array(s.length),p=0;p<s.length;p++)l[p]=s[p];a=String.fromCharCode.apply(null,l)}return i+=e.btoa(a),r(i)},t.decodePacket=function(e,n,r){if("string"==typeof e||void 0===e){if("b"==e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r)try{e=f.decode(e)}catch(e){return b}var i=e.charAt(0);return Number(i)==i&&v[i]?e.length>1?{type:v[i],data:e.substring(1)}:{type:v[i]}:b}var o=new Uint8Array(e),i=o[0],a=c(e,1);return y&&"blob"===n&&(a=new y([a])),{type:v[i],data:a}},t.decodeBase64Packet=function(t,n){var r=v[t.charAt(0)];if(!e.ArrayBuffer)return{type:r,data:{base64:!0,data:t.substr(1)}};var i=u.decode(t.substr(1));return"blob"===n&&y&&(i=new y([i])),{type:r,data:i}},t.encodePayload=function(e,n,r){function i(e){return e.length+":"+e}function o(e,r){t.encodePacket(e,!!a&&n,!0,function(e){r(null,i(e))})}"function"==typeof n&&(r=n,n=null);var a=p(e);return n&&a?y&&!_?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r):e.length?void s(e,o,function(e,t){return r(t.join(""))}):r("0:")},t.decodePayload=function(e,n,r){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,r);"function"==typeof n&&(r=n,n=null);var i;if(""==e)return r(b,0,1);for(var o,a,s="",l=0,p=e.length;l<p;l++){var c=e.charAt(l);if(":"!=c)s+=c;else{if(""==s||s!=(o=Number(s)))return r(b,0,1);if(a=e.substr(l+1,o),s!=a.length)return r(b,0,1);if(a.length){if(i=t.decodePacket(a,n,!0),b.type==i.type&&b.data==i.data)return r(b,0,1);var u=r(i,l+o,p);if(!1===u)return}l+=o,s=""}}return""!=s?r(b,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){function r(e,n){t.encodePacket(e,!0,!0,function(e){return n(null,e)})}return e.length?void s(e,r,function(e,t){var r=t.reduce(function(e,t){var n;return n="string"==typeof t?t.length:t.byteLength,e+n.toString().length+n+2},0),i=new Uint8Array(r),o=0;return t.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),a=0;a<e.length;a++)r[a]=e.charCodeAt(a);n=r.buffer}t?i[o++]=0:i[o++]=1;for(var s=n.byteLength.toString(),a=0;a<s.length;a++)i[o++]=parseInt(s[a]);i[o++]=255;for(var r=new Uint8Array(n),a=0;a<r.length;a++)i[o++]=r[a]}),n(i.buffer)}):n(new ArrayBuffer(0))},t.encodePayloadAsBlob=function(e,n){function r(e,n){t.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);e=r.buffer,t[0]=0}for(var o=e instanceof ArrayBuffer?e.byteLength:e.size,a=o.toString(),s=new Uint8Array(a.length+1),i=0;i<a.length;i++)s[i]=parseInt(a[i]);if(s[a.length]=255,y){var l=new y([t.buffer,s.buffer,e]);n(null,l)}})}s(e,r,function(e,t){return n(new y(t))})},t.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null);for(var i=e,o=[],a=!1;i.byteLength>0;){for(var s=new Uint8Array(i),l=0===s[0],p="",u=1;255!=s[u];u++){if(p.length>310){a=!0;break}p+=s[u]}if(a)return r(b,0,1);i=c(i,2+p.length),p=parseInt(p);var d=c(i,0,p);if(l)try{d=String.fromCharCode.apply(null,new Uint8Array(d))}catch(e){var f=new Uint8Array(d);d="";for(var u=0;u<f.length;u++)d+=String.fromCharCode(f[u])}o.push(d),i=c(i,p)}var h=o.length;o.forEach(function(e,i){r(t.decodePacket(e,n,!0),i,h)})}}).call(t,function(){return this}())},function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},function(e,t,n){(function(t){function r(e){function n(e){if(!e)return!1;if(t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer||t.Blob&&e instanceof Blob||t.File&&e instanceof File)return!0;if(i(e)){for(var r=0;r<e.length;r++)if(n(e[r]))return!0}else if(e&&"object"==typeof e){e.toJSON&&(e=e.toJSON());for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&n(e[o]))return!0}return!1}return n(e)}var i=n(6);e.exports=r}).call(t,function(){return this}())},function(e,t){e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(e),o=new Uint8Array(n-t),a=t,s=0;a<n;a++,s++)o[s]=i[a];return o.buffer}},function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<e.length;r++)n[e.charCodeAt(r)]=r;t.encode=function(t){var n,r=new Uint8Array(t),i=r.length,o="";for(n=0;n<i;n+=3)o+=e[r[n]>>2],o+=e[(3&r[n])<<4|r[n+1]>>4],o+=e[(15&r[n+1])<<2|r[n+2]>>6],o+=e[63&r[n+2]];return i%3===2?o=o.substring(0,o.length-1)+"=":i%3===1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(e){var t,r,i,o,a,s=.75*e.length,l=e.length,p=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var c=new ArrayBuffer(s),u=new Uint8Array(c);for(t=0;t<l;t+=4)r=n[e.charCodeAt(t)],i=n[e.charCodeAt(t+1)],o=n[e.charCodeAt(t+2)],a=n[e.charCodeAt(t+3)],u[p++]=r<<2|i>>4,u[p++]=(15&i)<<4|o>>2,u[p++]=(3&o)<<6|63&a;return c}}()},function(e,t){function n(e,t,n){function i(e,r){if(i.count<=0)throw new Error("after called too many times");--i.count,e?(o=!0,t(e),t=n):0!==i.count||o||t(null,r)}var o=!1;return n=n||r,i.count=e,0===e?t():i}function r(){}e.exports=n},function(e,t,n){var r;(function(e,i){!function(o){function a(e){for(var t,n,r=[],i=0,o=e.length;i<o;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<o?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function s(e){for(var t,n=e.length,r=-1,i="";++r<n;)t=e[r],t>65535&&(t-=65536,i+=y(t>>>10&1023|55296),t=56320|1023&t),i+=y(t);return i}function l(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function p(e,t){return y(e>>t&63|128)}function c(e){if(0==(4294967168&e))return y(e);var t="";return 0==(4294965248&e)?t=y(e>>6&31|192):0==(4294901760&e)?(l(e),t=y(e>>12&15|224),t+=p(e,6)):0==(4292870144&e)&&(t=y(e>>18&7|240),t+=p(e,12),t+=p(e,6)),t+=y(63&e|128)}function u(e){for(var t,n=a(e),r=n.length,i=-1,o="";++i<r;)t=n[i],o+=c(t);return o}function d(){if(b>=v)throw Error("Invalid byte index");var e=255&m[b];if(b++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function f(){var e,t,n,r,i;if(b>v)throw Error("Invalid byte index");if(b==v)return!1;if(e=255&m[b],b++,0==(128&e))return e;if(192==(224&e)){var t=d();if(i=(31&e)<<6|t,i>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=d(),n=d(),i=(15&e)<<12|t<<6|n,i>=2048)return l(i),i;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=d(),n=d(),r=d(),i=(15&e)<<18|t<<12|n<<6|r,i>=65536&&i<=1114111))return i;throw Error("Invalid UTF-8 detected")}function h(e){m=a(e),v=m.length,b=0;for(var t,n=[];(t=f())!==!1;)n.push(t);return s(n)}var g="object"==typeof t&&t,_=("object"==typeof e&&e&&e.exports==g&&e,"object"==typeof i&&i);_.global!==_&&_.window!==_||(o=_);var m,v,b,y=String.fromCharCode,w={version:"2.0.0",encode:u,decode:h};r=function(){return w}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(this)}).call(t,n(28)(e),function(){return this}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){(function(t){function n(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var i=new Uint8Array(n.byteLength);i.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=i.buffer}e[t]=r}}}function r(e,t){t=t||{};var r=new o;n(e);for(var i=0;i<e.length;i++)r.append(e[i]);return t.type?r.getBlob(t.type):r.getBlob()}function i(e,t){return n(e),new Blob(e,t||{})}var o=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,a=function(){try{var e=new Blob(["hi"]);return 2===e.size}catch(e){return!1}}(),s=a&&function(){try{var e=new Blob([new Uint8Array([1,2])]);return 2===e.size}catch(e){return!1}}(),l=o&&o.prototype.append&&o.prototype.getBlob;e.exports=function(){return a?s?t.Blob:i:l?r:void 0}()}).call(t,function(){return this}())},function(e,t){function n(e){if(e)return r(e)}function r(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){r.off(e,n),t.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){"use strict";function n(e){var t="";do t=a[e%s]+t,e=Math.floor(e/s);while(e>0);return t}function r(e){var t=0;for(c=0;c<e.length;c++)t=t*s+l[e.charAt(c)];return t}function i(){var e=n(+new Date);return e!==o?(p=0,o=e):e+"."+n(p++)}for(var o,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),s=64,l={},p=0,c=0;c<s;c++)l[a[c]]=c;i.encode=n,i.decode=r,e.exports=i},function(e,t){},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t){(function(t){var n=/^[\],:{}\s]*$/,r=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,i=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g,a=/^\s+/,s=/\s+$/;e.exports=function(e){return"string"==typeof e&&e?(e=e.replace(a,"").replace(s,""),t.JSON&&JSON.parse?JSON.parse(e):n.test(e.replace(r,"@").replace(i,"]").replace(o,""))?new Function("return "+e)():void 0):null}}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var i=n(4),o=n(38),a=n(39),s=n(40),l=n(41),p=n(3)("socket.io-client:socket"),c=n(42);e.exports=t=r;var u={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},d=o.prototype.emit;o(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[s(e,"open",l(this,"onopen")),s(e,"packet",l(this,"onpacket")),s(e,"close",l(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},r.prototype.send=function(){var e=a(arguments);return e.unshift("message"),this.emit.apply(this,e),this},r.prototype.emit=function(e){if(u.hasOwnProperty(e))return d.apply(this,arguments),this;var t=a(arguments),n=i.EVENT;c(t)&&(n=i.BINARY_EVENT);var r={type:n,data:t};return r.options={},r.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(p("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),delete this.flags,this},r.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},r.prototype.onopen=function(){p("transport is open - connecting"),"/"!==this.nsp&&(this.query?this.packet({type:i.CONNECT,query:this.query}):this.packet({type:i.CONNECT}))},r.prototype.onclose=function(e){p("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},r.prototype.onpacket=function(e){if(e.nsp===this.nsp)switch(e.type){case i.CONNECT:this.onconnect();break;case i.EVENT:this.onevent(e);break;case i.BINARY_EVENT:this.onevent(e);break;case i.ACK:this.onack(e);break;case i.BINARY_ACK:this.onack(e);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",e.data)}},r.prototype.onevent=function(e){var t=e.data||[];p("emitting event %j",t),null!=e.id&&(p("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?d.apply(this,t):this.receiveBuffer.push(t)},r.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var r=a(arguments);p("sending ack %j",r);var o=c(r)?i.BINARY_ACK:i.ACK;t.packet({type:o,id:e,data:r})}}},r.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(p("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):p("bad ack %s",e.id)},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},r.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)d.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){p("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&(p("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},r.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},function(e,t){function n(e){if(e)return r(e)}function r(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t){function n(e,t){var n=[];t=t||0;for(var r=t||0;r<e.length;r++)n[r-t]=e[r];return n}e.exports=n},function(e,t){"use strict";function n(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}e.exports=n},function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return t.apply(e,r.concat(n.call(arguments)))}}},function(e,t,n){(function(t){function r(e){function n(e){if(!e)return!1;if(t.Buffer&&t.Buffer.isBuffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer||t.Blob&&e instanceof Blob||t.File&&e instanceof File)return!0;if(i(e)){for(var r=0;r<e.length;r++)if(n(e[r]))return!0}else if(e&&"object"==typeof e){e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON());for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&n(e[o]))return!0}return!1}return n(e)}var i=n(6);e.exports=r}).call(t,function(){return this}())},function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}}])}),define("app/core/SocketSandbox",["underscore"],function(e){"use strict";function t(e){if(this.socket=e,this.listeners={destroy:[]},e instanceof t){var n=this;this.socket.on("destroy",function(){n.destroy()})}}return t.prototype.destroy=function(){var t=this.listeners;if(null!=t){var n=t.destroy;if(e.isArray(n))for(var r=0,i=n.length;r<i;++r)n[r].call(this);delete this.listeners.destroy;for(var o=Object.keys(t),a=0,s=o.length;a<s;++a)for(var l=o[a],p=t[l],c=0,u=p.length;c<u;++c)this.socket.off(l,p[c]);this.listeners=null,this.socket=null}},t.prototype.sandbox=function(){return new t(this)},t.prototype.getId=function(){return this.socket.getId()},t.prototype.isConnected=function(){return this.socket.isConnected()},t.prototype.on=function(t,n){var r=this.listeners[t];return e.isUndefined(r)&&(r=this.listeners[t]=[]),r.push(n),"destroy"!==t&&this.socket.on(t,n),this},t.prototype.off=function(t,n){var r=this.listeners[t];if(e.isUndefined(r))return this;if(e.isUndefined(n))delete this.listeners[t];else{var i=e.indexOf(r,n);if(i===-1)return this;r.splice(i,1),0===r.length&&delete this.listeners[t]}return"destroy"!==t&&this.socket.off(t,n),this},t.prototype.emit=function(){var e=Array.prototype.slice.call(arguments),t=e.length-1;return e[t]=this.wrapCallback(e[t]),this.socket.emit.apply(this.socket,e),this},t.prototype.send=function(e,t){return this.socket.send(e,this.wrapCallback(t)),this},t.prototype.wrapCallback=function(t){if(!e.isFunction(t))return t;var n=this;return function(){null!==n.socket&&t.apply(this,arguments)}},t}),define("app/core/Socket",["app/core/SocketSandbox"],function(e){"use strict";function t(e){this.sio=e}return t.prototype.sandbox=function(){return new e(this)},t.prototype.getId=function(){return this.sio.id||null},t.prototype.isConnected=function(){return"open"===this.sio.io.readyState},t.prototype.isConnecting=function(){return"opening"===this.sio.io.readyState},t.prototype.connect=function(){this.sio.open()},t.prototype.reconnect=function(){this.connect()},t.prototype.on=function(e,t){return this.sio.on(e,t),this},t.prototype.off=function(e,t){return"undefined"==typeof t?this.sio.removeAllListeners(e):this.sio.off(e,t),this},t.prototype.emit=function(){return this.sio.json.emit.apply(this.sio.json,arguments),this},t.prototype.send=function(e,t){return this.sio.json.send(e,t),this},t}),define("app/socket",["underscore","socket.io","app/broker","app/core/Socket"],function(e,t,n,r){"use strict";var i=new r(t({path:"/socket.io",transports:["websocket"],timeout:1e4,reconnectionDelay:500,autoConnect:!1})),o=!1,a=!1;return i.on("connecting",function(){n.publish("socket.connecting",!1)}),i.on("connect",function(){o||(o=!0,n.publish("socket.connected",!1))}),i.on("connect_error",function(){o||n.publish("socket.connectFailed",!1)}),i.on("message",function(e){n.publish("socket.message",e)}),i.on("disconnect",function(){n.publish("socket.disconnected")}),i.on("reconnecting",function(){a=!0,n.publish("socket.connecting",!0)}),i.on("reconnect",function(){a=!1,n.publish("socket.connected",!0)}),i.on("reconnect_error",function(){a&&(a=!1,n.publish("socket.connectFailed",!0))}),i.on("error",function(){a&&n.publish("socket.connectFailed",!0)}),window.socket=i,i}),define("app/pubsub",["underscore","h5.pubsub/MessageBroker","app/broker","app/socket"],function(e,t,n,r){"use strict";function i(t,r,i){if(r)return void n.publish("pubsub.subscribeFailed",{err:r,topics:t});i.length>0&&n.publish("pubsub.subscribeNotAllowed",{topics:i});var o=e.difference(t,i);o.length>0&&n.publish("pubsub.subscribed",{topics:o})}function o(){r.isConnected()&&r.emit("pubsub.subscribe",p,i.bind(null,p)),p=[],c=null}function a(){var e=Object.keys(l);r.isConnected()&&r.emit("pubsub.unsubscribe",e),l={},u=null,n.publish("pubsub.unsubscribed",{topics:e})}var s=new t,l={},p=[],c=null,u=null;return s.on("new topic",function(e){"undefined"!=typeof l[e]&&delete l[e],r.isConnected()&&(p.push(e),null===c&&(c=setTimeout(o,0)))}),s.on("empty topic",function(e){r.isConnected()&&(l[e]=!0,null===u&&(u=setTimeout(a,0)))}),s.on("message",function(e,t,i){i.remote!==!0&&r.emit("pubsub.publish",e,t,i,function(r){r?n.publish("pubsub.publishFailed",{err:r,topic:e,message:t,meta:i}):n.publish("pubsub.published",{topic:e,message:t,meta:i})})}),r.on("connect",function(){var e=Object.keys(s.count());e.length&&r.emit("pubsub.subscribe",e,i.bind(null,e))}),r.on("pubsub.message",function(e,t){s.publish(e,t,{remote:!0})}),window.pubsub=s,s}),define("app/core/util",["underscore"],function(e){"use strict";var t={};return t.inherits=function(t,n){e.extend(t,n);var r=function(){this.constructor=t};return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},t.decodeUriComponent=function(e){return decodeURIComponent(e.replace(/\+/g," "))},t.defineSandboxedProperty=function(t,n,r){e.isObject(t._sandboxedProperties)||(t._sandboxedProperties={});var i=t._sandboxedProperties,o=t.options[n];return e.isObject(o)?(i[n]=o,t[n]=o,void delete t.options[n]):(i[n]=null,void Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function(){return null===i[n]&&(i[n]=r.sandbox()),i[n]},set:function(e){this[n]=e}}))},t.cleanupSandboxedProperties=function(t){var n=t._sandboxedProperties;if(e.isObject(n)){var r=Object.keys(n);r.forEach(function(t){var r=n[t];r&&e.isFunction(r.destroy)&&r.destroy()}),t._sandboxedProperties=null}},t.subscribeTopics=function(t,n,r,i){if(e.isFunction(r)&&(r=r.call(t)),e.isObject(r)&&e.size(r)){var o=t[n];e.each(r,function(n,r){e.isString(n)&&(n=t[n]),i&&(n=n.bind(t)),o.subscribe(r,n)})}},t.escapeRegExp=function(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},t}),define("app/core/View",["underscore","jquery","backbone.layout","app/broker","app/socket","app/pubsub","./util"],function(e,t,n,r,i,o,a){"use strict";function s(t){this.idPrefix=e.uniqueId("v"),this.options=t||{},this.timers={},this.promises=[],a.defineSandboxedProperty(this,"broker",r),a.defineSandboxedProperty(this,"pubsub",o),a.defineSandboxedProperty(this,"socket",i),n.call(this,t),a.subscribeTopics(this,"broker",this.localTopics,!0),a.subscribeTopics(this,"pubsub",this.remoteTopics,!0)}return a.inherits(s,n),s.prototype.delegateEvents=function(t){return t||(t=e.result(this,"events")),t?(this.undelegateEvents(),void Object.keys(t).forEach(function(n){var r=t[n];if(e.isFunction(r)||(r=this[r]),e.isFunction(r)){var i=n.match(/^(\S+)\s*(.*)$/),o=i[1]+".delegateEvents"+this.cid,a=i[2];""===a?this.$el.on(o,r.bind(this)):(e.isString(this.idPrefix)&&(a=a.replace(/#-/g,"#"+this.idPrefix+"-")),this.$el.on(o,a,r.bind(this)))}},this)):this},s.prototype.cleanup=function(){this.destroy(),this.cleanupSelect2(),a.cleanupSandboxedProperties(this),e.isObject(this.timers)&&(e.each(this.timers,clearTimeout),this.timers=null),this.cancelRequests()},s.prototype.destroy=function(){},s.prototype.cleanupSelect2=function(){var e=this;this.$(".select2-container").each(function(){e.$("#"+this.id.replace("s2id_","")).select2("destroy")})},s.prototype.serialize=function(){return{idPrefix:this.idPrefix}},s.prototype.isRendered=function(){return this.hasRendered===!0},s.prototype.isDetached=function(){return!t.contains(document.documentElement,this.el)},s.prototype.ajax=function(e){return this.promised(t.ajax(e))},s.prototype.promised=function(t){if(!t||!e.isFunction(t.abort))return t;this.promises.push(t);var n=this;return t.always(function(){Array.isArray(n.promises)&&n.promises.splice(n.promises.indexOf(t),1)}),t},s.prototype.cancelRequests=function(){this.promises.forEach(function(e){e.abort()}),this.promises=[]},s.prototype.cancelAnimations=function(e,t){this.$(":animated").stop(e!==!1,t!==!1)},s.prototype.$id=function(t){var n="#";return e.isString(this.idPrefix)&&(n+=this.idPrefix+"-"),this.$(n+t)},s}),define("app/core/templates/messages",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<ol class="messages"></ol>\n');return __output.join("")}}),define("app/core/templates/message",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="message message-'),__append(type),__append('">'),__append(text),__append("</div>\n");return __output.join("")}}),define("app/core/views/MessagesView",["underscore","jquery","app/i18n","../View","app/core/templates/messages","app/core/templates/message"],function(e,t,n,r,i,o){"use strict";var a=0,s=r.extend({template:i,events:{"click .message":function(e){e.currentTarget.parentNode===this.el&&e.currentTarget.getAttribute("data-view")===this.idPrefix&&this.hide(t(e.currentTarget))}},localTopics:{"router.executing":function(){this.hide()}}});return s.prototype.initialize=function(){this.$loadingMessage=null,this.loadingTimer=null,this.loadingCounter=0,this.hideTimers=[],this.loading=this.loading.bind(this),this.loaded=this.loaded.bind(this)},s.prototype.destroy=function(){this.$loadingMessage=null,null!==this.loadingTimer&&(clearTimeout(this.loadingTimer),this.loadingTimer=null),this.hideTimers.length>0&&(this.hideTimers.forEach(clearTimeout),this.hideTimers=null),this.$('.message[data-view="'+this.idPrefix+'"]').remove()},s.prototype.show=function(e){var n=t(o({type:e.type||"info",text:e.text}));return this.$el.append(n.attr("data-view",this.idPrefix)),this.moveDown(n),n.attr("data-top",n.position().top).css("margin-left",-(n.width()/2)+"px"),e.immediate?n.css("opacity",1):n.animate({opacity:1}),this.scheduleHiding(n,e.time),n},s.prototype.hide=function(e,t){if(e){if(e.hasClass("message-hiding"))return;e.addClass("message-hiding")}else e=this.$('.message[data-view="'+this.idPrefix+'"]'),this.$loadingMessage=null;1===e.length&&(this.moveUp(e),this.removeHideTimer(e)),t?e.remove():e.animate({opacity:0},function(){e.remove()})},s.prototype.loading=function(){this.loadingCounter+=1,
null===this.loadingTimer&&(this.loadingTimer=setTimeout(this.showLoadingMessage.bind(this),a))},s.prototype.loaded=function(){this.hideLoadingMessage()},s.prototype.loadingFailed=function(t){this.hideLoadingMessage(),this.show({type:"error",text:e.isString(t)?t:n("core","MSG:LOADING_FAILURE")})},s.prototype.showLoadingMessage=function(){this.loadingTimer=null,null===this.$loadingMessage&&(this.$loadingMessage=this.show({type:"warning",text:'<i class="fa fa-spinner fa-spin"></i><span>'+n("core","MSG:LOADING")+"</span>",immediate:!0}))},s.prototype.hideLoadingMessage=function(){this.loadingCounter>0&&--this.loadingCounter,0===this.loadingCounter&&(null!==this.loadingTimer&&(clearTimeout(this.loadingTimer),this.loadingTimer=null),null!==this.$loadingMessage&&(this.hide(this.$loadingMessage),this.$loadingMessage=null))},s.prototype.moveDown=function(e){this.moveTopBy(this.$('.message[data-view="'+this.idPrefix+'"]'),e,this.getMoveOffset(e))},s.prototype.moveUp=function(e){this.moveTopBy(e.prevAll(".message"),e,-this.getMoveOffset(e))},s.prototype.moveTopBy=function(e,n,r){e.each(function(){if(this!==n[0]){var e=t(this),i=parseInt(e.attr("data-top"),10)+r;e.attr("data-top",i),e.animate({top:i+"px"})}})},s.prototype.getMoveOffset=function(e){return e.outerHeight()+8},s.prototype.scheduleHiding=function(t,n){if(e.isNumber(n)){n<1e3&&(n=1e3);var r=setTimeout(this.hide.bind(this,t),n);t.data("hideTimer",r),this.hideTimers.push(r)}},s.prototype.removeHideTimer=function(t){var n=t.data("hideTimer");e.isUndefined(n)||(clearTimeout(n),t.data("hideTimer",void 0),this.hideTimers.splice(this.hideTimers.indexOf(n),1))},s}),define("app/core/templates/dialogContainer",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="modal viewport-dialog" tabindex="-1">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close cancel">×</button>\n        <h3 class="modal-title"></h3>\n      </div>\n      <div class="modal-body"></div>\n    </div>\n  </div>\n</div>\n');return __output.join("")}}),define("app/core/Viewport",["require","underscore","jquery","./View","./util","./views/MessagesView","app/core/templates/dialogContainer"],function(e,t,n,r,i,o,a){"use strict";function s(e){r.call(this,e),this.msg=e.messagesView?e.messagesView:new o({el:this.el}),this.document=e.document||window.document,this.layouts={},this.currentLayout=null,this.currentLayoutName=null,this.currentPage=null,this.$dialog=null,this.dialogQueue=[],this.currentDialog=null,this.closeDialog=this.closeDialog.bind(this),this.$el.on("click",".viewport-dialog .cancel",this.closeDialog)}var l=function(e){return new e};return i.inherits(s,r),s.prototype.cleanup=function(){this.broker.destroy(),this.msg.remove(),this.$dialog.remove(),this.currentPage&&this.currentPage.remove(),this.currentLayout&&this.currentLayout.remove(),this.currentDialog&&this.currentDialog.remove(),t.invoke(this.dialogQueue.filter(t.isObject),"remove"),this.$el.off("click",".viewport-dialog .cancel",this.closeDialog),this.broker=null,this.msg=null,this.$dialog=null,this.currentLayout=null,this.currentDialog=null,this.dialogQueue=null,this.layouts=null},s.prototype.afterRender=function(){return null!==this.$dialog?this.closeDialog():(this.$dialog=n(a()).appendTo(this.el).modal({show:!1,backdrop:!0}),this.$dialog.on("shown.bs.modal",this.onDialogShown.bind(this)),void this.$dialog.on("hidden.bs.modal",this.onDialogHidden.bind(this)))},s.prototype.registerLayout=function(e,t){return this.layouts[e]=t,this},s.prototype.loadPage=function(n,r){this.msg.loading(),t.isFunction(r)||(r=l);var i=this;e([].concat(n),function(){i.showPage(r.apply(null,arguments)),i.msg.loaded()})},s.prototype.showPage=function(e){function r(){return n.when.apply(n,t.map(arguments,e.promised,e))}function i(){null!==s.currentPage&&s.currentPage.remove(),s.currentPage=e;var n=s.setLayout(a);t.isFunction(n.setUpPage)&&n.setUpPage(e),t.isFunction(e.setUpLayout)&&e.setUpLayout(n),t.isObject(e.view)&&e.setView(e.view),n.setView(n.pageContainerSelector,e),s.isRendered()?n.isRendered()?e.render():n.render():s.render()}function o(){e.remove()}var a=t.result(e,"layoutName");if(!t.isObject(this.layouts[a]))throw new Error("Unknown layout: `"+a+"`");var s=this;t.isFunction(e.load)?e.load(r).then(i,o):i()},s.prototype.showDialog=function(e,n){if(null!==this.currentDialog)return this.dialogQueue.push(e,n),this;var r=e.afterRender,i=this;e.afterRender=function(){var n=i.$dialog.find(".modal-body");n.children()[0]!==e.el&&n.empty().append(e.el),t.isFunction(r)&&r.apply(e,arguments),i.$dialog.modal("show")},this.currentDialog=e;var o=this.$dialog.find(".modal-header");return n?(o.find(".modal-title").text(n),o.show()):o.hide(),e.dialogClassName&&this.$dialog.addClass(t.result(e,"dialogClassName")),e.render(),this},s.prototype.closeDialog=function(e){return null===this.currentDialog?this:(this.$dialog.modal("hide"),e&&e.preventDefault(),this)},s.prototype.closeAllDialogs=function(){this.dialogQueue=[],this.closeDialog()},s.prototype.setLayout=function(e){if(e===this.currentLayoutName)return t.isFunction(this.currentLayout.reset)&&this.currentLayout.reset(),this.currentLayout;var n=this.layouts[e],r=this.options.selector||"";return t.isObject(this.currentLayout)&&this.removeView(r),this.currentLayoutName=e,this.currentLayout=n(),this.setView(r,this.currentLayout),this.currentLayout},s.prototype.onDialogShown=function(){this.currentDialog.$("[autofocus]").focus(),t.isFunction(this.currentDialog.onDialogShown)&&this.currentDialog.onDialogShown(this),this.broker.publish("viewport.dialog.shown",this.currentDialog)},s.prototype.onDialogHidden=function(){this.currentDialog.dialogClassName&&this.$dialog.removeClass(t.result(this.currentDialog,"dialogClassName")),t.isFunction(this.currentDialog.remove)&&(this.currentDialog.remove(),this.broker.publish("viewport.dialog.hidden",this.currentDialog)),this.currentDialog=null,this.dialogQueue.length&&this.showDialog(this.dialogQueue.shift(),this.dialogQueue.shift())},s}),define("app/viewport",["app/broker","app/core/Viewport"],function(e,t){"use strict";var n=new t({el:document.body,selector:"#app-viewport"});return e.subscribe("router.executing",function(){window.scrollTo(0,0)}),window.viewport=n,n}),define("h5.rql/Term",["require","exports","module"],function(e,t,n){"use strict";function r(e,t){this.name=e||null,this.args=t||[]}n.exports=r}),define("h5.rql/specialTerms",["require","exports","module"],function(e,t,n){"use strict";function r(e,t,n){e.fields={};for(var r="select"===t,i=0,o=n.length;i<o;++i){var a=n[i];Array.isArray(a)&&(a=a.join(".")),e.fields[a]=r}}function i(e,t,n){e.sort={};for(var r=0,i=n.length;r<i;++r){var o=n[r];Array.isArray(o)&&(o=o.join(".")),"-"===o[0]?e.sort[o.substr(1)]=-1:"+"===o[0]?e.sort[o.substr(1)]=1:e.sort[o]=1}}function o(e,t,n){var r=parseInt(n[0],10),i=0;n.length>1&&(i=parseInt(n[1],10)),e.limit=isNaN(r)||r<1?-1:r,e.skip=isNaN(i)||i<0?0:i}n.exports={select:r,exclude:r,sort:i,limit:o}}),define("h5.rql/autoConvertedMap",["require","exports","module"],function(e,t,n){"use strict";n.exports={true:!0,false:!1,null:null,undefined:void 0,Infinity:1/0,"-Infinity":-(1/0)}}),define("h5.rql/serializers/stringSerializer",["require","exports","module","../specialTerms","../autoConvertedMap"],function(e,t,n){function r(e,t){var n=[],r=t&&t.doubleEncode?h:f;return i(n,e.fields),o(n,e.sort),a(n,e.limit,e.skip),s(n,r,e.selector),n.join("").substr(1)}function i(e,t){var n=Object.keys(t);0!==n.length&&e.push(t[n[0]]?"&select(":"&exclude(",n.join(","),")")}function o(e,t){var n=Object.keys(t),r=n.length;if(0!==r){e.push("&sort(");for(var i=0;i<r;++i){var o=n[i];t[o]===-1&&e.push("-"),e.push(o),i<r-1&&e.push(",")}e.push(")")}}function a(e,t,n){t!==-1&&(e.push("&limit(",t),0!==n&&e.push(",",n),e.push(")"))}function s(e,t,n){var r=n.args.length;if(0!==r)if("and"===n.name)for(var i=0;i<r;++i){var o=n.args[i];g.hasOwnProperty(o.name)||(e.push("&"),l(e,t,o,r))}else e.push("&"),l(e,t,n,r,!0)}function l(e,t,n,r,i){if(Array.isArray(n))return void c(e,t,n);if(null===n||"object"!=typeof n||"string"!=typeof n.name||!Array.isArray(n.args))return void u(e,t,n);if(m.hasOwnProperty(n.name)&&n.args.length>1)return l(e,t,n.args[0],0),e.push(m[n.name]),void l(e,t,n.args[1],0);var o=",";"and"===n.name?o="&":"or"===n.name&&i!==!0&&(o="|"),p(e,t,o,n,r)}function p(e,t,n,r,i){var o=r.args.length;","===n?e.push(r.name,"("):1!==i&&e.push("(");for(var a=0;a<o;++a)l(e,t,r.args[a],o),a<o-1&&e.push(n);","!==n&&i===-1||e.push(")")}function c(e,t,n){e.push("(");for(var r=0,i=n.length;r<i;++r)l(e,t,n[r],i),r<i-1&&e.push(",");e.push(")")}function u(e,t,n){switch(typeof n){case"undefined":e.push("undefined");break;case"boolean":e.push(n?"true":"false");break;case"number":e.push(n.toString(10));break;case"object":d(e,t,n);break;default:0===n.length?e.push("string:"):isNaN(+n)?_.hasOwnProperty(n)?e.push("string:",n):e.push(t(n)):e.push("string:",n.toString())}}function d(e,t,n){if(null===n)e.push("null");else if(n instanceof Date)e.push("epoch:",n.getTime().toString());else if(n instanceof RegExp){var r=n.toString(),i=r.lastIndexOf("/");""===r.substr(i+1)&&(r=r.substr(1,i-1)),e.push("re:",t(r))}else"function"==typeof n.convertToRqlValue?e.push(n.convertToRqlValue(t)):e.push(t(n.toString()))}function f(e){return e=encodeURIComponent(e),/[\(\)]/.test(e)&&(e=e.replace(/\(/g,"%28").replace(/\)/g,"%29")),e}function h(e){return f(f(e))}var g=e("../specialTerms"),_=e("../autoConvertedMap");t.fromQuery=r;var m={eq:"=",ne:"!=",le:"<=",ge:">=",lt:"<",gt:">",in:"=in=",nin:"=nin="}}),define("h5.rql/Query",["require","exports","module","./Term","./serializers/stringSerializer"],function(e,t,n){"use strict";function r(){this.selector=new i("and"),this.fields={},this.skip=0,this.limit=-1,this.sort={}}var i=e("./Term"),o=e("./serializers/stringSerializer");n.exports=r,r.fromObject=function(e){if(e instanceof r)return e;var t=new r;return e?(e.selector&&(t.selector=e.selector),e.fields&&(t.fields=e.fields),e.skip&&(t.skip=e.skip),e.limit&&(t.limit=e.limit),e.sort&&(t.sort=e.sort),t):t},r.prototype.toString=function(e){return o.fromQuery(this,e)},r.prototype.isEmpty=function(){return 0===this.skip&&this.limit===-1&&0===Object.keys(this.fields).length&&0===Object.keys(this.sort).length&&0===this.selector.args.length}}),define("h5.rql/valueConverters",["require","exports","module","./autoConvertedMap"],function(e,t,n){"use strict";function r(e,t){if(d.hasOwnProperty(e))return d[e];var n=+e;return isNaN(n)||n.toString()!==e?(e=decodeURIComponent(e),t.options.jsonQueryCompatible&&"'"===e[0]&&"'"===e[e.length-1]?JSON.parse('"'+e.substring(1,e.length-1)+'"'):e):n}function i(e){var t=+e;if(isNaN(t))throw new Error("Invalid number: "+e);return t}function o(e){var t=new Date(+e);if(isNaN(t.getTime()))throw new Error("Invalid date: "+e);return t}function a(e){return e=decodeURIComponent(e),e="0000".substr(0,4-e.length)+e,e+="0000-01-01T00:00:00Z".substring(e.length),s(e)}function s(e){e=decodeURIComponent(e);var t,n=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/.exec(e);if(t=null!==n?new Date(Date.UTC(+n[1],+n[2]-1,+n[3],+n[4],+n[5],+n[6])):new Date(e),isNaN(t.getTime()))throw new Error("Invalid date: "+e);return t}function l(e){return!!e}function p(e){return decodeURIComponent(e)}function c(e){e=decodeURIComponent(e);var t=e,n="";if("/"===e[0]){var r=e.lastIndexOf("/");t=e.substr(1,r-1),n=e.substr(r+1)}return new RegExp(t,n)}function u(e){return e=decodeURIComponent(e).replace(/([\\\|\(\)\[\]\{\}\^\$\*\+\?\.<>])/g,"\\$1").replace(/\\\*/g,".*").replace(/\\\?/g,".?"),e=".*"===e.substr(0,2)?e.substr(2):"^"+e,e=".*"===e.substr(e.length-2)?e.substr(0,e.length-2):e+"$",new RegExp(e,"i")}var d=e("./autoConvertedMap");n.exports={default:r,auto:r,number:i,epoch:o,isodate:a,date:s,boolean:l,string:p,re:c,glob:u}}),define("h5.rql/Parser",["require","exports","module","./Term","./valueConverters"],function(e,t,n){"use strict";function r(e){this.options=e instanceof r.Options?e:new r.Options(e)}var i=e("./Term"),o=e("./valueConverters");n.exports=r;var a=/^[\w_\*\-\+\.\$:%]$/,s=/[\+\*\$\-:\w%\._]*\/[\+\*\$\-:\w%\._\/]*/g,l=new RegExp("(\\([\\+\\*\\$\\-:\\w%\\._,]+\\)|[\\+\\*\\$\\-:\\w%\\._]*|)([<>!]?=(?:[\\w]*=)?|>|<)(\\([\\+\\*\\$\\-:\\w%\\._,]+\\)|[\\+\\*\\$\\-:\\w%\\._]*|)","g"),p={"=":"eq","==":"eq",">":"gt",">=":"ge","<":"lt","<=":"le","!=":"ne"};r.Options=function(e){"object"==typeof e&&null!==e||(e={}),this.jsonQueryCompatible=e.jsonQueryCompatible===!0,this.fiqlCompatible=!e.hasOwnProperty("fiqlCompatible")||e.fiqlCompatible===!0,this.allowSlashedArrays=e.allowSlashedArrays===!0,this.allowEmptyValues=e.allowEmptyValues===!0,this.defaultValueConverter="function"==typeof e.defaultValueConverter?e.defaultValueConverter:o.default,this.specialTerms=Array.isArray(e.specialTerms)?e.specialTerms:[],this.emptyValue=e.hasOwnProperty("emptyValue")?e.emptyValue:""},r.prototype.parse=function(e,t){var n="object"==typeof t&&null!==t,r=this.options.specialTerms,o=null,s=new i,l=[],p=!0;this.options.jsonQueryCompatible&&(e=this.makeJsonQueryCompatible(e)),this.options.allowSlashedArrays&&(e=this.convertSlashedArrays(e)),this.options.fiqlCompatible&&(e=this.convertFiql(e));for(var c=0,u=e.length;c<u;++c){var d=e[c];switch(d){case"(":l.push(s),s=new i(o),n&&null!==o&&r.indexOf(o)!==-1&&(delete t[o],t[o]=s.args),o=null,p=!0;break;case",":if(p===!1){if(!this.options.allowEmptyValues)throw new Error("Empty value at position "+c+" is not allowed.");o=this.options.emptyValue}null!==o&&(s.args.push(this.convertStringToValue(o)),o=null),p=!1;break;case")":null!==o&&(s.args.push(this.convertStringToValue(o)),o=null);var f=null===s.name?s.args:s;s=l.pop(),s.args.push(f),p=!0;break;case"&":case"|":var h="&"===d?"and":"or";if(null!==s.name&&s.name!==h)throw new Error("Can not mix conjunctions within a group at position "+c+", use parenthesises around each set of the same conjunctions (& and |)");s.name="&"===d?"and":"or",null!==o&&(s.args.push(this.convertStringToValue(o)),o=null);break;default:if(!a.test(d))throw new Error("Invalid character at position "+c+": '"+d+"' ("+d.charCodeAt(0)+")");null===o?o=d:o+=d,p=!0}}return null!==o&&s.args.push(this.convertStringToValue(o)),null===s.name&&(s.name="and"),"and"===s.name&&1===s.args.length&&s.args[0]instanceof i&&"and"===s.args[0].name&&(s=s.args[0]),s},r.prototype.makeJsonQueryCompatible=function(e){return this.options.jsonQueryCompatible&&(e=e.replace(/%3C=/g,"=le=").replace(/%3E=/g,"=ge=").replace(/%3C/g,"=lt=").replace(/%3E/g,"=gt=")),e},r.prototype.convertSlashedArrays=function(e){return e.indexOf("/")!==-1?e.replace(s,function(e){return"("+e.replace(/\//g,",")+")"}):e},r.prototype.convertFiql=function(e){return e.replace(l,function(e,t,n,r){return n=n.length<3?p[n]:n.substring(1,n.length-1),n+"("+t+","+r+")"})},r.prototype.convertStringToValue=function(e){var t,n=e.indexOf(":");if(n!==-1){var r=e.substr(0,n);if(t=o[r],"undefined"==typeof t)throw new Error("Unknown value converter: "+r);e=e.substr(n+1)}else t=this.options.defaultValueConverter;return t(e,this)}}),define("h5.rql/index",["require","exports","module","./Term","./Query","./Parser","./specialTerms","./valueConverters"],function(e,t,n){"use strict";var r=e("./Term"),i=e("./Query"),o=e("./Parser"),a=e("./specialTerms"),s=e("./valueConverters");t.Term=r,t.Query=i,t.Parser=o,t.specialTerms=a,t.valueConverters=s,t.parser=null,t.parse=function(e){null===t.parser&&(t.parser=new o({jsonQueryCompatible:!0,fiqlCompatible:!0,allowEmptyValues:!1,allowSlashedArrays:!0,specialTerms:Object.keys(a)}));var n=new i,r={};n.selector=t.parser.parse(e,r);for(var s in r)r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&a[s](n,s,r[s]);return n}}),define("app/core/Request",["h5.rql/index","./util"],function(e,t){"use strict";function n(e){"/"!==e[0]&&(e="/"+e);var t=e.match(r);this.url=e,this.path=("/"===t[1][0]?"":"/")+t[1],this.queryString=t[2]||"",this.fragment=t[3]||"",this.params={},this.query={},this.rql={},""!==this.queryString&&this.defineGetters()}var r=/^\/(.*?)(?:\?(.*?))?(?:#(.*?))?$/;return n.prototype.defineGetters=function(){Object.defineProperty(this,"query",{enumerable:!0,configurable:!0,get:function(){return this.parseQueryString()},set:function(e){this.query=e}}),Object.defineProperty(this,"rql",{enumerable:!0,configurable:!0,get:function(){return this.parseRqlString()},set:function(e){this.rql=e}})},n.prototype.parseQueryString=function(){delete this.query;for(var e=this.queryString.split("&"),n={},r=0,i=e.length;r<i;++r){var o=e[r],a=o.indexOf("=");if(a!==-1){var s=t.decodeUriComponent(o.substr(0,a)),l=t.decodeUriComponent(o.substr(a+1));n[s]=l}}return this.query=n,n},n.prototype.parseRqlString=function(){return delete this.rql,this.rql=e.parse(this.queryString),this.rql},n}),define("app/core/Router",["underscore","./util","./Request"],function(e,t,n){"use strict";function r(e){this.broker=e,this.routes=[],this.dispatching=!1,this.dispatchQueue=[],this.currentRequest=null,this.previousUrl=null}function i(n,r){return function(i){var o=n.exec(i.path);if(null===o)return!1;var a=o.length;if(1===a)return!0;var s,l=e.isArray(r)?r.length:0;if(a===l+1)for(s=0;s<l;++s)i.params[r[s]]=t.decodeUriComponent(o[s+1]);else for(s=0;s<a;++s)i.params[s]=t.decodeUriComponent(o[s]);return!0}}var o=/([:*])([\w\-]+)?/g,a=/[\-\[\]{}()+?.,\\\^$|#\s]/g;return r.prototype.getCurrentRequest=function(){return this.currentRequest},r.prototype.map=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),this.routes.unshift(this.createMatcher(e),t)},r.prototype.navigate=function(t,n){this.broker.publish("router.navigate",e.extend({url:t},n))},r.prototype.replace=function(e){this.broker.publish("router.navigate",{url:e,trigger:!0,replace:!0})},r.prototype.update=function(e){this.broker.publish("router.navigate",{url:e,trigger:!1,replace:!0})},r.prototype.dispatch=function(t){if(!e.isUndefined(t)){if(null===t&&(t="/"),this.dispatching)return void this.dispatchQueue.push(t);this.dispatching=!0;var r=new n(t);this.broker.publish("router.dispatching",r);var i=this.match(r);if(null===i){this.dispatching=!1;var o=this.dispatchQueue.shift();e.isUndefined(o)?this.broker.publish("router.404",r):this.dispatch(o)}else this.broker.publish("router.matched",{handlers:i,req:r}),e.defer(this.execute.bind(this,i,r))}},r.prototype.match=function(e){for(var t=this.routes,n=0,r=t.length;n<r;n+=2){var i=t[n];if(i(e))return t[n+1]}return null},r.prototype.execute=function(e,t){function n(i){i+1<e.length?e[i](t,r,n.bind(null,i+1)):e[i](t,r)}this.currentRequest=t,this.broker.publish("router.executing",{handlers:e,req:t});var r=this.previousUrl;n(0),this.previousUrl=t.url,this.dispatching=!1,this.dispatch(this.dispatchQueue.shift())},r.prototype.createMatcher=function(t){if(t instanceof RegExp)return i(t);if(t=t.trim(),""===t||"/"===t)return function(e){return""===e.path||"/"===e.path};var n=[],r=!1,s=t.replace(a,"\\$&");return s=s.replace(o,function(t,i,o){return r=!0,e.isUndefined(o)?"*"===i?".*":t:(n.push(o),"*"===i?"(.*?)":"([^/#?;]*)")}),r?i(new RegExp("^"+s+"$"),n):function(e){return e.path===t}},r}),define("app/core/templates/error400",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<p class="well">'),__append(t("core","ERROR:400")),__append("</p>\n");return __output.join("")}}),define("app/core/templates/error401",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<p class="well">'),__append(t("core","ERROR:401")),__append("</p>\n");return __output.join("")}}),define("app/core/templates/error404",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<p class="well">'),__append(t("core","ERROR:404")),__append("</p>\n");return __output.join("")}}),define("app/core/pages/ErrorPage",["app/i18n","../View","app/core/templates/error400","app/core/templates/error401","app/core/templates/error404"],function(e,t,n,r,i){"use strict";return t.extend({layoutName:"page",pageId:"error",breadcrumbs:function(){return[e.bound("core","BREADCRUMBS:error",{code:this.options.code,codeStr:"e"+this.options.code})]},initialize:function(){var e;switch(this.options.code){case 401:e=r;break;case 404:e=i;break;default:e=n}this.view=new t({template:e})}})}),define("app/router",["backbone","app/broker","app/viewport","app/core/Router","app/core/pages/ErrorPage"],function(e,t,n,r,i){"use strict";e.Router.prototype._extractParameters=function(e,t){return e.exec(t).slice(1)};var o=new r(t),a=new e.Router;a.route("*catchall","catchall",function(e){o.dispatch(e)}),t.subscribe("router.navigate",function(e){var t=e.url,n=t.charAt(0);"#"!==n&&"/"!==n||(t=t.substr(1)),a.navigate(t,{trigger:e.trigger===!0,replace:e.replace===!0})});var s="/404";return t.subscribe("router.404",function(e){e.path===s?n.showPage(new i({code:404,req:e})):o.dispatch(s)}),window.router=o,o}),define("app/data/loadedModules",[],function(){"use strict";for(var e=window.MODULES||[],t={},n=0;n<e.length;++n)t[e[n]]=!0;return{list:e,map:t,isLoaded:function(e){return t[e]===!0}}}),define("app/user",["jquery","underscore","app/i18n","app/broker","app/socket","app/viewport","app/core/pages/ErrorPage"],function(e,t,n,r,i,o,a){"use strict";var s=null,l="localhost"===location.hostname||"127.0.0.1"===location.hostname||window.LOCAL===!0;location.search.indexOf("COMPUTERNAME=")!==-1&&location.search.substr(1).split("&").forEach(function(e){e=e.split("="),"COMPUTERNAME"===e[0]&&e[1]&&(s=e[1])});var p={};return i.on("user.reload",function(e){p.reload(e)}),p.data=t.extend(window.GUEST_USER||{},{name:n.bound("core","GUEST_USER_NAME")}),delete window.GUEST_USER,p.reload=function(e){if(!t.isEqual(e,p.data)){var i=p.isLoggedIn();t.isObject(e)&&Object.keys(e).length>0&&(e.loggedIn===!1&&(e.name=n.bound("core","GUEST_USER_NAME")),p.data=e),r.publish("user.reloaded"),i&&!p.isLoggedIn()&&r.publish("user.loggedOut")}},p.isLoggedIn=function(){return p.data.loggedIn===!0},p.isLocal=function(){return l},p.getLabel=function(){return p.data.name?String(p.data.name):p.data.lastName&&p.data.firstName?p.data.firstName+" "+p.data.lastName:p.data.login},p.getInfo=function(){return{id:p.data._id,ip:p.data.ip||p.data.ipAddress||"0.0.0.0",cname:s,label:p.getLabel()}},p.isAllowedTo=function(e){if(p.data.super)return!0;var t=p.data.privileges;if(!t)return!1;if(!e||0===e.length)return p.isLoggedIn();for(var n=[].concat(e),r=0,i=0,o=n.length;i<o;++i)if(e=n[i],"string"==typeof e)for(var a=new RegExp("^"+e.replace("*",".*?")+"$"),s=0,l=t.length;s<l;++s)if(a.test(t[s])){++r;break}return r===n.length},p.auth=function(e){return function(t,n,r){p.isAllowedTo(e)?r():o.showPage(new a({code:401,req:t,referer:n}))}},p.getRootUserData=function(){return window.ROOT_USER||{id:null,login:"root",name:"root",loggedIn:!0,super:!0,privileges:[]}},window.user=p,p}),define("app/core/templates/pageLayout",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="page">\n  <div class="hd">\n    <nav class="navbar navbar-default"></nav>\n    <div class="page-alerts"></div>\n    <div class="page-header">\n      <ul class="page-actions"></ul>\n      <ul class="page-breadcrumbs"></ul>\n    </div>\n  </div>\n  <div class="bd"></div>\n  <div class="ft">\n    <p>\n      Walkner Xiconf <span id="'),__append(idPrefix),__append('-version">'),__append(version),__append('</span><br>\n      <a href="http://miracle.systems/">miracle.systems</a>\n    </p>\n  </div>\n  '),showParentControls&&(__append('\n  <div class="parentControls">\n    <button id="'),__append(idPrefix),__append('-switchApps" class="btn btn-default" title="'),__append(t("core","parent:switchApps")),__append('"><i class="fa fa-window-restore"></i></button>\n    <button id="'),__append(idPrefix),__append('-reboot" class="btn btn-default" title="'),__append(t("core","parent:reboot")),__append('"><i class="fa fa-refresh"></i></button>\n    <button id="'),__append(idPrefix),__append('-shutdown" class="btn btn-default" title="'),__append(t("core","parent:shutdown")),__append('"><i class="fa fa-power-off"></i></button>\n  </div>\n  ')),__append("\n</div>\n");return __output.join("")}}),define("app/core/layouts/PageLayout",["underscore","jquery","app/user","../View","app/core/templates/pageLayout"],function(e,t,n,r,i){"use strict";var o=r.extend({pageContainerSelector:".bd",template:i,events:{"mousedown #-switchApps":function(e){this.startActionTimer("switchApps",e)},"touchstart #-switchApps":function(){this.startActionTimer("switchApps")},"mouseup #-switchApps":function(){this.stopActionTimer("switchApps")},"touchend #-switchApps":function(){this.stopActionTimer("switchApps")},"mousedown #-reboot":function(e){this.startActionTimer("reboot",e)},"touchstart #-reboot":function(){this.startActionTimer("reboot")},"mouseup #-reboot":function(){this.stopActionTimer("reboot")},"touchend #-reboot":function(){this.stopActionTimer("reboot")},"mousedown #-shutdown":function(e){this.startActionTimer("shutdown",e)},"touchstart #-shutdown":function(){this.startActionTimer("shutdown")},"mouseup #-shutdown":function(){this.stopActionTimer("shutdown")},"touchend #-shutdown":function(){this.stopActionTimer("shutdown")}}});return o.prototype.initialize=function(){this.model={id:null,actions:[],breadcrumbs:[],title:null},this.actionTimer={action:null,time:null},this.$header=null,this.$breadcrumbs=null,this.$actions=null,window.parent!==window&&t(window).on("contextmenu."+this.idPrefix,function(e){e.preventDefault()})},o.prototype.destroy=function(){t(window).off("."+this.idPrefix),this.el.ownerDocument&&this.el.ownerDocument.body.classList.remove("page"),this.$breadcrumbs=null,this.$actions=null},o.prototype.serialize=function(){return e.extend(r.prototype.serialize.call(this),{version:this.options.version,showParentControls:window.parent!==window})},o.prototype.afterRender=function(){this.el.ownerDocument&&this.el.ownerDocument.body.classList.add("page"),this.$header=this.$(".page-header").first(),this.$breadcrumbs=this.$(".page-breadcrumbs").first(),this.$actions=this.$(".page-actions").first(),this.changeTitle(),this.renderBreadcrumbs(),this.renderActions(),null!==this.model.id&&this.setId(this.model.id)},o.prototype.reset=function(){this.setId(null),this.model.title=null,this.$header&&this.$header.hide(),this.$breadcrumbs&&(this.model.breadcrumbs=[],this.$breadcrumbs.empty()),this.$actions&&(this.model.actions=[],this.$actions.empty()),this.removeView(this.pageContainerSelector)},o.prototype.setUpPage=function(e){e.pageId&&this.setId(e.pageId),e.breadcrumbs?this.setBreadcrumbs(e.breadcrumbs,e):e.title?this.setTitle(e.title,e):this.changeTitle(),e.actions&&this.setActions(e.actions,e)},o.prototype.setId=function(e){return this.isRendered()&&this.$el.attr("data-id",e),this.model.id=e,this},o.prototype.setBreadcrumbs=function(e,t){return null==e?this:("function"==typeof e&&(e=e.call(t,this)),Array.isArray(e)||(e=[e]),this.model.breadcrumbs=e.map(function(e){var t=typeof e;return"string"!==t&&"function"!==t||(e={label:e,href:null}),"string"==typeof e.href&&"#"!==e.href[0]&&(e.href="#"+e.href),e}),this.$breadcrumbs&&this.renderBreadcrumbs(),this.changeTitle(),this)},o.prototype.setTitle=function(e,t){return null==e?this:("function"==typeof e&&(e=e.call(t,this)),Array.isArray(e)||(e=[e]),this.model.title=e,this.changeTitle(),this)},o.prototype.setActions=function(e,t){return null==e?this:("function"==typeof e&&(e=e.call(t,this)),e?(Array.isArray(e)||(e=[e]),this.model.actions=e.map(this.prepareAction.bind(this)),this.$actions&&this.renderActions(),this):this)},o.prototype.prepareAction=function(e){if(e.prepared)return e;if("string"==typeof e.href){var t=e.href.charAt(0);"#"!==t&&"/"!==t&&(e.href="#"+e.href)}else e.href=null;return"string"==typeof e.icon&&(e.icon="fa-"+e.icon.split(" ").join(" fa-")),"string"!=typeof e.className&&(e.className=""),e.className="btn btn-"+(e.type||"default")+" "+e.className,e.prepared=!0,e},o.prototype.renderBreadcrumbs=function(){for(var e=this.model.breadcrumbs,t="",n=0,r=e.length;n<r;++n){var i=e[n];t+="<li>",t+=n!==r-1&&i.href?'<a href="'+i.href+'">'+i.label+"</a>":i.label}this.$breadcrumbs.html(t),this.$header.show()},o.prototype.renderActions=function(){for(var t=this.model.actions,r={},i={},o="",a=0,s=t.length;a<s;++a){var l=t[a];if(l.privileges)if(e.isFunction(l.privileges)){if(!l.privileges())continue}else if(!n.isAllowedTo(l.privileges))continue;"function"==typeof l.callback&&(r[a]=l.callback.bind(this)),"function"==typeof l.afterRender&&(i[a]=l.afterRender.bind(this)),o+='<li data-index="'+a+'">',"function"==typeof l.template?o+=l.template(l):(o+=null===l.href?'<button class="'+l.className+'">':'<a class="'+l.className+'" href="'+l.href+'">',"string"==typeof l.icon&&(o+='<i class="fa '+l.icon+'"></i>'),o+="<span>"+l.label+"</span>"+(l.href?"</a>":"</button>"))}this.$actions.html(o);var p=this.$actions.find("li");Object.keys(r).forEach(function(e){p.filter('li[data-index="'+e+'"]').click(t[e].callback)}),Object.keys(i).forEach(function(e){i[e](p.filter('li[data-index="'+e+'"]'),t[e])}),this.$header.show()},o.prototype.changeTitle=function(){if(this.isRendered()){var t=Array.isArray(this.model.title)?[].concat(this.model.title):e.pluck(this.model.breadcrumbs,"label");this.broker.publish("page.titleChanged",t)}},o.prototype.startActionTimer=function(e,t){this.actionTimer.action=e,this.actionTimer.time=Date.now(),t&&t.preventDefault()},o.prototype.stopActionTimer=function(e){if(this.actionTimer.action===e){var t=Date.now()-this.actionTimer.time>3e3;"switchApps"===e?t?window.parent.postMessage({type:"config"},"*"):window.parent.postMessage({type:"switch",app:"xiconf"},"*"):"reboot"===e?t?window.parent.postMessage({type:"reboot"},"*"):window.parent.postMessage({type:"refresh"},"*"):t&&"shutdown"===e&&window.parent.postMessage({type:"shutdown"},"*"),this.actionTimer.action=null,this.actionTimer.time=null}},o}),define("app/core/templates/navbar",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);
with(locals||{})__append('<div class="navbar-inner">\n  <div class="navbar-header">\n    <a class="navbar-brand" href="#"><span class="navbar-brand-company">walkner</span><span class="navbar-brand-product">xiconf</span></a>\n  </div>\n  <div class="collapse navbar-collapse">\n    <ul class="nav navbar-nav">\n      <li><a href="#history">'),__append(t("core","navbar:history")),__append('</a>\n      <li data-module="xiconfPrograms"><a href="#xiconf/programs">'),__append(t("core","navbar:programs")),__append('</a>\n      <li><a href="#settings">'),__append(t("core","navbar:settings")),__append("</a>\n    </ul>\n  </div>\n</div>\n");return __output.join("")}}),define("app/core/views/NavbarView",["underscore","app/i18n","app/user","../View","app/core/templates/navbar"],function(e,t,n,r,i){"use strict";var o=r.extend({template:i,localTopics:{"router.executing":function(e){this.activateNavItem(this.getModuleNameFromPath(e.req.path))},"socket.connected":function(){this.setConnectionStatus("online")},"socket.connecting":function(){this.setConnectionStatus("connecting")},"socket.connectFailed":function(){this.setConnectionStatus("offline")},"socket.disconnected":function(){this.setConnectionStatus("offline")}},events:{"click .disabled a":function(e){e.preventDefault()},"click .navbar-account-locale":function(e){e.preventDefault(),this.changeLocale(e.currentTarget.getAttribute("data-locale"))},"click .navbar-account-logIn":function(e){e.preventDefault(),this.trigger("logIn")},"click .navbar-account-logOut":function(e){e.preventDefault(),this.trigger("logOut")},"click .navbar-feedback":function(e){e.preventDefault(),e.target.disabled=!0,this.trigger("feedback",function(){e.target.disabled=!1})},"mouseup .btn[data-href]":function(e){if(2!==e.button){var t=e.currentTarget.dataset.href;return e.ctrlKey||1===e.button?window.open(t):window.location.href=t,document.body.click(),!1}}}});return o.DEFAULT_OPTIONS={currentPath:"/",activeItemClassName:"active",offlineStatusClassName:"navbar-status-offline",onlineStatusClassName:"navbar-status-online",connectingStatusClassName:"navbar-status-connecting",loadedModules:{}},o.prototype.initialize=function(){e.defaults(this.options,o.DEFAULT_OPTIONS),this.activeModuleName="",this.navItems=null,this.$activeNavItem=null,this.activateNavItem(this.getModuleNameFromPath(this.options.currentPath))},o.prototype.beforeRender=function(){this.navItems=null,this.$activeNavItem=null},o.prototype.afterRender=function(){this.selectActiveNavItem(),this.setConnectionStatus(this.socket.isConnected()?"online":"offline"),this.hideNotAllowedEntries(),this.hideEmptyEntries()},o.prototype.serialize=function(){return{idPrefix:this.idPrefix,user:n}},o.prototype.activateNavItem=function(e){e!==this.activeModuleName&&(this.activeModuleName=e,this.selectActiveNavItem())},o.prototype.changeLocale=function(e){t.reload(e)},o.prototype.setConnectionStatus=function(e){if(this.isRendered()){var t=this.$(".navbar-account-status");t.removeClass(this.options.offlineStatusClassName).removeClass(this.options.onlineStatusClassName).removeClass(this.options.connectingStatusClassName),t.addClass(this.options[e+"StatusClassName"]),this.toggleConnectionStatusEntries("online"===e)}},o.prototype.getModuleNameFromLi=function(e,t,n){var r=e.dataset[n?"clientModule":"module"];if(void 0===r&&!t)return null;if(r)return r;var i=e.querySelector("a");if(!i)return null;var o=i.getAttribute("href");return o?this.getModuleNameFromPath(o):null},o.prototype.getModuleNameFromPath=function(e){if("/"!==e[0]&&"#"!==e[0]||(e=e.substr(1)),""===e)return"";var t=e.match(/^([a-z0-9][a-z0-9\-]*[a-z0-9]*)/i);return t?t[1]:null},o.prototype.selectActiveNavItem=function(){if(this.isRendered()){null===this.navItems&&this.cacheNavItems();var t=this.options.activeItemClassName;null!==this.$activeNavItem&&this.$activeNavItem.removeClass(t);var n=this.navItems[this.activeModuleName];e.isUndefined(n)?this.$activeNavItem=null:(n.addClass(t),this.$activeNavItem=n)}},o.prototype.cacheNavItems=function(){this.navItems={},this.$(".nav > li").each(this.cacheNavItem.bind(this))},o.prototype.cacheNavItem=function(e,t){var n=this.$(t);n.hasClass(this.options.activeItemClassName)&&(this.$activeNavItem=n);var r=n.find("a").attr("href");if(r&&"#"===r[0]){var i=this.getModuleNameFromLi(n[0],!0,!0);this.navItems[i]=n}else if(n.hasClass("dropdown")){var o=this;n.find(".dropdown-menu > li").each(function(){var e=o.getModuleNameFromLi(this,!0,!0);o.navItems[e]=n})}},o.prototype.hideNotAllowedEntries=function(){function e(n){if(!n.hasClass("dropdown"))return!0;var i=!0;return n.find("> .dropdown-menu > li").each(function(){var o=n.find(this);if(!t(o)){var a=r(o)&&e(o);o.toggle(a),i=i||a}}),i}function t(e){return e.hasClass("divider")?(s.push(e),!0):!!e.hasClass("dropdown-header")&&(a.push(e),!0)}function r(e){var t=e.attr("data-loggedin");if("string"==typeof t&&(t="0"!==t,t!==o))return!1;var r=i.getModuleNameFromLi(e[0],!1);if(null!==r&&void 0===e.attr("data-no-module")&&!i.options.loadedModules[r])return!1;var a=e.attr("data-privilege");return void 0===a||n.isAllowedTo.apply(n,a.split(" "))}var i=this,o=n.isLoggedIn(),a=[],s=[];this.$(".navbar-nav > li").each(function(){var n=i.$(this);t(n)||n.toggle(r(n)&&e(n))}),a.forEach(function(e){e.toggle(i.hasVisibleSiblings(e,"next"))}),s.forEach(function(e){e.toggle(i.hasVisibleSiblings(e,"prev")&&i.hasVisibleSiblings(e,"next"))}),this.$(".btn[data-privilege]").each(function(){this.style.display=n.isAllowedTo.apply(n,this.dataset.privilege.split(" "))?"":"none"})},o.prototype.hasVisibleSiblings=function(e,t){var n=e[t+"All"]().filter(function(){return"none"!==this.style.display});if(!n.length)return!1;var r=n.first();return!r.hasClass("divider")},o.prototype.hideEmptyEntries=function(){var e=this;this.$(".dropdown > .dropdown-menu").each(function(){var t=e.$(this),n=!1;t.children().each(function(){n=n||"none"!==this.style.display}),n||t.parent().hide()})},o.prototype.toggleConnectionStatusEntries=function(e){var t=this;this.$("li[data-online]").each(function(){var n=t.$(this);if("undefined"!=typeof n.attr("data-disabled"))return n.addClass("disabled");switch(n.attr("data-online")){case"show":n[e?"show":"hide"]();break;case"hide":n[e?"hide":"show"]();break;default:n[e?"removeClass":"addClass"]("disabled")}})},o}),define("app/core/Model",["backbone"],function(e){"use strict";return e.Model.extend({idAttribute:"_id",urlRoot:"/",clientUrlRoot:null,topicPrefix:null,privilegePrefix:null,nlsDomain:null,labelAttribute:null,genClientUrl:function(e){if(null===this.clientUrlRoot)throw new Error("`clientUrlRoot` was not specified");var t=this.clientUrlRoot;return"base"===e?t:(t+="/",t+=this.isNew()?encodeURIComponent(this.cid):encodeURIComponent(this.id),"string"==typeof e&&(t+=";"+e),t)},getTopicPrefix:function(){return this.topicPrefix},getPrivilegePrefix:function(){return this.privilegePrefix},getNlsDomain:function(){return this.nlsDomain||"core"},getLabelAttribute:function(){return this.labelAttribute||this.idAttribute},getLabel:function(){return String(this.get(this.getLabelAttribute()))}})}),define("app/settings/Settings",["underscore","../core/Model"],function(e,t){"use strict";var n=window.AVAILABLE_FEATURES||[];return t.extend({urlRoot:"/settings",clientUrlRoot:"#settings",topicPrefix:"settings",nlsDomain:"settings",initHotkeys:function(){var e=this.get("hotkeys"),t=this.hotkeyToActions={};e&&Object.keys(e).forEach(function(n){var r=e[n];"Space"===r&&(r=" "),void 0===t[r]?t[r]=[n]:t[r].push(n)})},getLicenseFeatures:function(e){if(!e){var t=this.get("licenseInfo");if(!t||!t.features)return"";e=t.features}return n.filter(function(t){return this.supportsFeature(t,e)},this).join(", ").toUpperCase()},isValidLicense:function(){var e=this.get("licenseInfo");return e&&!e.error},supportsFeature:function(e,t){if(!t){var r=this.get("licenseInfo");if(!r)return!1;t=r.features}var i=n.indexOf(e.toLowerCase());return i!==-1&&!!(t&Math.pow(2,i))},getLabelsFromFeatures:function(e){var t=[];return e.toString(2).split("").reverse().forEach(function(e,r){if("1"===e){var i=n[r];i&&t.push(i.toUpperCase())}}),t},getFeaturesFromLabels:function(t){return parseInt(n.map(function(n){return e.contains(t,n.toUpperCase())?1:0}).reverse().join(""),2)},isFtOrder:function(e){var t=this.get("ftOrderPattern");if(0===t.length)return!0;"string"!=typeof e&&(e=""),t=t.split("\n");for(var n=0;n<t.length;++n){var r=t[n];try{var i=new RegExp(r,"i");if(i.test(e))return!0}catch(t){if(e.indexOf(r)!==-1)return!0}}return!1}},{AVAILABLE_FEATURES:n})}),define("app/data/settings",["../i18n","../broker","../pubsub","../viewport","../settings/Settings"],function(e,t,n,r,i){"use strict";function o(){null!==s&&s.$id("programs").toggle(!!a.get("testingEnabled"))}var a=new i(window.SETTINGS||{}),s=null;return n.subscribe("settings.changed",function(t){a.set(t),r.msg.show({type:"info",time:2500,text:e("settings","msg:success")})}),a.on("change:hotkeys",function(){a.initHotkeys()}),a.on("change:testingEnabled",o),t.subscribe("navbar.afterRender",function(e){s=e.view,o()}),window.settings=a,a}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("moment-timezone",["moment"],t):"object"==typeof exports?module.exports=t(require("moment")):t(e.moment)}(this,function(e){"use strict";function t(e){return e>96?e-87:e>64?e-29:e-48}function n(e){var n,r=0,i=e.split("."),o=i[0],a=i[1]||"",s=1,l=0,p=1;for(45===e.charCodeAt(0)&&(r=1,p=-1),r;r<o.length;r++)n=t(o.charCodeAt(r)),l=60*l+n;for(r=0;r<a.length;r++)s/=60,n=t(a.charCodeAt(r)),l+=n*s;return l*p}function r(e){for(var t=0;t<e.length;t++)e[t]=n(e[t])}function i(e,t){for(var n=0;n<t;n++)e[n]=Math.round((e[n-1]||0)+6e4*e[n]);e[t-1]=1/0}function o(e,t){var n,r=[];for(n=0;n<t.length;n++)r[n]=e[t[n]];return r}function a(e){var t=e.split("|"),n=t[2].split(" "),a=t[3].split(""),s=t[4].split(" ");return r(n),r(a),r(s),i(s,a.length),{name:t[0],abbrs:o(t[1].split(" "),a),offsets:o(n,a),untils:s}}function s(e){e&&this._set(a(e))}function l(e){return(e||"").toLowerCase().replace(/\//g,"_")}function p(e){var t,n,r;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)n=new s(e[t]),r=l(n.name),E[r]=n,f(r)}function c(e){return E[l(e)]||null}function u(){var e,t=[];for(e in E)E.hasOwnProperty(e)&&E[e]&&t.push(E[e].name);return t.sort()}function d(e){var t,n;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)n=e[t].split("|"),g(n[0],n[1]),g(n[1],n[0])}function f(e){if(A[e]){var t,n=E[e],r=A[e];for(t=0;t<r.length;t++)h(n,r[t]);A[e]=null}}function h(e,t){var n=E[l(t)]=new s;n._set(e),n.name=t}function g(e,t){e=l(e),E[e]?h(E[e],t):(A[e]=A[e]||[],A[e].push(t))}function _(e){p(e.zones),d(e.links),y.dataVersion=e.version}function m(e){return m.didShowError||(m.didShowError=!0,b("moment.tz.zoneExists('"+e+"') has been deprecated in favor of !moment.tz.zone('"+e+"')")),!!c(e)}function v(e){return!(!e._a||void 0!==e._tzm)}function b(e){"undefined"!=typeof console&&"function"==typeof console.error}function y(){var t=Array.prototype.slice.call(arguments,0,-1),n=arguments[arguments.length-1],r=c(n),i=e.utc.apply(null,t);return r&&v(i)&&i.add(r.parse(i),"minutes"),i.tz(n),i}function w(e){return function(){return this._z?this._z.abbr(this):e.call(this)}}function T(e){return function(){return this._z=null,e.apply(this,arguments)}}if(void 0!==e.tz)return e;var P="0.2.4",E={},A={},k=e.version.split("."),S=+k[0],x=+k[1];(S<2||2===S&&x<6)&&b("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+e.version+". See momentjs.com"),s.prototype={_set:function(e){this.name=e.name,this.abbrs=e.abbrs,this.untils=e.untils,this.offsets=e.offsets},_index:function(e){var t,n=+e,r=this.untils;for(t=0;t<r.length;t++)if(n<r[t])return t},parse:function(e){var t,n,r,i,o=+e,a=this.offsets,s=this.untils,l=s.length-1;for(i=0;i<l;i++)if(t=a[i],n=a[i+1],r=a[i?i-1:i],t<n&&y.moveAmbiguousForward?t=n:t>r&&y.moveInvalidForward&&(t=r),o<s[i]-6e4*t)return a[i];return a[l]},abbr:function(e){return this.abbrs[this._index(e)]},offset:function(e){return this.offsets[this._index(e)]}},y.version=P,y.dataVersion="",y._zones=E,y._links=A,y.add=p,y.link=d,y.load=_,y.zone=c,y.zoneExists=m,y.names=u,y.Zone=s,y.unpack=a,y.unpackBase60=n,y.needsOffset=v,y.moveInvalidForward=!0,y.moveAmbiguousForward=!1;var C=e.fn;e.tz=y,e.updateOffset=function(e,t){var n;e._z&&(n=e._z.offset(e),Math.abs(n)<16&&(n/=60),e.zone(n,t))},C.tz=function(t){return t?(this._z=c(t),this._z?e.updateOffset(this):b("Moment Timezone has no data for "+t+". See http://momentjs.com/timezone/docs/#/data-loading/."),this):this._z?this._z.name:void 0},C.zoneName=w(C.zoneName),C.zoneAbbr=w(C.zoneAbbr),C.utc=T(C.utc);var L=e.momentProperties;return"[object Array]"===Object.prototype.toString.call(L)?(L.push("_z"),L.push("_a")):L&&(L._z=null),_({version:"2014i",zones:["Africa/Abidjan|GMT|0|0|","Africa/Addis_Ababa|EAT|-30|0|","Africa/Algiers|CET|-10|0|","Africa/Bangui|WAT|-10|0|","Africa/Blantyre|CAT|-20|0|","Africa/Cairo|EET EEST|-20 -30|0101010101010101010101010101010|1Cby0 Fb0 c10 8n0 8Nd0 gL0 e10 mn0 1o10 jz0 gN0 pb0 1qN0 dX0 e10 xz0 1o10 bb0 e10 An0 1o10 5z0 e10 FX0 1o10 2L0 e10 IL0 1C10 Lz0","Africa/Casablanca|WET WEST|0 -10|01010101010101010101010101010101010101010|1Cco0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uo0 e00 DA0 11A0 rA0 e00 Jc0 WM0 m00 gM0 M00 WM0 jc0 e00 RA0 11A0 dA0 e00 Uo0 11A0 800 gM0 Xc0","Africa/Ceuta|CET CEST|-10 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Africa/Johannesburg|SAST|-20|0|","Africa/Tripoli|EET CET CEST|-20 -10 -20|0120|1IlA0 TA0 1o00","Africa/Windhoek|WAST WAT|-20 -10|01010101010101010101010|1C1c0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0","America/Adak|HAST HADT|a0 90|01010101010101010101010|1BR00 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Anchorage|AKST AKDT|90 80|01010101010101010101010|1BQX0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Anguilla|AST|40|0|","America/Araguaina|BRT BRST|30 20|010|1IdD0 Lz0","America/Argentina/Buenos_Aires|ART|30|0|","America/Asuncion|PYST PYT|30 40|01010101010101010101010|1C430 1a10 1fz0 1a10 1fz0 1cN0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0","America/Atikokan|EST|50|0|","America/Bahia|BRT BRST|30 20|010|1FJf0 Rb0","America/Bahia_Banderas|MST CDT CST|70 50 60|01212121212121212121212|1C1l0 1nW0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Belem|BRT|30|0|","America/Belize|CST|60|0|","America/Boa_Vista|AMT|40|0|","America/Bogota|COT|50|0|","America/Boise|MST MDT|70 60|01010101010101010101010|1BQV0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Campo_Grande|AMST AMT|30 40|01010101010101010101010|1BIr0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10","America/Cancun|CST CDT|60 50|01010101010101010101010|1C1k0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Caracas|VET|4u|0|","America/Cayenne|GFT|30|0|","America/Chicago|CST CDT|60 50|01010101010101010101010|1BQU0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Chihuahua|MST MDT|70 60|01010101010101010101010|1C1l0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Creston|MST|70|0|","America/Dawson|PST PDT|80 70|01010101010101010101010|1BQW0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Detroit|EST EDT|50 40|01010101010101010101010|1BQT0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Eirunepe|AMT ACT|40 50|01|1KLE0","America/Glace_Bay|AST ADT|40 30|01010101010101010101010|1BQS0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Godthab|WGT WGST|30 20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","America/Goose_Bay|AST ADT|40 30|01010101010101010101010|1BQQ1 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Grand_Turk|EST EDT AST|50 40 40|01010101012|1BQT0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Guayaquil|ECT|50|0|","America/Guyana|GYT|40|0|","America/Havana|CST CDT|50 40|01010101010101010101010|1BQR0 1wo0 U00 1zc0 U00 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0","America/La_Paz|BOT|40|0|","America/Lima|PET|50|0|","America/Metlakatla|PST|80|0|","America/Miquelon|PMST PMDT|30 20|01010101010101010101010|1BQR0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Montevideo|UYST UYT|20 30|01010101010101010101010|1BQQ0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10","America/Noronha|FNT|20|0|","America/North_Dakota/Beulah|MST MDT CST CDT|70 60 60 50|01232323232323232323232|1BQV0 1zb0 Oo0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Paramaribo|SRT|30|0|","America/Port-au-Prince|EST EDT|50 40|0101010101010101010|1GI70 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Santa_Isabel|PST PDT|80 70|01010101010101010101010|1C1m0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Santiago|CLST CLT|30 40|01010101010101010101010|1C1f0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Op0 1zb0 Rd0 1wn0 Rd0","America/Sao_Paulo|BRST BRT|20 30|01010101010101010101010|1BIq0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10","America/Scoresbysund|EGT EGST|10 0|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","America/St_Johns|NST NDT|3u 2u|01010101010101010101010|1BQPv 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","Antarctica/Casey|CAST AWST|-b0 -80|0101|1BN30 40P0 KL0","Antarctica/Davis|DAVT DAVT|-50 -70|0101|1BPw0 3Wn0 KN0","Antarctica/DumontDUrville|DDUT|-a0|0|","Antarctica/Macquarie|AEDT MIST|-b0 -b0|01|1C140","Antarctica/Mawson|MAWT|-50|0|","Antarctica/McMurdo|NZDT NZST|-d0 -c0|01010101010101010101010|1C120 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00","Antarctica/Rothera|ROTT|30|0|","Antarctica/Syowa|SYOT|-30|0|","Antarctica/Troll|UTC CEST|0 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Antarctica/Vostok|VOST|-60|0|","Asia/Aden|AST|-30|0|","Asia/Almaty|ALMT|-60|0|","Asia/Amman|EET EEST|-20 -30|010101010101010101010|1BVy0 1qM0 11A0 1o00 11A0 4bX0 Dd0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0","Asia/Anadyr|ANAT ANAST ANAT|-c0 -c0 -b0|0120|1BWe0 1qN0 WM0","Asia/Aqtau|AQTT|-50|0|","Asia/Ashgabat|TMT|-50|0|","Asia/Baku|AZT AZST|-40 -50|01010101010101010101010|1BWo0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Bangkok|ICT|-70|0|","Asia/Beirut|EET EEST|-20 -30|01010101010101010101010|1BWm0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0","Asia/Bishkek|KGT|-60|0|","Asia/Brunei|BNT|-80|0|","Asia/Calcutta|IST|-5u|0|","Asia/Chita|YAKT YAKST YAKT IRKT|-90 -a0 -a0 -80|01023|1BWh0 1qM0 WM0 8Hz0","Asia/Choibalsan|CHOT|-80|0|","Asia/Chongqing|CST|-80|0|","Asia/Dacca|BDT|-60|0|","Asia/Damascus|EET EEST|-20 -30|01010101010101010101010|1C0m0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0","Asia/Dili|TLT|-90|0|","Asia/Dubai|GST|-40|0|","Asia/Dushanbe|TJT|-50|0|","Asia/Gaza|EET EEST|-20 -30|01010101010101010101010|1BVW1 SKX 1xd1 MKX 1AN0 1a00 1fA0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0","Asia/Hebron|EET EEST|-20 -30|0101010101010101010101010|1BVy0 Tb0 1xd1 MKX bB0 cn0 1cN0 1a00 1fA0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0","Asia/Hong_Kong|HKT|-80|0|","Asia/Hovd|HOVT|-70|0|","Asia/Irkutsk|IRKT IRKST IRKT|-80 -90 -90|01020|1BWi0 1qM0 WM0 8Hz0","Asia/Istanbul|EET EEST|-20 -30|01010101010101010101010|1BWp0 1qM0 Xc0 1qo0 WM0 1qM0 11A0 1o00 1200 1nA0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Jakarta|WIB|-70|0|","Asia/Jayapura|WIT|-90|0|","Asia/Jerusalem|IST IDT|-20 -30|01010101010101010101010|1BVA0 17X0 1kp0 1dz0 1c10 1aL0 1eN0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0","Asia/Kabul|AFT|-4u|0|","Asia/Kamchatka|PETT PETST PETT|-c0 -c0 -b0|0120|1BWe0 1qN0 WM0","Asia/Karachi|PKT|-50|0|","Asia/Kashgar|XJT|-60|0|","Asia/Kathmandu|NPT|-5J|0|","Asia/Khandyga|VLAT VLAST VLAT YAKT YAKT|-a0 -b0 -b0 -a0 -90|010234|1BWg0 1qM0 WM0 17V0 7zD0","Asia/Krasnoyarsk|KRAT KRAST KRAT|-70 -80 -80|01020|1BWj0 1qM0 WM0 8Hz0","Asia/Kuala_Lumpur|MYT|-80|0|","Asia/Magadan|MAGT MAGST MAGT MAGT|-b0 -c0 -c0 -a0|01023|1BWf0 1qM0 WM0 8Hz0","Asia/Makassar|WITA|-80|0|","Asia/Manila|PHT|-80|0|","Asia/Nicosia|EET EEST|-20 -30|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Novokuznetsk|KRAT NOVST NOVT NOVT|-70 -70 -60 -70|01230|1BWj0 1qN0 WM0 8Hz0","Asia/Novosibirsk|NOVT NOVST NOVT|-60 -70 -70|01020|1BWk0 1qM0 WM0 8Hz0","Asia/Omsk|OMST OMSST OMST|-60 -70 -70|01020|1BWk0 1qM0 WM0 8Hz0","Asia/Oral|ORAT|-50|0|","Asia/Pyongyang|KST|-90|0|","Asia/Qyzylorda|QYZT|-60|0|","Asia/Rangoon|MMT|-6u|0|","Asia/Sakhalin|SAKT SAKST SAKT|-a0 -b0 -b0|01020|1BWg0 1qM0 WM0 8Hz0","Asia/Samarkand|UZT|-50|0|","Asia/Singapore|SGT|-80|0|","Asia/Srednekolymsk|MAGT MAGST MAGT SRET|-b0 -c0 -c0 -b0|01023|1BWf0 1qM0 WM0 8Hz0","Asia/Tbilisi|GET|-40|0|","Asia/Tehran|IRST IRDT|-3u -4u|01010101010101010101010|1BTUu 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0","Asia/Thimbu|BTT|-60|0|","Asia/Tokyo|JST|-90|0|","Asia/Ulaanbaatar|ULAT|-80|0|","Asia/Ust-Nera|MAGT MAGST MAGT VLAT VLAT|-b0 -c0 -c0 -b0 -a0|010234|1BWf0 1qM0 WM0 17V0 7zD0","Asia/Vladivostok|VLAT VLAST VLAT|-a0 -b0 -b0|01020|1BWg0 1qM0 WM0 8Hz0","Asia/Yakutsk|YAKT YAKST YAKT|-90 -a0 -a0|01020|1BWh0 1qM0 WM0 8Hz0","Asia/Yekaterinburg|YEKT YEKST YEKT|-50 -60 -60|01020|1BWl0 1qM0 WM0 8Hz0","Asia/Yerevan|AMT AMST|-40 -50|01010|1BWm0 1qM0 WM0 1qM0","Atlantic/Azores|AZOT AZOST|10 0|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Atlantic/Canary|WET WEST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Atlantic/Cape_Verde|CVT|10|0|","Atlantic/South_Georgia|GST|20|0|","Atlantic/Stanley|FKST FKT|30 40|010|1C6R0 U10","Australia/ACT|AEDT AEST|-b0 -a0|01010101010101010101010|1C140 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0","Australia/Adelaide|ACDT ACST|-au -9u|01010101010101010101010|1C14u 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0","Australia/Brisbane|AEST|-a0|0|","Australia/Darwin|ACST|-9u|0|","Australia/Eucla|ACWST|-8J|0|","Australia/LHI|LHDT LHST|-b0 -au|01010101010101010101010|1C130 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu","Australia/Perth|AWST|-80|0|","Chile/EasterIsland|EASST EAST|50 60|01010101010101010101010|1C1f0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Op0 1zb0 Rd0 1wn0 Rd0","Eire|GMT IST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Etc/GMT+1|GMT+1|10|0|","Etc/GMT+10|GMT+10|a0|0|","Etc/GMT+11|GMT+11|b0|0|","Etc/GMT+12|GMT+12|c0|0|","Etc/GMT+2|GMT+2|20|0|","Etc/GMT+3|GMT+3|30|0|","Etc/GMT+4|GMT+4|40|0|","Etc/GMT+5|GMT+5|50|0|","Etc/GMT+6|GMT+6|60|0|","Etc/GMT+7|GMT+7|70|0|","Etc/GMT+8|GMT+8|80|0|","Etc/GMT+9|GMT+9|90|0|","Etc/GMT-1|GMT-1|-10|0|","Etc/GMT-10|GMT-10|-a0|0|","Etc/GMT-11|GMT-11|-b0|0|","Etc/GMT-12|GMT-12|-c0|0|","Etc/GMT-13|GMT-13|-d0|0|","Etc/GMT-14|GMT-14|-e0|0|","Etc/GMT-2|GMT-2|-20|0|","Etc/GMT-3|GMT-3|-30|0|","Etc/GMT-4|GMT-4|-40|0|","Etc/GMT-5|GMT-5|-50|0|","Etc/GMT-6|GMT-6|-60|0|","Etc/GMT-7|GMT-7|-70|0|","Etc/GMT-8|GMT-8|-80|0|","Etc/GMT-9|GMT-9|-90|0|","Etc/UCT|UCT|0|0|","Etc/UTC|UTC|0|0|","Europe/Belfast|GMT BST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Kaliningrad|EET EEST FET|-20 -30 -30|01020|1BWo0 1qM0 WM0 8Hz0","Europe/Minsk|EET EEST FET MSK|-20 -30 -30 -30|01023|1BWo0 1qM0 WM0 8Hy0","Europe/Moscow|MSK MSD MSK|-30 -40 -40|01020|1BWn0 1qM0 WM0 8Hz0","Europe/Samara|SAMT SAMST SAMT|-40 -40 -30|0120|1BWm0 1qN0 WM0","Europe/Simferopol|EET EEST MSK MSK|-20 -30 -40 -30|01010101023|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11z0 1nW0","Europe/Volgograd|MSK MSK|-30 -40|01010|1BWn0 1qM0 WM0 8Hz0","HST|HST|a0|0|","Indian/Chagos|IOT|-60|0|","Indian/Christmas|CXT|-70|0|","Indian/Cocos|CCT|-6u|0|","Indian/Kerguelen|TFT|-50|0|","Indian/Mahe|SCT|-40|0|","Indian/Maldives|MVT|-50|0|","Indian/Mauritius|MUT|-40|0|","Indian/Reunion|RET|-40|0|","Kwajalein|MHT|-c0|0|","MET|MET MEST|-10 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","NZ-CHAT|CHADT CHAST|-dJ -cJ|01010101010101010101010|1C120 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00","Pacific/Apia|SST SDT WSDT WSST|b0 a0 -e0 -d0|01012323232323232323232|1Dbn0 1ff0 1a00 CI0 AQ0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00","Pacific/Bougainville|PGT BST|-a0 -b0|01|1NwE0","Pacific/Chuuk|CHUT|-a0|0|","Pacific/Efate|VUT|-b0|0|","Pacific/Enderbury|PHOT|-d0|0|","Pacific/Fakaofo|TKT TKT|b0 -d0|01|1Gfn0","Pacific/Fiji|FJST FJT|-d0 -c0|01010101010101010101010|1BWe0 1o00 Rc0 1wo0 Ao0 1Nc0 Ao0 1Q00 xz0 1SN0 uM0 1SM0 xA0 1SM0 uM0 1SM0 uM0 1SM0 uM0 1SM0 uM0 1SM0","Pacific/Funafuti|TVT|-c0|0|","Pacific/Galapagos|GALT|60|0|","Pacific/Gambier|GAMT|90|0|","Pacific/Guadalcanal|SBT|-b0|0|","Pacific/Guam|ChST|-a0|0|","Pacific/Kiritimati|LINT|-e0|0|","Pacific/Kosrae|KOST|-b0|0|","Pacific/Marquesas|MART|9u|0|","Pacific/Midway|SST|b0|0|","Pacific/Nauru|NRT|-c0|0|","Pacific/Niue|NUT|b0|0|","Pacific/Norfolk|NFT|-bu|0|","Pacific/Noumea|NCT|-b0|0|","Pacific/Palau|PWT|-90|0|","Pacific/Pohnpei|PONT|-b0|0|","Pacific/Port_Moresby|PGT|-a0|0|","Pacific/Rarotonga|CKT|a0|0|","Pacific/Tahiti|TAHT|a0|0|","Pacific/Tarawa|GILT|-c0|0|","Pacific/Tongatapu|TOT|-d0|0|","Pacific/Wake|WAKT|-c0|0|","Pacific/Wallis|WFT|-c0|0|"],links:["Africa/Abidjan|Africa/Accra","Africa/Abidjan|Africa/Bamako","Africa/Abidjan|Africa/Banjul","Africa/Abidjan|Africa/Bissau","Africa/Abidjan|Africa/Conakry","Africa/Abidjan|Africa/Dakar","Africa/Abidjan|Africa/Freetown","Africa/Abidjan|Africa/Lome","Africa/Abidjan|Africa/Monrovia","Africa/Abidjan|Africa/Nouakchott","Africa/Abidjan|Africa/Ouagadougou","Africa/Abidjan|Africa/Sao_Tome","Africa/Abidjan|Africa/Timbuktu","Africa/Abidjan|America/Danmarkshavn","Africa/Abidjan|Atlantic/Reykjavik","Africa/Abidjan|Atlantic/St_Helena","Africa/Abidjan|Etc/GMT","Africa/Abidjan|Etc/GMT+0","Africa/Abidjan|Etc/GMT-0","Africa/Abidjan|Etc/GMT0","Africa/Abidjan|Etc/Greenwich","Africa/Abidjan|GMT","Africa/Abidjan|GMT+0","Africa/Abidjan|GMT-0","Africa/Abidjan|GMT0","Africa/Abidjan|Greenwich","Africa/Abidjan|Iceland","Africa/Addis_Ababa|Africa/Asmara","Africa/Addis_Ababa|Africa/Asmera","Africa/Addis_Ababa|Africa/Dar_es_Salaam","Africa/Addis_Ababa|Africa/Djibouti","Africa/Addis_Ababa|Africa/Juba","Africa/Addis_Ababa|Africa/Kampala","Africa/Addis_Ababa|Africa/Khartoum","Africa/Addis_Ababa|Africa/Mogadishu","Africa/Addis_Ababa|Africa/Nairobi","Africa/Addis_Ababa|Indian/Antananarivo","Africa/Addis_Ababa|Indian/Comoro","Africa/Addis_Ababa|Indian/Mayotte","Africa/Algiers|Africa/Tunis","Africa/Bangui|Africa/Brazzaville","Africa/Bangui|Africa/Douala","Africa/Bangui|Africa/Kinshasa","Africa/Bangui|Africa/Lagos","Africa/Bangui|Africa/Libreville","Africa/Bangui|Africa/Luanda","Africa/Bangui|Africa/Malabo","Africa/Bangui|Africa/Ndjamena","Africa/Bangui|Africa/Niamey","Africa/Bangui|Africa/Porto-Novo","Africa/Blantyre|Africa/Bujumbura","Africa/Blantyre|Africa/Gaborone","Africa/Blantyre|Africa/Harare","Africa/Blantyre|Africa/Kigali","Africa/Blantyre|Africa/Lubumbashi","Africa/Blantyre|Africa/Lusaka","Africa/Blantyre|Africa/Maputo","Africa/Cairo|Egypt","Africa/Casablanca|Africa/El_Aaiun","Africa/Ceuta|Arctic/Longyearbyen","Africa/Ceuta|Atlantic/Jan_Mayen","Africa/Ceuta|CET","Africa/Ceuta|Europe/Amsterdam","Africa/Ceuta|Europe/Andorra","Africa/Ceuta|Europe/Belgrade","Africa/Ceuta|Europe/Berlin","Africa/Ceuta|Europe/Bratislava","Africa/Ceuta|Europe/Brussels","Africa/Ceuta|Europe/Budapest","Africa/Ceuta|Europe/Busingen","Africa/Ceuta|Europe/Copenhagen","Africa/Ceuta|Europe/Gibraltar","Africa/Ceuta|Europe/Ljubljana","Africa/Ceuta|Europe/Luxembourg","Africa/Ceuta|Europe/Madrid","Africa/Ceuta|Europe/Malta","Africa/Ceuta|Europe/Monaco","Africa/Ceuta|Europe/Oslo","Africa/Ceuta|Europe/Paris","Africa/Ceuta|Europe/Podgorica","Africa/Ceuta|Europe/Prague","Africa/Ceuta|Europe/Rome","Africa/Ceuta|Europe/San_Marino","Africa/Ceuta|Europe/Sarajevo","Africa/Ceuta|Europe/Skopje","Africa/Ceuta|Europe/Stockholm","Africa/Ceuta|Europe/Tirane","Africa/Ceuta|Europe/Vaduz","Africa/Ceuta|Europe/Vatican","Africa/Ceuta|Europe/Vienna","Africa/Ceuta|Europe/Warsaw","Africa/Ceuta|Europe/Zagreb","Africa/Ceuta|Europe/Zurich","Africa/Ceuta|Poland","Africa/Johannesburg|Africa/Maseru","Africa/Johannesburg|Africa/Mbabane","Africa/Tripoli|Libya","America/Adak|America/Atka","America/Adak|US/Aleutian","America/Anchorage|America/Juneau","America/Anchorage|America/Nome","America/Anchorage|America/Sitka","America/Anchorage|America/Yakutat","America/Anchorage|US/Alaska","America/Anguilla|America/Antigua","America/Anguilla|America/Aruba","America/Anguilla|America/Barbados","America/Anguilla|America/Blanc-Sablon","America/Anguilla|America/Curacao","America/Anguilla|America/Dominica","America/Anguilla|America/Grenada","America/Anguilla|America/Guadeloupe","America/Anguilla|America/Kralendijk","America/Anguilla|America/Lower_Princes","America/Anguilla|America/Marigot","America/Anguilla|America/Martinique","America/Anguilla|America/Montserrat","America/Anguilla|America/Port_of_Spain","America/Anguilla|America/Puerto_Rico","America/Anguilla|America/Santo_Domingo","America/Anguilla|America/St_Barthelemy","America/Anguilla|America/St_Kitts","America/Anguilla|America/St_Lucia","America/Anguilla|America/St_Thomas","America/Anguilla|America/St_Vincent","America/Anguilla|America/Tortola","America/Anguilla|America/Virgin","America/Argentina/Buenos_Aires|America/Argentina/Catamarca","America/Argentina/Buenos_Aires|America/Argentina/ComodRivadavia","America/Argentina/Buenos_Aires|America/Argentina/Cordoba","America/Argentina/Buenos_Aires|America/Argentina/Jujuy","America/Argentina/Buenos_Aires|America/Argentina/La_Rioja","America/Argentina/Buenos_Aires|America/Argentina/Mendoza","America/Argentina/Buenos_Aires|America/Argentina/Rio_Gallegos","America/Argentina/Buenos_Aires|America/Argentina/Salta","America/Argentina/Buenos_Aires|America/Argentina/San_Juan","America/Argentina/Buenos_Aires|America/Argentina/San_Luis","America/Argentina/Buenos_Aires|America/Argentina/Tucuman","America/Argentina/Buenos_Aires|America/Argentina/Ushuaia","America/Argentina/Buenos_Aires|America/Buenos_Aires","America/Argentina/Buenos_Aires|America/Catamarca","America/Argentina/Buenos_Aires|America/Cordoba","America/Argentina/Buenos_Aires|America/Jujuy","America/Argentina/Buenos_Aires|America/Mendoza","America/Argentina/Buenos_Aires|America/Rosario","America/Atikokan|America/Cayman","America/Atikokan|America/Coral_Harbour","America/Atikokan|America/Jamaica","America/Atikokan|America/Panama","America/Atikokan|EST","America/Atikokan|Jamaica","America/Belem|America/Fortaleza","America/Belem|America/Maceio","America/Belem|America/Recife","America/Belem|America/Santarem","America/Belize|America/Costa_Rica","America/Belize|America/El_Salvador","America/Belize|America/Guatemala","America/Belize|America/Managua","America/Belize|America/Regina","America/Belize|America/Swift_Current","America/Belize|America/Tegucigalpa","America/Belize|Canada/East-Saskatchewan","America/Belize|Canada/Saskatchewan","America/Boa_Vista|America/Manaus","America/Boa_Vista|America/Porto_Velho","America/Boa_Vista|Brazil/West","America/Boise|America/Cambridge_Bay","America/Boise|America/Denver","America/Boise|America/Edmonton","America/Boise|America/Inuvik","America/Boise|America/Ojinaga","America/Boise|America/Shiprock","America/Boise|America/Yellowknife","America/Boise|Canada/Mountain","America/Boise|MST7MDT","America/Boise|Navajo","America/Boise|US/Mountain","America/Campo_Grande|America/Cuiaba","America/Cancun|America/Merida","America/Cancun|America/Mexico_City","America/Cancun|America/Monterrey","America/Cancun|Mexico/General","America/Chicago|America/Indiana/Knox","America/Chicago|America/Indiana/Tell_City","America/Chicago|America/Knox_IN","America/Chicago|America/Matamoros","America/Chicago|America/Menominee","America/Chicago|America/North_Dakota/Center","America/Chicago|America/North_Dakota/New_Salem","America/Chicago|America/Rainy_River","America/Chicago|America/Rankin_Inlet","America/Chicago|America/Resolute","America/Chicago|America/Winnipeg","America/Chicago|CST6CDT","America/Chicago|Canada/Central","America/Chicago|US/Central","America/Chicago|US/Indiana-Starke","America/Chihuahua|America/Mazatlan","America/Chihuahua|Mexico/BajaSur","America/Creston|America/Dawson_Creek","America/Creston|America/Hermosillo","America/Creston|America/Phoenix","America/Creston|MST","America/Creston|US/Arizona","America/Dawson|America/Ensenada","America/Dawson|America/Los_Angeles","America/Dawson|America/Tijuana","America/Dawson|America/Vancouver","America/Dawson|America/Whitehorse","America/Dawson|Canada/Pacific","America/Dawson|Canada/Yukon","America/Dawson|Mexico/BajaNorte","America/Dawson|PST8PDT","America/Dawson|US/Pacific","America/Dawson|US/Pacific-New","America/Detroit|America/Fort_Wayne","America/Detroit|America/Indiana/Indianapolis","America/Detroit|America/Indiana/Marengo","America/Detroit|America/Indiana/Petersburg","America/Detroit|America/Indiana/Vevay","America/Detroit|America/Indiana/Vincennes","America/Detroit|America/Indiana/Winamac","America/Detroit|America/Indianapolis","America/Detroit|America/Iqaluit","America/Detroit|America/Kentucky/Louisville","America/Detroit|America/Kentucky/Monticello","America/Detroit|America/Louisville","America/Detroit|America/Montreal","America/Detroit|America/Nassau","America/Detroit|America/New_York","America/Detroit|America/Nipigon","America/Detroit|America/Pangnirtung","America/Detroit|America/Thunder_Bay","America/Detroit|America/Toronto","America/Detroit|Canada/Eastern","America/Detroit|EST5EDT","America/Detroit|US/East-Indiana","America/Detroit|US/Eastern","America/Detroit|US/Michigan","America/Eirunepe|America/Porto_Acre","America/Eirunepe|America/Rio_Branco","America/Eirunepe|Brazil/Acre","America/Glace_Bay|America/Halifax","America/Glace_Bay|America/Moncton","America/Glace_Bay|America/Thule","America/Glace_Bay|Atlantic/Bermuda","America/Glace_Bay|Canada/Atlantic","America/Havana|Cuba","America/Metlakatla|Pacific/Pitcairn","America/Noronha|Brazil/DeNoronha","America/Santiago|Antarctica/Palmer","America/Santiago|Chile/Continental","America/Sao_Paulo|Brazil/East","America/St_Johns|Canada/Newfoundland","Antarctica/McMurdo|Antarctica/South_Pole","Antarctica/McMurdo|NZ","Antarctica/McMurdo|Pacific/Auckland","Asia/Aden|Asia/Baghdad","Asia/Aden|Asia/Bahrain","Asia/Aden|Asia/Kuwait","Asia/Aden|Asia/Qatar","Asia/Aden|Asia/Riyadh","Asia/Aqtau|Asia/Aqtobe","Asia/Ashgabat|Asia/Ashkhabad","Asia/Bangkok|Asia/Ho_Chi_Minh","Asia/Bangkok|Asia/Phnom_Penh","Asia/Bangkok|Asia/Saigon","Asia/Bangkok|Asia/Vientiane","Asia/Calcutta|Asia/Colombo","Asia/Calcutta|Asia/Kolkata","Asia/Chongqing|Asia/Chungking","Asia/Chongqing|Asia/Harbin","Asia/Chongqing|Asia/Macao","Asia/Chongqing|Asia/Macau","Asia/Chongqing|Asia/Shanghai","Asia/Chongqing|Asia/Taipei","Asia/Chongqing|PRC","Asia/Chongqing|ROC","Asia/Dacca|Asia/Dhaka","Asia/Dubai|Asia/Muscat","Asia/Hong_Kong|Hongkong","Asia/Istanbul|Europe/Istanbul","Asia/Istanbul|Turkey","Asia/Jakarta|Asia/Pontianak","Asia/Jerusalem|Asia/Tel_Aviv","Asia/Jerusalem|Israel","Asia/Kashgar|Asia/Urumqi","Asia/Kathmandu|Asia/Katmandu","Asia/Kuala_Lumpur|Asia/Kuching","Asia/Makassar|Asia/Ujung_Pandang","Asia/Nicosia|EET","Asia/Nicosia|Europe/Athens","Asia/Nicosia|Europe/Bucharest","Asia/Nicosia|Europe/Chisinau","Asia/Nicosia|Europe/Helsinki","Asia/Nicosia|Europe/Kiev","Asia/Nicosia|Europe/Mariehamn","Asia/Nicosia|Europe/Nicosia","Asia/Nicosia|Europe/Riga","Asia/Nicosia|Europe/Sofia","Asia/Nicosia|Europe/Tallinn","Asia/Nicosia|Europe/Tiraspol","Asia/Nicosia|Europe/Uzhgorod","Asia/Nicosia|Europe/Vilnius","Asia/Nicosia|Europe/Zaporozhye","Asia/Pyongyang|Asia/Seoul","Asia/Pyongyang|ROK","Asia/Samarkand|Asia/Tashkent","Asia/Singapore|Singapore","Asia/Tehran|Iran","Asia/Thimbu|Asia/Thimphu","Asia/Tokyo|Japan","Asia/Ulaanbaatar|Asia/Ulan_Bator","Atlantic/Canary|Atlantic/Faeroe","Atlantic/Canary|Atlantic/Faroe","Atlantic/Canary|Atlantic/Madeira","Atlantic/Canary|Europe/Lisbon","Atlantic/Canary|Portugal","Atlantic/Canary|WET","Australia/ACT|Australia/Canberra","Australia/ACT|Australia/Currie","Australia/ACT|Australia/Hobart","Australia/ACT|Australia/Melbourne","Australia/ACT|Australia/NSW","Australia/ACT|Australia/Sydney","Australia/ACT|Australia/Tasmania","Australia/ACT|Australia/Victoria","Australia/Adelaide|Australia/Broken_Hill","Australia/Adelaide|Australia/South","Australia/Adelaide|Australia/Yancowinna","Australia/Brisbane|Australia/Lindeman","Australia/Brisbane|Australia/Queensland","Australia/Darwin|Australia/North","Australia/LHI|Australia/Lord_Howe","Australia/Perth|Australia/West","Chile/EasterIsland|Pacific/Easter","Eire|Europe/Dublin","Etc/UCT|UCT","Etc/UTC|Etc/Universal","Etc/UTC|Etc/Zulu","Etc/UTC|UTC","Etc/UTC|Universal","Etc/UTC|Zulu","Europe/Belfast|Europe/Guernsey","Europe/Belfast|Europe/Isle_of_Man","Europe/Belfast|Europe/Jersey","Europe/Belfast|Europe/London","Europe/Belfast|GB","Europe/Belfast|GB-Eire","Europe/Moscow|W-SU","HST|Pacific/Honolulu","HST|Pacific/Johnston","HST|US/Hawaii","Kwajalein|Pacific/Kwajalein","Kwajalein|Pacific/Majuro","NZ-CHAT|Pacific/Chatham","Pacific/Chuuk|Pacific/Truk","Pacific/Chuuk|Pacific/Yap","Pacific/Guam|Pacific/Saipan","Pacific/Midway|Pacific/Pago_Pago","Pacific/Midway|Pacific/Samoa","Pacific/Midway|US/Samoa","Pacific/Pohnpei|Pacific/Ponape"]
}),e}),define("app/time",["moment-timezone","app/socket"],function(e,t){"use strict";function n(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}var r="TIME:OFFSET",i="TIME:ZONE",o={synced:!1,offset:parseFloat(localStorage.getItem(r))||0,zone:localStorage.getItem(i)||"Europe/Warsaw",appData:window.TIME||0};return delete window.TIME,o.sync=function(){var e=Date.now();t.emit("time",function(t,n){o.offset=(t-e+(t-Date.now()))/2,o.zone=n,o.synced=!0,localStorage.setItem(r,o.offset.toString()),localStorage.setItem(i,o.zone)})},o.getServerMoment=function(){return e(Date.now()+o.offset).tz(o.zone)},o.getMoment=function(t,n){return e(t,n).tz(o.zone)},o.format=function(e,t){var n=o.getMoment(e);return n.isValid()?n.format(t):null},o.toTagData=function(e,t){if(!e)return{iso:"?",long:"?",human:"?",daysAgo:0};var n=o.getMoment(e),r=n.valueOf(),i=Date.now();return{iso:n.toISOString(),long:n.format("LLLL"),human:t===!0?n.from(r>i?r:i):n.fromNow(),daysAgo:-n.diff(i,"days")}},o.toSeconds=function(e){if("number"==typeof e)return e;if("string"!=typeof e)return 0;var t={g:3600,h:3600,m:60,s:1,ms:.001},n=e.trim(),r=parseInt(n,10);if(/^[0-9]+\.?[0-9]*$/.test(n)===!1){var i,o=/([0-9\.]+)\s*(h|ms|m|s)[a-z]*/gi;for(r=0;i=o.exec(n);)r+=parseFloat(i[1])*t[i[2].toLowerCase()]}return r},o.toString=function(e,t,r){if("number"!=typeof e||e<=0||isNaN(e))return t?"00:00:00":"0s";var i="",o=Math.floor(e/3600);o>0?(i+=t?n(o,2)+":":" "+o+"h",e%=3600):t&&(i+="00:");var a=Math.floor(e/60);a>0?(i+=t?n(a,2)+":":" "+a+"min",e%=60):t&&(i+="00:");var s=e;return s>=1?(i+=t?n(Math[r?"floor":"round"](s),2):" "+Math[r?"floor":"round"](s)+"s",r&&s%1!==0&&(i+=t?"."+n(Math.round(s%1*1e3),3):" "+(Math.round(s%1*1e3)+"ms"))):s>0&&""===i?i+=" "+1e3*s+"ms":t&&(i+="00"),t?i:i.substr(1)},t.on("connect",function(){o.sync()}),t.isConnected()&&o.sync(),window.time=o,o}),define("app/history/util/decorateLogEntry",["app/i18n","app/time"],function(e,t){"use strict";return function(n){"number"==typeof n.duration&&(n.duration=t.toString(n.duration/1e3,!1,!0)),void 0!==n.errorCode&&(n.error=e("history","error:"+n.errorCode));var r=t.getMoment(n.time);return{datetime:r.toISOString(),time:r.format("HH:mm:ss.SSS"),text:e("history","log:"+n.text,n)}}}),define("app/history/HistoryEntry",["underscore","../socket","../data/settings","../core/Model","./util/decorateLogEntry"],function(e,t,n,r,i){"use strict";return r.extend({urlRoot:"/history",clientUrlRoot:"#history",topicPrefix:"history",nlsDomain:"history",parse:function(e){return e.order=e._order?{_id:e._order,no:e.no,quantity:e.quantity,successCounter:e.successCounter,failureCounter:e.failureCounter,startedAt:e.orderStartedAt,finishedAt:e.orderFinishedAt,duration:e.orderDuration}:null,delete e._order,delete e.no,delete e.quantity,delete e.successCounter,delete e.failureCounter,delete e.orderStartedAt,delete e.orderFinishedAt,delete e.orderDuration,["hidLamps","leds","program","steps"].forEach(function(t){"string"==typeof e[t]&&(e[t]=JSON.parse(e[t]))}),e},getProgramId:function(){var e=this.get("program");return e?e._id:null},getProgramName:function(){var e=this.get("program");if(e)return e.name;var t=this.get("featureFileName");if("string"!=typeof t)return null;var n=this.get("nc12");return t=t.replace(/\.([a-z]+)$/i,""),"string"!=typeof n?t:(t=t.replace(n,"").trim().replace(/^[-_ ]+/g,"").replace(/[-_ ]+$/g,"").replace(/^PROGRAM/i,""),""===t?null:t)},isInProgress:function(){return this.get("inProgress")},isProgrammingMode:function(){return"programming"===this.get("workMode")},isTestingMode:function(){return"testing"===this.get("workMode")},isLocalInput:function(){return"local"===this.get("inputMode")},isRemoteInput:function(){return"remote"===this.get("inputMode")},isNoProgramming:function(){return this.isRemoteInput()&&0===n.get("programming")},isFtActive:function(){if(!n.get("ftEnabled"))return!1;if(!this.isRemoteInput())return!0;var e=this.getSelectedRemoteData();return!!e&&n.isFtOrder(e.name)},isHidActive:function(){if(!n.get("hidEnabled"))return!1;if(!this.isRemoteInput())return!1;var t=this.getSelectedRemoteData();return!!t&&e.some(t.items,function(e){return"hid"===e.kind})},hasOrder:function(){return null!==this.get("order")},hasProgram:function(){return!!this.get("program")},hasProgramStep:function(e){var t=this.get("program");if(!t)return!1;for(var n=0;n<t.steps.length;++n){var r=t.steps[n];if(r.enabled&&r.type===e)return!0}return!1},getActiveProgramStep:function(){var e=this.get("steps");if(!Array.isArray(e))return!1;for(var t=0;t<e.length;++t)if("active"===e[t].status)return this.get("program").steps[t];return null},isOrderFinished:function(){if(this.isRemoteInput()){var e=this.getSelectedRemoteData();return e&&e.status!==-1}var t=this.get("order");return t&&t.successCounter>=t.quantity},getSelectedRemoteData:function(){var t=this.get("remoteData");if(!Array.isArray(t)||!t.length)return null;var n=this.get("selectedOrderNo");if(!n)return null;var r=e.findWhere(t,{_id:n});return r?r:null},getNextOrderNo:function(){var e=this.get("remoteData");if(!Array.isArray(e)||!e.length)return null;for(var t=e.length-1;t>=0;--t){var n=e[t];if(n.status===-1)return n._id}return e[0]._id},getCarouselItemId:function(){var e=this.get("result");return"success"===e||"failure"===e?e:"program"},updateHidLamp:function(e,t){var n=this.get("hidLamps");Array.isArray(n)&&n[e]&&(n[e]=t,this.trigger("change:hidLamp",e,t))},updateLed:function(e,t){var n=this.get("leds");Array.isArray(n)&&n[e]&&(n[e]=t,this.trigger("change:led",e,t))},pushLogEntry:function(e){var t=this.get("log");Array.isArray(t)&&(t.push(e),this.trigger("push:log",e))},getDecoratedLog:function(){var e=this.get("log");return"string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)?e.map(i):[]},hasFeatureData:function(){var e=this.get("feature");return"string"==typeof e&&0!==e.length}})}),define("app/data/currentState",["underscore","../socket","../history/HistoryEntry"],function(e,t,n){"use strict";var r=new n(window.CURRENT_STATE||{});return t.on("programmer.stateChanged",function(e){r.set(e)}),t.on("programmer.logged",function(e){r.pushLogEntry(e)}),t.on("programmer.hidLampManager.updated",function(e){r.updateHidLamp(e.index,e.data)}),t.on("programmer.ledManager.updated",function(e){r.updateLed(e.index,e.data)}),t.on("programmer.stepProgressed",function(t){var n=r.get("steps");n&&n[t.stepIndex]&&(e.extend(n[t.stepIndex],t.stepProgress),r.trigger("progress",t.stepIndex,t.stepProgress))}),window.currentState=r,r}),define("app/data/hotkeys",["jquery","../viewport","../broker","./settings"],function(e,t,n,r){"use strict";function i(e){return l[e]}function o(e){f&&(clearTimeout(f),f=null);var n=r.get("bgScanner"),o=Date.now();if(!n&&o-d<300)return void(d=o);if(d=o,!(e.ctrlKey||e.altKey||e.shiftKey)){var a=String.fromCharCode(e.charCode).toUpperCase();if(i(a)){if("dashboard"===t.currentPage.pageId)e.preventDefault(),e.stopPropagation();else if("INPUT"===e.target.tagName||"TEXTAREA"===e.target.tagName)return;n?s(a):f=setTimeout(s,150,a)}}}function a(e){e.remote&&1===e.value.length&&s(e.value.toUpperCase())}function s(e){var t=u[e];Array.isArray(t)&&t.forEach(function(e){n.publish("hotkeys."+e)})}var l={};["Q","W","E","R","T","Y","U","I","O","P","[","]","\\","A","S","D","F","G","H","J","K","L",";","'","Z","X","C","V","B","N","M",",",".","/"," "].forEach(function(e){l[e]=!0});var p=!1,c=null,u={},d=0,f=null;return{start:function(){p||(e(window).on("keypress",o),r.on("change:hotkeys",this.cache),c=n.subscribe("programmer.barcodeScanned",a),this.cache(),p=!0)},stop:function(){p&&(e(window).off("keypress",o),r.off("change:hotkeys",this.cache),c.cancel(),c=null,p=!1)},cache:function(){var e=r.get("hotkeys");u={},e&&Object.keys(e).forEach(function(t){var n=e[t];"Space"===n&&(n=" "),void 0===u[n]?u[n]=[t]:u[n].push(t)})}}}),define("app/updater/templates/updating",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="updater-updating">\n  <h1>'),__append(t("updater","title")),__append('</h1>\n  <div class="progress">\n    <div class="progress-bar progress-bar-warning progress-bar-striped active" style="width: 100%"></div>\n  </div>\n  <p>'),__append(t("updater","p1",{fromVersion:fromVersion,toVersion:toVersion})),__append("</p>\n  <p>"),__append(t("updater","p2")),__append("</p>\n</div>");return __output.join("")}}),function(){"use strict";function e(e,t,n,r,i,o){t[e]&&(n.push(e),t[e]!==!0&&1!==t[e]||r.push(i+e+"/"+o))}function t(e,t,n,r,i){var o=r+t+"/"+i;require._fileExists(e.toUrl(o+".js"))&&n.push(o)}function n(e,t,r){var i;for(i in t)!t.hasOwnProperty(i)||e.hasOwnProperty(i)&&!r?"object"==typeof t[i]&&(!e[i]&&t[i]&&(e[i]={}),n(e[i],t[i],r)):e[i]=t[i]}var r=/(^.*(^|\/)nls(\/|$))([^\/]*)\/?([^\/]*)/;define("i18n",["module"],function(i){var o=i.config?i.config():{};return{version:"2.0.4",load:function(i,a,s,l){l=l||{},l.locale&&(o.locale=l.locale);var p,c,u,d=r.exec(i),f=d[1],h=d[4],g=d[5],_=h.split("-"),m=[],v={},b="";if(d[5]?(f=d[1],p=f+g):(p=i,g=d[4],h=o.locale,h||(h=o.locale="undefined"==typeof navigator?"root":(navigator.language||navigator.userLanguage||"root").toLowerCase()),_=h.split("-")),l.isBuild){for(m.push(p),t(a,"root",m,f,g),c=0;c<_.length;c++)u=_[c],b+=(b?"-":"")+u,t(a,b,m,f,g);a(m,function(){s()})}else a([p],function(t){var r,i=[];for(e("root",t,i,m,f,g),c=0;c<_.length;c++)r=_[c],b+=(b?"-":"")+r,e(b,t,i,m,f,g);a(m,function(){var e,r,o;for(e=i.length-1;e>-1&&i[e];e--)o=i[e],r=t[o],r!==!0&&1!==r||(r=a(f+o+"/"+g)),n(v,r);s(v)})})}}})}(),define("app/nls/locale/en",[],function(){var e={locale:{}};return e.locale.en=function(e){return 1===e?"one":"other"}}),define("app/nls/updater",["app/nls/locale/en"],function(e){var t={lc:{pl:function(t){return e(t)},en:function(t){return e(t)}},c:function(e,t){if(!e)throw new Error("MessageFormat: Data required for '"+t+"'.")},n:function(e,t,n){if(isNaN(e[t]))throw new Error("MessageFormat: '"+t+"' isn't a number.");return e[t]-(n||0)},v:function(e,n){return t.c(e,n),e[n]},p:function(e,n,r,i,o){return t.c(e,n),e[n]in o?o[e[n]]:(n=t.lc[i](e[n]-r),n in o?o[n]:o.other)},s:function(e,n,r){return t.c(e,n),e[n]in r?r[e[n]]:r.other}};return{root:{title:function(e){return"Application update"},p1:function(e){return"The application is currently being updated from version "+t.v(e,"fromVersion")+" to version "+t.v(e,"toVersion")+". Please wait..."},p2:function(e){return"In case of any problems, notify the leader!"}},pl:!0}}),define("app/nls/locale/pl",[],function(){var e={locale:{}};return e.locale.pl=function(e){return 1==e?"one":e%10>=2&&e%10<=4&&(e%100<12||e%100>14)&&e==Math.floor(e)?"few":e%10===0||1!=e&&e%10==1||(e%10>=5&&e%10<=9||e%100>=12&&e%100<=14)&&e==Math.floor(e)?"many":"other"}}),define("app/nls/pl/updater",["app/nls/locale/pl"],function(e){var t={lc:{pl:function(t){return e(t)},en:function(t){return e(t)}},c:function(e,t){if(!e)throw new Error("MessageFormat: Data required for '"+t+"'.")},n:function(e,t,n){if(isNaN(e[t]))throw new Error("MessageFormat: '"+t+"' isn't a number.");return e[t]-(n||0)},v:function(e,n){return t.c(e,n),e[n]},p:function(e,n,r,i,o){return t.c(e,n),e[n]in o?o[e[n]]:(n=t.lc[i](e[n]-r),n in o?o[n]:o.other)},s:function(e,n,r){return t.c(e,n),e[n]in r?r[e[n]]:r.other}};return{title:function(e){return"Aktualizacja aplikacji"},p1:function(e){return"Aplikacja jest aktualizowana z wersji "+t.v(e,"fromVersion")+" do wersji "+t.v(e,"toVersion")+". Proszę czekać..."},p2:function(e){return"W razie problemów powiadom lidera!"}}}),define("app/updater/index",["jquery","../broker","../data/currentState","../data/hotkeys","app/updater/templates/updating","i18n!app/nls/updater"],function(e,t,n,r,i){"use strict";function o(){var o=n.get("updating");o&&(r.stop(),e("body").html(i(o)),t.subscribe("socket.disconnected",function(){e(".active").removeClass("active"),t.subscribe("socket.connected",function(){window.location.reload()})}))}n.get("updating")?t.subscribe("router.executing",setTimeout.bind(window,o,1)).setLimit(1):n.on("change:updating",o)}),define("app/backdrop",["jquery","app/broker"],function(e,t){"use strict";var n=e('<div class="backdrop"></div>'),r={show:function(){n.appendTo(document.body).show()},hide:function(){n.hide()}};return t.subscribe("socket.connected",r.hide),t.subscribe("socket.disconnected",r.show),r}),define("app/data/barcodeScanner",["jquery","../broker","../pubsub","../user","./settings"],function(e,t,n,r,i){"use strict";function o(e){f&&(e.keyCode===u&&h.length>1&&c(e),s())}function a(e){f&&(e.charCode>=32&&e.charCode<=126&&(h+=String.fromCharCode(e.charCode)),s())}function s(){g&&clearTimeout(g),g=setTimeout(l,100)}function l(){clearTimeout(g),g=null,h=""}function p(){var e=i.get("bgScannerFilter");return e?(d={},void e.split(" ").forEach(function(e){d[e]=!0})):void(d=null)}function c(e){i.get("bgScanner")||t.publish("programmer.barcodeScanned",{remote:!1,local:!0,value:h,scannerId:null,event:e})}var u=13,d=null,f=!1,h="",g=null;return r.isLocal()&&(p(),i.on("change:bgScannerFilter",p),n.subscribe("programmer.barcodeScanned",function(e){!f||d&&!d[e.scannerId]||t.publish("programmer.barcodeScanned",{remote:!0,local:!1,value:e.value,scannerId:e.scannerId,event:null})}),e(window).on("keydown",o).on("keypress",a)),{start:function(){f=!0},stop:function(){f=!1}}}),define("app/core/PaginationData",["underscore","backbone"],function(e,t){"use strict";return t.Model.extend({defaults:{totalCount:-1,urlTemplate:"?page=${page}&limit=${limit}",page:1,skip:0,limit:10},initialize:function(){this.on("change",this.recalcAttrs,this);var e=this.attributes;e.page<1&&(e.page=1),e.skip<0&&(e.skip=0),e.limit<1&&(e.limit=1),0!==e.skip?this.recalcPage():1!==e.page?this.recalcSkip():this.adjustSkipToLimit()},sync:function(){throw new Error("Not supported!")},recalcAttrs:function(){var t=this.changedAttributes();e.has(t,"total")||e.has(t,"skip")||e.has(t,"limit")?this.recalcPage():e.has(t,"page")&&this.recalcSkip()},recalcPage:function(){this.adjustSkipToLimit();var e=this.attributes;e.page=e.skip/e.limit+1},recalcSkip:function(){var e=this.attributes;e.skip=(e.page-1)*e.limit},adjustSkipToLimit:function(){var e=this.attributes;e.skip>=e.total&&(e.skip=e.total<2?1:e.total-1);var t=e.skip%e.limit;0!==t&&(e.skip-=t)}})}),define("app/core/Collection",["underscore","backbone","h5.rql/index","./util","./PaginationData"],function(e,t,n,r,i){"use strict";function o(n,r){e.isObject(r)||(r={}),this.rqlQuery=this.createRqlQuery(r.rqlQuery||this.rqlQuery),this.paginationData=r.paginate!==!1?new i:null,this.url||(this.url=this.model.prototype.urlRoot),t.Collection.call(this,n,r),this.paginationData&&this.listenTo(this.paginationData,"change:page",this.onPageChanged)}return r.inherits(o,t.Collection),o.prototype.parse=function(e){return this.paginationData&&this.paginationData.set({totalCount:e.totalCount,urlTemplate:this.genPaginationUrlTemplate(),skip:this.rqlQuery.skip,limit:this.rqlQuery.limit}),e.collection},o.prototype.sync=function(e,n,r){return"read"!==e||r.data||(r.data=this.rqlQuery.toString()),t.Collection.prototype.sync.call(this,e,n,r)},o.prototype.genClientUrl=function(e){if(null===this.model.prototype.clientUrlRoot)throw new Error("Model's `clientUrlRoot` was not specified");var t=this.model.prototype.clientUrlRoot;return"string"==typeof e&&(t+=";"+e),t},o.prototype.getTopicPrefix=function(){return this.topicPrefix||this.model.prototype.topicPrefix},o.prototype.getPrivilegePrefix=function(){return this.privilegePrefix||this.model.prototype.privilegePrefix},o.prototype.getNlsDomain=function(){return this.nlsDomain||this.model.prototype.nlsDomain},o.prototype.createRqlQuery=function(t){return e.isString(t)?t=n.parse(t):e.isFunction(t)?t=t.call(this,n):e.isObject(t)&&(t=n.Query.fromObject(t)),t&&!t.isEmpty()?t:e.isString(this.rqlQuery)?n.parse(this.rqlQuery):e.isFunction(this.rqlQuery)?this.rqlQuery.call(this,n):e.isObject(this.rqlQuery)?n.Query.fromObject(this.rqlQuery):new n.Query},o.prototype.genPaginationUrlTemplate=function(){var e=this.rqlQuery,t=e.skip,n=e.limit;e.skip="${skip}",e.limit="${limit}";var r=this.genClientUrl()+"?"+e.toString();return e.skip=t,e.limit=n,r},o.prototype.onPageChanged=function(e,t){this.rqlQuery.skip=(t-1)*this.rqlQuery.limit,this.fetch({reset:!0})},o}),define("app/history/HistoryEntryCollection",["moment","../core/Collection","./HistoryEntry"],function(e,t,n){"use strict";return t.extend({model:n,rqlQuery:function(t){var n=e().hours(6).minutes(0).seconds(0).milliseconds(0).subtract(7,"days").valueOf();return t.Query.fromObject({fields:{_id:1,_order:1,serviceTag:1,nc12:1,featureFileName:1,program:1,steps:1,no:1,quantity:1,counter:1,result:1,startedAt:1,duration:1,cancelled:1},sort:{startedAt:-1},limit:20,selector:{name:"and",args:[{name:"ge",args:["startedAt",n]}]}})}})}),define("app/data/scanBuffer",["../pubsub"],function(e){"use strict";function t(){null!==i&&clearTimeout(i),i=setTimeout(n,6e4)}function n(){null!==i&&(clearTimeout(i),i=null),r=[]}var r=[],i=null;return e.subscribe("programmer.finished",n),{add:function(e,n,i,o){r.push({raw:e,nc12:n,serialNumber:i,scannerId:o||null}),t()},get:function(){var e=r;return n(),e},clear:n}}),define("app/core/views/DialogView",["underscore","../View"],function(e,t){"use strict";return t.extend({events:{"click .dialog-answer":function(t){var n=this.$(t.target).closest(".dialog-answer");if(!n.prop("disabled")){n.prop("disabled",!0);var r=n.attr("data-answer");e.isString(r)&&r.length>0&&(this.trigger("answered",r),e.isFunction(this.closeDialog)&&this.closeDialog())}}},serialize:function(){return this.model},onDialogShown:function(e){this.closeDialog=this.options.autoHide===!1?function(){}:e.closeDialog.bind(e)}})}),define("app/dashboard/templates/printServiceTagDialog",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<form>\n  <div class="form-group">\n    <label for="'),__append(idPrefix),__append('-orderNo">'),__append(t("dashboard","printServiceTagDialog:orderNo")),__append('</label>\n    <input id="'),__append(idPrefix),__append('-orderNo" class="form-control" type="text" required pattern="^[0-9]{1,9}$" maxlength="9" value="'),__append(orderNo),__append('">\n  </div>\n  <div class="form-group">\n    <label for="'),__append(idPrefix),__append('-counter">'),__append(t("dashboard","printServiceTagDialog:counter")),__append('</label>\n    <input id="'),__append(idPrefix),__append('-counter" class="form-control" type="text" required value="'),__append(counter),__append('">\n  </div>\n  <button id="'),__append(idPrefix),__append('-submit" class="btn btn-lg btn-block btn-primary" type="submit">'),__append(t("dashboard","printServiceTagDialog:submit")),__append("</button>\n</form>\n");return __output.join("")}}),define("app/dashboard/views/PrintServiceTagDialogView",["app/i18n","app/viewport","app/core/View","app/dashboard/templates/printServiceTagDialog"],function(e,t,n,r){"use strict";return n.extend({template:r,events:{submit:function(n){n.preventDefault();var r=this,i=Date.now(),o=this.$id("submit").prop("disabled",!0),a=this.$id("orderNo").val(),s=this.$id("counter").val();this.socket.emit("programmer.printServiceTags",a,s,function(n,s){n?(t.msg.show({type:"error",time:2500,text:e("dashboard","printServiceTagDialog:failure")}),r.$id("orderNo").select()):(t.msg.show({type:"info",time:1e3,text:e("dashboard","printServiceTagDialog:success",{orderNo:a,count:s})}),r.$id("counter").select()),r.timers.unlock=setTimeout(o.prop.bind(o,"disabled",!1),Math.max(1,1e3-(Date.now()-i)))})}},serialize:function(){return{idPrefix:this.idPrefix,orderNo:this.model.orderNo||"",counter:this.model.counter||""}},onDialogShown:function(){""===this.model.orderNo?this.$id("orderNo").focus():""===this.model.counter?this.$id("counter").focus():this.$id("orderNo").focus()}})}),define("app/dashboard/templates/orderNoPickerDialog",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="dashboard-orderNoPicker">\n  <div id="'),__append(idPrefix),__append('-list" class="dashboard-orderNoPicker-list list-group is-scrollable">\n    '),items.forEach(function(e){__append('\n    <a class="list-group-item list-group-item-'),__append(e.className),__append('" href="#" tabindex="100" data-id="'),__append(e.orderNo),__append('" data-hotkey="'),__append(e.hotkey),__append('">\n      <kbd>'),__append(e.hotkey),__append('</kbd>\n      <span class="dashboard-orderNoPicker-orderNo">'),__append(e.orderNo),__append('</span>\n      <span class="dashboard-orderNoPicker-name">'),__append(escapeFn(e.name)),__append('</span>\n      <span class="dashboard-orderNoPicker-nc12">'),__append(t("dashboard","orderNoPickerDialog:nc12")),__append(" "),__append(e.nc12),__append('</span>\n      <span class="dashboard-orderNoPicker-quantity">'),__append(t("dashboard","orderNoPickerDialog:quantity")),__append(" "),__append(e.quantityDone.toLocaleString()),__append("/"),__append(e.quantityTodo.toLocaleString()),__append("</span>\n    </a>\n    ")}),__append("\n  </div>\n</div>\n");return __output.join("")}}),define("app/dashboard/views/OrderNoPickerDialogView",["underscore","jquery","app/i18n","app/viewport","app/core/View","app/dashboard/templates/orderNoPickerDialog"],function(e,t,n,r,i,o){"use strict";return i.extend({dialogClassName:"dashboard-orderNoPickerDialog",template:o,localTopics:{"programmer.barcodeScanned":function(e){e.remote===!0&&1===e.value.length&&this.$('.list-group-item[data-hotkey="'+e.value.toUpperCase()+'"]').click()}},events:{"click .list-group-item":function(e){e.preventDefault(),this.trigger("orderNoPicked",e.currentTarget.dataset.id)}},initialize:function(){this.$els=null,this.onResize=e.debounce(this.resize.bind(this),33),this.onKeyPress=this.onKeyPress.bind(this),t(window).on("resize.orderNoPickerView",this.onResize).on("keypress.orderNoPickerView",this.onKeyPress)},destroy:function(){t(window).off(".orderNoPickerView"),this.$els=null},serialize:function(){var e=this.model.get("selectedOrderNo");return{idPrefix:this.idPrefix,items:(this.model.get("remoteData")||[]).map(function(t,n){return{orderNo:t._id,name:t.name,nc12:t.nc12[0],quantityTodo:t.quantityTodo,quantityDone:t.quantityDone,hotkey:(n+1).toString(36).toUpperCase(),className:t._id===e?"info":t.status===-1?"danger":0===t.status?"success":"warning"}})}},afterRender:function(){this.$els={header:this.$el.closest(".modal-content").find(".modal-header"),list:this.$id("list")}},resize:function(){if(this.$els){var e=window.innerHeight-this.$els.header.outerHeight();this.$els.list.css("max-height",e+"px")}},onDialogShown:function(){this.resize();var e=this.$(".list-group-item-info");e.length?e.focus():this.$(".list-group-item").first().focus()},onKeyPress:function(e){var t=String.fromCharCode(e.keyCode);/^[a-zA-Z0-9]$/.test(t)&&this.$('.list-group-item[data-hotkey="'+t.toUpperCase()+'"]').click()}})}),define("app/dashboard/templates/nc12PickerDialog",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="dashboard-nc12Picker">\n  <div class="message message-inline message-warning">\n    <p>'),__append(t("dashboard","nc12PickerDialog:message",{nc12Count:items.length,leader:leader})),__append('</p>\n  </div>\n  <input id="'),__append(idPrefix),__append('-password" class="form-control" type="password" tabindex="99" placeholder="'),__append(t("dashboard","nc12PickerDialog:password")),__append('">\n  <div id="'),__append(idPrefix),__append('-list" class="dashboard-nc12Picker-list list-group is-scrollable">\n    '),items.forEach(function(e){__append('\n    <a class="list-group-item" href="#" tabindex="100" data-id="'),__append(e.nc12),__append('" data-hotkey="'),__append(e.hotkey),__append('">\n      <kbd>'),__append(e.hotkey),__append('</kbd>\n      <span class="dashboard-nc12Picker-nc12">'),__append(e.nc12),__append('</span>\n      <span class="dashboard-nc12Picker-name">'),__append(escapeFn(e.name)),__append('</span>\n      <span class="dashboard-nc12Picker-quantity">'),__append(t("dashboard","nc12PickerDialog:quantity")),__append(" "),__append(e.quantityDone.toLocaleString()),__append("/"),__append(e.quantityTodo.toLocaleString()),__append("</span>\n    </a>\n    ")}),__append("\n  </div>\n</div>\n");return __output.join("")}}),define("app/dashboard/views/Nc12PickerDialogView",["underscore","jquery","app/i18n","app/viewport","app/core/View","app/dashboard/templates/nc12PickerDialog"],function(e,t,n,r,i,o){"use strict";return i.extend({dialogClassName:"dashboard-nc12PickerDialog",template:o,localTopics:{"programmer.barcodeScanned":function(e){e.remote===!0&&1===e.value.length&&this.$('.list-group-item[data-hotkey="'+e.value.toUpperCase()+'"]').focus()}},events:{"click .list-group-item":function(e){e.preventDefault(),this.selectItem(e.currentTarget)},"focus .list-group-item":function(e){e.preventDefault(),this.selectItem(e.currentTarget)}},initialize:function(){this.$els=null,this.onResize=e.debounce(this.resize.bind(this),33),this.onKeyDown=this.onKeyDown.bind(this),t(window).on("resize.nc12PickerView",this.onResize).on("keydown.nc12PickerView",this.onKeyDown)},destroy:function(){t(window).off(".nc12PickerView"),this.$els=null},serialize:function(){var e=this.model.getSelectedRemoteData(),t=(e?e.items:[]).filter(function(e){return"program"===e.kind});return{idPrefix:this.idPrefix,leader:this.model.get("remoteLeader")||"?",items:t.map(function(e,t){return{name:e.name,nc12:e.nc12,quantityTodo:e.quantityTodo,quantityDone:e.quantityDone+e.extraQuantityDone,hotkey:(t+1).toString(36).toUpperCase()}})}},afterRender:function(){this.$els={header:this.$el.closest(".modal-content").find(".modal-header"),list:this.$id("list")}},resize:function(){if(this.$els){var e=window.innerHeight-this.$els.header.outerHeight();this.$els.list.css("max-height",e+"px")}},selectItem:function(e){this.$(".active").removeClass("active"),e.classList.add("active"),setTimeout(function(e){e.focus()},1,this.$id("password"))},onDialogShown:function(){this.resize()},onKeyDown:function(e){var t=String.fromCharCode(e.keyCode);if((e.ctrlKey||e.altKey||"INPUT"!==e.target.tagName)&&/^[a-zA-Z0-9]$/.test(t))return this.$('.list-group-item[data-hotkey="'+t.toUpperCase()+'"]').focus(),!1;var n=this.$id("password"),r=this.$(".active");if(13===e.keyCode&&e.target===n[0]&&r.length){var i=r[0].dataset.id,o=n.val();this.trigger("nc12Picked",i,o)}}})}),define("app/dashboard/templates/input",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<form class="dashboard-input">\n  <div class="dashboard-input-orderNoAndQuantity">\n    <div class="dashboard-input-orderNo kbd-container">\n      <label for="'),__append(idPrefix),__append('-orderNo" class="dashboard-header">'),__append(t("dashboard","input:orderNo")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-orderNo" class="form-control" type="text" maxlength="9">\n      <kbd data-hotkey="focusOrderNo" class="is-inside">?</kbd>\n      <div class="dashboard-input-actions">\n        <button id="'),__append(idPrefix),__append('-reload" class="btn btn-link" type="button" title="'),__append(t("dashboard","input:reload")),__append('"><i class="fa fa-refresh"></i></button>\n        <kbd data-hotkey="reload">?</kbd>\n        <button id="'),__append(idPrefix),__append('-reset" class="btn btn-link" type="button" title="'),__append(t("dashboard","input:reset")),__append('"><i class="fa fa-eraser"></i></button>\n        <kbd data-hotkey="reset">?</kbd>\n      </div>\n    </div>\n    <div class="dashboard-input-quantity kbd-container">\n      <label for="'),__append(idPrefix),__append('-quantity" class="dashboard-header">'),__append(t("dashboard","input:quantity")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-quantity" class="form-control" type="text" maxlength="3">\n      <kbd data-hotkey="focusQuantity" class="is-inside">?</kbd>\n      <div class="dashboard-input-actions">\n        <button id="'),__append(idPrefix),__append('-printServiceTag" class="btn btn-link" type="button" title="'),__append(t("dashboard","input:printServiceTag")),__append('"><i class="fa fa-print"></i></button>\n        <kbd data-hotkey="printServiceTag">?</kbd>\n      </div>\n    </div>\n  </div>\n  <div class="dashboard-input-nc12AndGprs">\n    <div class="dashboard-input-nc12 kbd-container">\n      <label for="'),__append(idPrefix),__append('-nc12" class="dashboard-header">'),__append(t("dashboard","input:nc12")),__append('</label>\n      <span class="dashboard-input-nc12-overlay dashboard-input-weight-enabled">'),__append(t("dashboard","input:nc12:weight:enabled")),__append('</span>\n      <span class="dashboard-input-nc12-overlay dashboard-input-ft-enabled">'),__append(t("dashboard","input:nc12:ft:enabled")),__append('</span>\n      <span class="dashboard-input-nc12-overlay dashboard-input-ft-disabled">'),__append(t("dashboard","input:nc12:ft:disabled")),__append('</span>\n      <span class="dashboard-input-nc12-overlay dashboard-input-hid-enabled">'),__append(t("dashboard","input:nc12:hid:enabled")),__append('</span>\n      <span class="dashboard-input-nc12-overlay dashboard-input-hid-disabled">'),__append(t("dashboard","input:nc12:hid:disabled")),__append('</span>\n      <span class="dashboard-input-nc12-overlay dashboard-input-ledOnly">'),__append(t("dashboard","input:nc12:ledOnly")),__append('</span>\n      <span class="dashboard-input-nc12-overlay dashboard-input-testOnly">'),__append(t("dashboard","input:nc12:testOnly")),__append('</span>\n      <span class="dashboard-input-nc12-overlay dashboard-input-noProgram">'),__append(t("dashboard","input:nc12:noProgram")),__append('</span>\n      <span class="dashboard-input-nc12-overlay dashboard-input-noProgramming">'),__append(t("dashboard","input:nc12:noProgramming")),__append('</span>\n      <span class="dashboard-input-nc12-overlay dashboard-input-multiNc12">'),__append(t("dashboard","input:nc12:multi")),__append('</span>\n      <input id="'),__append(idPrefix),__append('-nc12" class="form-control" type="text" maxlength="12">\n      <kbd data-hotkey="focusNc12" class="is-inside">?</kbd>\n    </div>\n    <div class="dashboard-input-gprs">\n      <label for="'),__append(idPrefix),__append('-gprs" class="dashboard-header">'),__append(t("dashboard","input:gprs")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-gprs" class="form-control" type="text" disabled>\n    </div>\n  </div>\n  <div class="dashboard-input-buttons">\n    <button id="'),
__append(idPrefix),__append('-start" class="btn btn-primary dashboard-input-start kbd-container" type="submit">\n      <span>'),__append(t("dashboard","input:start")),__append('</span>\n      <kbd data-hotkey="start" class="is-inside">?</kbd>\n    </button>\n    <button id="'),__append(idPrefix),__append('-cancel" class="btn btn-danger dashboard-input-cancel kbd-container" type="submit">\n      <span>'),__append(t("dashboard","input:cancel")),__append('</span>\n      <kbd data-hotkey="cancel" class="is-inside">?</kbd>\n    </button>\n    <button id="'),__append(idPrefix),__append('-toggleWorkMode" class="btn btn-warning dashboard-input-toggleWorkMode kbd-container" type="button" title="'),__append(t("dashboard","input:toggleWorkMode")),__append('">\n      <i class="fa fa-smile-o"></i>\n      <i class="fa fa-list-ol"></i>\n      <kbd data-hotkey="toggleWorkMode" class="is-inside">?</kbd>\n    </button>\n    <button id="'),__append(idPrefix),__append('-continue" class="btn btn-primary dashboard-input-continue kbd-container" type="button" title="'),__append(t("dashboard","input:continue")),__append('">\n      <i class="fa fa-arrow-right"></i>\n      <kbd data-hotkey="continue" class="is-inside">?</kbd>\n    </button>\n  </div>\n</form>\n');return __output.join("")}}),define("app/dashboard/templates/orderFinishedDialog",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div>\n  <p class="dashboard-orderFinishedDialog-label is-first">'),__append(t("dashboard","orderFinishedDialog:orderNo")),__append('</p>\n  <p class="dashboard-orderFinishedDialog-value">'),__append(order.no),__append('</p>\n  <div class="row">\n    <div class="col-md-4">\n      <p class="dashboard-orderFinishedDialog-label">'),__append(t("dashboard","orderFinishedDialog:quantity")),__append('</p>\n      <p class="dashboard-orderFinishedDialog-value">'),__append(order.quantity),__append('</p>\n    </div>\n    <div class="col-md-4">\n      <p class="dashboard-orderFinishedDialog-label">'),__append(t("dashboard","orderFinishedDialog:successCounter")),__append('</p>\n      <p class="dashboard-orderFinishedDialog-value">'),__append(order.successCounter),__append('</p>\n    </div>\n    <div class="col-md-4">\n      <p class="dashboard-orderFinishedDialog-label">'),__append(t("dashboard","orderFinishedDialog:failureCounter")),__append('</p>\n      <p class="dashboard-orderFinishedDialog-value">'),__append(order.failureCounter),__append('</p>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-md-4">\n      <p class="dashboard-orderFinishedDialog-label">'),__append(t("dashboard","orderFinishedDialog:startedAt")),__append('</p>\n      <p class="dashboard-orderFinishedDialog-value">'),__append(order.startedAt),__append('</p>\n    </div>\n    <div class="col-md-4">\n      <p class="dashboard-orderFinishedDialog-label">'),__append(t("dashboard","orderFinishedDialog:finishedAt")),__append('</p>\n      <p class="dashboard-orderFinishedDialog-value">'),__append(order.finishedAt),__append('</p>\n    </div>\n    <div class="col-md-4">\n      <p class="dashboard-orderFinishedDialog-label">'),__append(t("dashboard","orderFinishedDialog:duration")),__append('</p>\n      <p class="dashboard-orderFinishedDialog-value">'),__append(order.duration),__append("</p>\n    </div>\n  </div>\n  "),remainingOrdersCount>0&&(__append('\n  <button class="btn btn-lg btn-block btn-success dialog-answer" type="button" autofocus data-answer="selectNextOrderNo">\n    '),__append(t("dashboard","orderFinishedDialog:selectNextOrderNo")),__append(" <kbd>"),__append(selectNextOrderNoHotkey),__append("</kbd>\n  </button>\n  ")),__append("\n  "),remainingOrdersCount>1&&(__append('\n  <button class="btn btn-lg btn-block btn-warning dialog-answer" type="button" data-answer="selectAnotherOrderNo">\n    '),__append(t("dashboard","orderFinishedDialog:selectAnotherOrderNo")),__append(" <kbd>"),__append(selectAnotherOrderNoHotkey),__append("</kbd>\n  </button>\n  ")),__append('\n  <button class="btn btn-lg btn-block btn-'),__append(remainingOrdersCount?"danger":"primary"),__append(' dialog-answer" type="button" '),__append(remainingOrdersCount?"":"autofocus"),__append(' data-answer="reset">\n    '),remote?(__append("\n    "),__append(t("dashboard","orderFinishedDialog:close")),__append(" <kbd>"),__append(closeDialogHotkey),__append("</kbd>\n    ")):(__append("\n    "),__append(t("dashboard","orderFinishedDialog:reset")),__append(" <kbd>"),__append(resetOrderHotkey),__append("</kbd>\n    ")),__append("\n  </button>\n</div>\n");return __output.join("")}}),define("app/dashboard/templates/multipleLocalSocketsDialog",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append("<div>\n  <p>"),__append(message),__append("</p>\n  "),__append(t("dashboard","multipleLocalSocketsDialog:help")),__append("\n</div>\n");return __output.join("")}}),define("app/dashboard/views/InputView",["underscore","jquery","app/i18n","app/viewport","app/user","app/time","app/data/settings","app/data/hotkeys","app/data/scanBuffer","app/core/View","app/core/views/DialogView","./PrintServiceTagDialogView","./OrderNoPickerDialogView","./Nc12PickerDialogView","app/dashboard/templates/input","app/dashboard/templates/orderFinishedDialog","app/dashboard/templates/multipleLocalSocketsDialog"],function(e,t,n,r,i,o,a,s,l,p,c,u,d,f,h,g,_){"use strict";var m=[{pattern:"([0-9]{12})",serialNumber:-1,nc12:1,whole:!0},{pattern:".*?W[0-9]+___.*?([0-9]{9})_*([0-9]{12})",serialNumber:1,nc12:2,whole:!0},{pattern:"([A-Z0-9]{22})-.*?([0-9]{12})[^0-9]",serialNumber:1,nc12:2},{pattern:".([0-9]{12}).([0-9]{5,11})",serialNumber:2,nc12:1},{pattern:".([0-9]{5,11}).([0-9]{12})",serialNumber:1,nc12:2},{pattern:"([0-9]{10}) [0-9]{6} [0-9]{3}(?: [A-Z0-9]{3})? ([0-9]{12}) [A-Z0-9]{3}",serialNumber:1,nc12:2},{pattern:".([0-9]+).*?([0-9]{12}).*?",serialNumber:1,nc12:2}],v=new RegExp(m.map(function(e){var t=e.pattern;return e.pattern=new RegExp(e.whole?"^"+t+"$":t,"i"),t}).join("|"),"i");return p.extend({template:h,remoteTopics:function(){var e={};return i.isLocal()&&(e["programmer.startRequested"]=this.clickElement.bind(this,"start")),e},localTopics:{"hotkeys.closeDialog":function(){r.closeDialog()},"hotkeys.focusOrderNo":function(){this.$id("orderNo").parent().hasClass("is-multi")?this.showOrderNoPickerDialog():this.focusElement("orderNo")},"hotkeys.focusQuantity":function(){this.$id("orderNo").parent().hasClass("is-multi")?this.selectNextOrderNo():this.focusElement("quantity")},"hotkeys.focusNc12":function(){this.$id("nc12").parent().hasClass("is-multi")?this.showNc12PickerDialog():this.focusElement("nc12")},"hotkeys.toggleWorkMode":function(){this.clickElement("toggleWorkMode")},"hotkeys.start":function(){this.clickElement("start")},"hotkeys.cancel":function(){this.clickElement("cancel")},"hotkeys.continue":function(){this.clickElement("continue")},"hotkeys.reset":function(){this.clickElement("reset")},"hotkeys.reload":function(){this.clickElement("reload")},"hotkeys.printServiceTag":function(){this.clickElement("printServiceTag")},"programmer.barcodeScanned":"onBarcodeScanned",serviceTagPrintRequested:function(e){this.printServiceTag(e.serviceTag)}},events:{submit:"startOrCancel","click #-reload":"reload","click #-reset":"reset","click #-continue":"continue","click #-printServiceTag":"printServiceTag","click #-toggleWorkMode":"toggleWorkMode","click .dashboard-input-nc12.is-multi":function(e){e.target.classList.contains("form-control")&&this.showNc12PickerDialog()},"click .dashboard-input-orderNo.is-multi":function(e){e.target.classList.contains("form-control")&&this.showOrderNoPickerDialog()}},initialize:function(){this.$els={window:t(window),msg:null,orderNo:null,quantity:null,nc12:null,gprs:null,reload:null,reset:null,printServiceTag:null,start:null,cancel:null,toggleWorkMode:null,continue:null,inputs:null},this.listenTo(this.model,"change",e.debounce(this.onModelChange.bind(this),25)),this.listenTo(this.model,"change:remoteData",this.onRemoteDataChange),this.listenTo(this.model,"change:waitingForContinue",this.onWaitingForWeightScanningChange),this.listenTo(this.model,"change:waitingForHidLamps",this.onWaitingForHidLampsChange),this.listenTo(this.model,"change:waitingForLeds",this.onWaitingForLedsChange),this.listenTo(a,"change",this.onSettingsChange),i.isLocal()&&(this.listenTo(this.model,"change:result",this.onResultChange),this.$els.window.on("keydown.inputView",this.onKeyDown.bind(this)).on("keypress.inputView",this.onKeyPress.bind(this)))},destroy:function(){this.$els.window.off(".inputView"),this.$els.msg&&r.msg.hide(this.$els.msg,!0),this.$els=null},afterRender:function(){Object.keys(this.$els).forEach(function(e){var t=this.$id(e);t.length&&(this.$els[e]=t)},this),this.$els.inputs=this.$("input"),this.updateValues(),this.toggleControls(),this.showOrderFinishedDialog()},focusElement:function(e){var t=this.$els[e];t&&!t.prop("disabled")&&t.focus().select()},clickElement:function(e){this.isElementEnabled(e)&&this.$els[e].click()},isElementEnabled:function(e){var t=this.$els[e];return t&&!t.prop("disabled")&&t.is(":visible")},checkWeightScanResult:function(e,t){"weight:scanning"===this.model.get("waitingForContinue")&&this.socket.emit("programmer.checkWeightScanResult",this.$els.orderNo.val(),e,t)},checkHidScanResult:function(e,t){this.model.get("waitingForHidLamps")&&this.socket.emit("programmer.checkHidScanResult",this.$els.orderNo.val(),e,t)},checkSerialNumber:function(e,t,n,r){this.model.get("waitingForLeds")&&this.socket.emit("programmer.checkSerialNumber",this.$els.orderNo.val(),e,t,n,r)},startOrCancel:function(){return r.closeAllDialogs(),this.model.isInProgress()?this.cancel():this.start(),!1},start:function(){if(this.isElementEnabled("start")){var e=this.getStartData();if(null!==e){if(this.model.isTestingMode()&&!this.model.hasProgram())return this.showMessage("warning","start:requiredProgram");if(!this.model.isRemoteInput()&&this.model.isOrderFinished())return this.showOrderFinishedDialog();var t=this;this.$els.start.prop("disabled",!0),this.socket.emit("programmer.start",e,function(e){t.$els&&e&&(t.showErrorMessage("start",e.message,{workMode:t.model.get("workMode")}),t.toggleControls())})}}},cancel:function(){if(this.isElementEnabled("cancel")){var e=this,t=this.$els.cancel.prop("disabled",!0);this.socket.emit("programmer.cancel",function(){e.$els&&t.prop("disabled",!1)})}},continue:function(){if(this.isElementEnabled("continue")){var e=this,t=this.$els.continue.prop("disabled",!0);this.socket.emit("programmer.continue",function(){e.$els&&t.prop("disabled",!1)})}},reload:function(){if(this.isElementEnabled("reload")){var e=this;this.$els.reload.prop("disabled",!0),this.socket.emit("programmer.reload",function(t,n){e.$els&&(t?e.showErrorMessage("reload",t.message):n?(e.showMessage("success","reload:success"),e.$els.orderNo.val(n.no),e.$els.quantity.val("1"),e.$els.nc12.select()):e.showMessage("warning","reload:noOrders"),e.$els.reload.prop("disabled",!1))})}},reset:function(t){if(e.isFunction(t)||(t=function(){}),!this.isElementEnabled("reset"))return t(new Error("UNAVAILABLE"));var n=this;this.$els.reset.prop("disabled",!0),this.socket.emit("programmer.reset",function(e){if(n.$els)return e?n.showErrorMessage("reset",e.message):(n.hideOrderFinishedDialog(),n.showMessage("success","reset:success"),n.$els.orderNo.val(""),n.$els.quantity.val(""),n.$els.nc12.val("")),n.updateValues(),n.toggleControls(),t(e)})},printServiceTag:function(e){if(i.isLocal()&&!this.printServiceTagDialogView){"string"!=typeof e&&(e=this.model.get("serviceTag"));var t=this,o=this.$els.orderNo.val(),a="";null!==e&&(o=parseInt(e.substr(1,13),10).toString(),a=parseInt(e.substr(-4),10).toString()),this.printServiceTagDialogView=new u({model:{orderNo:o,counter:a}}),this.broker.subscribe("viewport.dialog.shown").setFilter(function(e){return e===t.printServiceTagDialogView}).setLimit(1).on("message",function(){s.stop()}),this.broker.subscribe("viewport.dialog.hidden").setFilter(function(e){return e===t.printServiceTagDialogView}).setLimit(1).on("message",function(){t.printServiceTagDialogView=null,s.start()}),r.showDialog(this.printServiceTagDialogView,n("dashboard","printServiceTagDialog:title"))}},toggleWorkMode:function(){if(this.isElementEnabled("toggleWorkMode")){var e=this,t=this.model.isProgrammingMode()?"testing":"programming";this.$els.toggleWorkMode.prop("disabled",!0),this.socket.emit("programmer.setWorkMode",t,function(t){e.$els&&(t?e.showErrorMessage("setWorkMode",t.message):e.showMessage("success","setWorkMode:success"),e.$els.toggleWorkMode.prop("disabled",!1))})}},selectNextOrderNo:function(){r.closeAllDialogs(),this.selectOrderNo(this.model.getNextOrderNo())},selectOrderNo:function(e,t){if(!this.model.isInProgress()&&this.model.isRemoteInput()&&e!==this.model.get("selectedOrderNo")){var n=this,i=this.$(".dashboard-input-orderNo");i.hasClass("is-selecting")||(i.addClass("is-selecting"),this.socket.emit("programmer.selectOrderNo",e,function(e){if(n.$els)return i.removeClass("is-selecting"),t?t(e):void(e?n.showErrorMessage("selectOrderNo",e.message):(r.closeAllDialogs(),n.showMessage("success","selectOrderNo:success")))}))}},selectNc12:function(e,t,n){var i=this,o=this.$(".dashboard-input-nc12");o.hasClass("is-selecting")||(o.addClass("is-selecting"),this.socket.emit("programmer.selectNc12",e,t,function(e){if(i.$els)return o.removeClass("is-selecting"),n?n(e):void(e?i.showErrorMessage("selectNc12",e.message):(r.closeAllDialogs(),i.showMessage("success","selectNc12:success")))}))},showMessage:function(e,t,i){this.$els.msg&&r.msg.hide(this.$els.msg,!0),this.$els.msg=r.msg.show({type:e,time:"success"===e?1500:"warning"===e?2e3:2500,text:n("dashboard","msg:"+t,i)})},showErrorMessage:function(e,t,r){var i=e+":";i+=n.has("dashboard","msg:"+i+t)?t:"failure","MULTIPLE_LOCAL_SOCKETS"===t?this.showMultipleLocalSocketsWarning(n("dashboard","msg:"+i,r)):this.showMessage("error",i,r)},showMultipleLocalSocketsWarning:function(e){var t=new p({dialogClassName:"dashboard-input-multipleLocalSocketsDialog",template:function(){return _({message:e})}});r.closeAllDialogs(),r.showDialog(t,n("dashboard","multipleLocalSocketsDialog:title"))},toggleControls:function(){if(this.$els){var e=this.model,t=e.isInProgress(),n=this.$els;if(i.isLocal()){var r=e.isRemoteInput(),o=a.get("orders"),s="disabled"===o,l="required"===o,p=e.hasOrder(),c=t||r||p||s,u=e.get("countdown")>=0,d=e.get("waitingForContinue"),f=!!a.get("testingEnabled"),h=!!a.get("glp2Enabled"),g=!!a.get("ftEnabled"),_=!!this.$(".is-ft-disabled").length,m=!!a.get("hidEnabled"),v=!!this.$(".is-hid-disabled").length;n.orderNo.prop("disabled",c||u).prop("required",l),n.quantity.prop("disabled",c||u).prop("required",l),n.nc12.prop("disabled",t||r||p||u||g||m),n.start.prop("disabled",u||g&&_||m&&v),n.toggleWorkMode.prop("disabled",t||u||h).css("display",h&&!f?"none":""),n.continue.prop("disabled",null===d||"glp2"===d),n.reset.prop("disabled",t||u),n.reload.prop("disabled",t||p||u)}else n.inputs.prop("disabled",!0),n.start.prop("disabled",!0),n.cancel.prop("disabled",!0),n.toggleWorkMode.prop("disabled",!0),n.continue.prop("disabled",!0),n.reset.prop("disabled",!0),n.reload.prop("disabled",!0),n.printServiceTag.prop("disabled",!0);n.orderNo.prop("disabled")?n.nc12.prop("disabled")||n.nc12.focus().select():n.orderNo.focus().select()}},updateValues:function(){var t=this.$els;if(t&&t.inputs){var n,r=this.model.isRemoteInput(),o=!1;if(r){var s=this.model.get("remoteData");Array.isArray(s)&&s.length>1&&(o=!a.get("forceLatestOrder")),n=this.model.getSelectedRemoteData()||{_id:null,quantityTodo:null,quantityDone:null,items:[]}}else{var l=this.model.get("order"),p=this.model.get("nc12");n=l?{_id:l.no,quantityTodo:l.quantity,quantityDone:l.successCounter,items:[]}:{_id:null,quantityTodo:null,quantityDone:null,items:[]},p&&n.items.push({kind:"program",nc12:p})}t.orderNo.val(n._id||"").closest("div").toggleClass("is-multi",i.isLocal()&&!this.model.isInProgress()&&o);var c=[],u=[],d=[],f=[],h=[],g=null,_=null;e.forEach(n.items,function(e){"program"===e.kind?c.push(e):"led"===e.kind?u.push(e):"hid"===e.kind?d.push(e):"gprs"===e.kind?f.push(e):"test"===e.kind?h.push(e):"ft"===e.kind?g=e:"weight"===e.kind&&(_=e)});var m=e.findWhere(c,{nc12:this.model.get("selectedNc12")}),v=e.findWhere(h,{nc12:this.model.getProgramId()}),b=!!a.get("glp2Enabled"),y=!!a.get("ledsEnabled"),w=!!a.get("hidEnabled"),T=!!a.get("ftEnabled"),P=!!a.get("weightEnabled")&&r,E=this.model.isFtActive(),A=this.model.isHidActive(),k=!T&&!w&&!P&&this.model.isNoProgramming(),S=c.length>1,x=i.isLocal()&&y&&r&&!this.model.hasProgram()&&!c.length&&!d.length&&!P&&u.length>0,C=b&&!y&&k,L=n.quantityTodo,O=n.quantityDone,R="";!k&&c.length&&(1===c.length&&(m=c[0]),R=m?m.nc12:""),(P||w||T||k)&&(R="");var I=i.isLocal()&&!this.model.isInProgress()&&S,M=b&&!x&&!k&&!m&&!I;if(t.nc12.val(R).parent("div").toggleClass("is-ledOnly",x).toggleClass("is-weight-enabled",P).toggleClass("is-ft-enabled",T&&E).toggleClass("is-ft-disabled",T&&!E).toggleClass("is-hid-enabled",w&&A).toggleClass("is-hid-disabled",w&&!A).toggleClass("is-noProgramming",k&&!x&&!C&&y).toggleClass("is-testOnly",C).toggleClass("is-noProgram",M).toggleClass("is-multi",I&&!k).toggleClass("is-picked",""!==R),P)O=_?_.quantityDone:0;else if(T)O=g?g.quantityDone:0;else if(w)O=0,e.forEach(d,function(e){var t=e.quantityTodo/n.quantityTodo;O+=e.quantityDone/t}),O/=d.length;else if(C)v?(L=v.quantityTodo,O=v.quantityDone):(L=n.quantityTodo,O=0);else if(k&&u.length)O=0,e.forEach(u,function(e){var t=e.quantityTodo/n.quantityTodo;O+=e.quantityDone/t}),O/=u.length,b&&v&&(L+=v.quantityTodo,O+=v.quantityDone);else if(!y&&u.length&&m){var N=m.quantityTodo/n.quantityTodo;O=(m.quantityDone+m.extraQuantityDone)/N}var D=Math.floor(10*(L-O))/10;!n._id||isNaN(D)?t.quantity.val("").removeClass("is-overflow"):t.quantity.val(Math.abs(D)).toggleClass("is-overflow",D<0);var z=!1;r&&m&&1===f.length&&this.model.isProgrammingMode()&&a.supportsFeature("gprs")&&(z=!0,this.$els.gprs.val(f[0].nc12)),this.$el.toggleClass("is-gprs",z)}},isNc12Required:function(){return!(a.get("ftEnabled")||a.get("hidEnabled")||a.get("weightEnabled"))&&(!this.model.isNoProgramming()&&(!this.$els.nc12.parent().hasClass("is-ledOnly")&&(!!this.model.hasProgramStep("sol")||!this.model.hasProgram())))},getStartData:function(){var e=this.model.isRemoteInput(),t=e?this.model.getSelectedRemoteData():null,n=this.$els.nc12.val().trim();if(!this.model.isNoProgramming()&&/^[0-9]{12}$/.test(n)||(n=""),""===n&&this.isNc12Required())return this.showMessage("warning","start:requiredNc12"),this.$els.nc12.select(),null;var r=e?"required":a.get("orders");if("disabled"===r)return{orderNo:null,quantity:null,nc12:n};var i="required"===r,o=this.$els.orderNo.val().trim();if(!/^[0-9]{1,9}$/.test(o)){if(i)return this.showMessage("warning","start:requiredOrderNo"),this.$els.orderNo.select(),null;o=null}var s;if(t)s=t.quantityTodo;else{var l=this.model.get("order");s=l&&l.no===o?l.quantity:parseInt(this.$els.quantity.val(),10)}if(isNaN(s)||s<1||s>999){if(i)return this.showMessage("warning","start:requiredQuantity"),this.$els.quantity.select(),null;s=null}return{orderNo:o,quantity:s,nc12:n}},onModelChange:function(){this.updateValues(),this.toggleControls()},onResultChange:function(){function e(e){e.$els.cancel.attr("disabled",!1),e.timers.cancelDelay=null}var t=parseInt(a.get("cancelDelay"),10);this.timers.cancelDelay&&(clearTimeout(this.timers.cancelDelay),this.timers.cancelDelay=null),t>0&&this.model.isInProgress()&&(this.$els.cancel.attr("disabled",!0),this.timers.cancelDelay=setTimeout(e,t,this)),null===this.model.get("result")?this.hideOrderFinishedDialog():this.showOrderFinishedDialog()},onRemoteDataChange:function(){this.updateOrderFinishedDialog()},onWaitingForWeightScanningChange:function(){if("weight:scanning"!==this.model.get("waitingForContinue"))return void l.clear();var e=l.get().pop();e&&this.checkWeightScanResult(e.raw,e.scannerId)},onWaitingForHidLampsChange:function(){if(!this.model.get("waitingForHidLamps"))return void l.clear();for(var e=l.get(),t=0;t<e.length;++t){var n=e[t];this.checkHidScanResult(n.raw,n.scannerId)}},onWaitingForLedsChange:function(){if(!this.model.get("waitingForLeds"))return void l.clear();for(var e=l.get(),t=0;t<e.length;++t){var n=e[t];this.checkSerialNumber(n.raw,n.nc12,n.serialNumber,n.scannerId)}},onSettingsChange:function(){this.updateValues(),this.toggleControls()},onKeyDown:function(e){27===e.keyCode&&this.$id("nc12Picker").length&&this.hideNc12Picker()},onKeyPress:function(e){if(!(e.charCode<48||e.charCode>57)){var t=this.$id("nc12Picker").children().eq(+String.fromCharCode(e.charCode)-1);t.length&&t.click()}},onBarcodeScanned:function(e){e.event&&!this.$(e.event.target).length&&e.event.preventDefault(),this.model.isRemoteInput()?a.get("weightEnabled")?this.handleWeightCommand(e.value):a.get("hidEnabled")?this.handleHidCommand(e.value,e.scannerId):a.get("ledsEnabled")&&v.test(e.value)&&this.handleLedCommand(e.value,e.scannerId):/^[0-9]{9}-[0-9]{3}$/.test(e.value)?this.handleOrderNoAndQuantityCommand(e.value):/^[0-9]{12}$/.test(e.value)&&this.handleNc12Command(e.value,e.event?e.event.target:null)},handleWeightCommand:function(e,t){"weight:scanning"===this.model.get("waitingForContinue")?this.checkWeightScanResult(e,t):this.model.get("countdown")!==-1&&this.model.get("finishedAt")||(l.add(e,t),this.start())},handleHidCommand:function(e,t){/^[0-9]{13}$/.test(e)&&(this.model.get("waitingForHidLamps")?this.checkHidScanResult(e,t):this.model.get("countdown")!==-1&&this.model.get("finishedAt")||(l.add(e,t),this.start()))},handleLedCommand:function(e,t){for(var n,r,i=0;i<m.length;++i){var o=m[i],a=e.match(o.pattern);if(a){n=a[o.nc12],r=o.serialNumber===-1?"????????":a[o.serialNumber].toUpperCase();break}}n&&(this.model.get("waitingForLeds")?this.checkSerialNumber(e,n,r,t):this.model.get("countdown")!==-1&&this.model.get("finishedAt")||(l.add(e,n,r,t),this.start()))},handleOrderNoAndQuantityCommand:function(t){function n(){s.$els&&(s.$els.orderNo.val("string"==typeof r&&9===r.length?r:""),s.$els.quantity.val("number"==typeof i&&i>0&&i<1e3?i:"").removeClass("is-overflow"),s.$els.nc12.val(""))}if(this.model.isInProgress())return this.cancel();if(!(this.model.get("countdown")>=0)){var r=t.substr(0,9),i=+t.substr(10),o=a.get("orders"),s=this;if("disabled"!==o){var l=this.model.get("order");this.model.isOrderFinished()||l&&(l.no!==r||l.quantity!==i)?this.reset(function(t){t||s.listenToOnce(s.model,"change",e.debounce(n,50))}):n()}else s.$els.orderNo.val(""),s.$els.quantity.val("")}},handleNc12Command:function(e,t){return this.model.isInProgress()?this.cancel():void(this.model.get("countdown")>=0||(this.$els.nc12.val("string"==typeof e&&12===e.length?e:""),t&&this.$(t).length?t!==this.$els.nc12[0]&&(t.value=""):this.$els.start.click()))},showOrderNoPickerDialog:function(){if(!this.model.isInProgress()&&this.model.isRemoteInput()&&(!r.currentDialog||"dashboard-orderNoPickerDialog"!==r.currentDialog.dialogClassName)){r.closeAllDialogs();var e=new d({model:this.model});this.listenTo(e,"orderNoPicked",function(e){this.model.get("selectedOrderNo")===e?r.closeDialog():this.selectOrderNo(e)}),this.broker.subscribe("viewport.dialog.shown").setFilter(function(t){return t===e}).setLimit(1).on("message",function(){s.stop()}),this.broker.subscribe("viewport.dialog.hidden").setFilter(function(t){return t===e}).setLimit(1).on("message",function(){s.start()}),r.showDialog(e,n("dashboard","orderNoPickerDialog:title"))}},showNc12PickerDialog:function(){if(!this.model.isInProgress()&&this.model.isRemoteInput()&&(!r.currentDialog||"dashboard-nc12PickerDialog"!==r.currentDialog.dialogClassName)){r.closeAllDialogs();var e=new f({model:this.model});this.listenTo(e,"nc12Picked",function(e,t){this.model.get("selectedNc12")===e?r.closeDialog():this.selectNc12(e,t)}),this.broker.subscribe("viewport.dialog.shown").setFilter(function(t){return t===e}).setLimit(1).on("message",function(){s.stop()}),this.broker.subscribe("viewport.dialog.hidden").setFilter(function(t){return t===e}).setLimit(1).on("message",function(){s.start()}),r.showDialog(e,n("dashboard","nc12PickerDialog:title"))}},showOrderFinishedDialog:function(){if(!this.model.isInProgress()&&this.model.isOrderFinished()){r.closeAllDialogs();var e=new c({dialogClassName:"dashboard-orderFinishedDialog",template:g,model:this.serializeOrderFinishedDialogModel()}),t=this;this.listenTo(e,"answered",function(e){"reset"===e?t.clickElement("reset"):"selectNextOrderNo"===e?t.selectNextOrderNo():"selectAnotherOrderNo"===e&&t.clickElement("orderNo")}),r.showDialog(e,n("dashboard","orderFinishedDialog:title"))}},hideOrderFinishedDialog:function(){r.currentDialog&&"dashboard-orderFinishedDialog"===r.currentDialog.dialogClassName&&r.closeDialog()},updateOrderFinishedDialog:function(){var e=r.currentDialog;if(!e||"dashboard-orderFinishedDialog"!==e.dialogClassName)return void(!this.model.isInProgress()&&this.model.isOrderFinished()&&this.showOrderFinishedDialog());var t=this.serializeOrderFinishedDialogModel();return t?(e.model=t,void e.render()):this.hideOrderFinishedDialog()},serializeOrderFinishedDialogModel:function(){var t,n=this.model.get("order"),r=n?n.failureCounter:0,i=0;if(this.model.isRemoteInput()){var s=this.model.getSelectedRemoteData();if(!s)return null;t={no:s._id,quantity:s.quantityTodo.toLocaleString(),successCounter:s.quantityDone.toLocaleString(),failureCounter:r?"~"+r.toLocaleString():"?",startedAt:s.startedAt,finishedAt:s.finishedAt,duration:"?"},e.forEach(this.model.get("remoteData"),function(e){i+=e.status===-1?1:0})}else{if(!n)return null;t={no:n.no,quantity:n.quantity.toLocaleString(),successCounter:n.successCounter.toLocaleString(),failureCounter:r.toLocaleString(),startedAt:n.startedAt,finishedAt:n.finishedAt,duration:"?"}}t.startedAt&&t.finishedAt&&(t.duration=o.toString(o.getMoment(t.finishedAt).diff(t.startedAt)/1e3)),t.startedAt=this.formatTimeOrDateTime(t.startedAt),t.finishedAt=this.formatTimeOrDateTime(t.finishedAt);var l=a.get("hotkeys");return{remote:this.model.isRemoteInput(),order:t,remainingOrdersCount:i,selectNextOrderNoHotkey:l.focusQuantity,selectAnotherOrderNoHotkey:l.focusOrderNo,closeDialogHotkey:l.closeDialog,resetOrderHotkey:l.reset}},formatTimeOrDateTime:function(e){if(!e)return"?";var t=o.getMoment(),n=o.getMoment(e);return n.format("YYMMDD")===t.format("YYMMDD")?n.format("HH:mm:ss"):n.format("YYYY-MM-DD, HH:mm:ss")}})}),define("app/dashboard/templates/log",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="dashboard-log form-control is-scrollable" tabindex="0"></div>\n');return __output.join("")}}),define("app/dashboard/templates/logEntry",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<p><time datetime="'),__append(datetime),__append('">'),__append(time),__append("</time> <span>"),__append(text),__append("</span></p>\n");return __output.join("")}}),define("app/dashboard/views/LogView",["jquery","app/i18n","app/time","app/core/View","app/history/util/decorateLogEntry","app/dashboard/templates/log","app/dashboard/templates/logEntry"],function(e,t,n,r,i,o,a){"use strict";return r.extend({template:o,localTopics:{"hotkeys.focusLog":function(){this.$el.focus()}},initialize:function(){this.$countdown=null,this.listenTo(this.model,"change:log",this.renderLogEntries),this.listenTo(this.model,"change:countdown",this.renderCountdown),this.listenTo(this.model,"push:log",this.renderLogEntry)},destroy:function(){this.cancelAnimations(),this.$countdown=null},beforeRender:function(){this.$countdown=null},afterRender:function(){this.renderLogEntries(),this.model.get("countdown")===-1&&(this.el.scrollTop=this.el.scrollHeight),this.renderCountdown()},resize:function(e){this.el.style.height=e+"px"},renderLogEntries:function(){this.$el.find("p").remove();var e=this.model.get("log");Array.isArray(e)&&e.length&&e.forEach(this.renderLogEntry,this)},renderLogEntry:function(e){this.$el.append(a(i(e))),this.el.scrollTop=this.el.scrollHeight},renderCountdown:function(){this.model.get("countdown")>=0?this.showCountdown():this.hideCountdown()},showCountdown:function(){this.el.scrollTop=0,null===this.$countdown?this.$countdown=e('<div class="dashboard-log-countdown"></div>').hide().text(this.model.get("countdown")).appendTo(this.el).fadeIn("fast"):this.$countdown.text(this.model.get("countdown"))},hideCountdown:function(){var e=this.$countdown;null!==e&&(e.fadeOut("fast",function(){e.remove()}),this.$countdown=null,this.el.scrollTop=this.el.scrollHeight)}})}),define("app/dashboard/templates/history",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="dashboard-history kbd-container">\n  <kbd class="is-inside" data-hotkey="focusHistory">T</kbd>\n  <h3 class="dashboard-header">'),__append(t("dashboard","history")),__append(' <em id="'),__append(idPrefix),__append('-title" class="dashboard-history-title"></em></h3>\n  <div class="list-group form-control is-scrollable">\n    '),models.forEach(function(e){__append("\n    "),__append(renderHistoryEntry(e)),__append("\n    ")}),__append("\n  </div>\n</div>\n");return __output.join("")}}),define("app/dashboard/templates/historyEntry",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<a data-id="'),__append(_id),__append('" href="'),__append(href),__append('" class="list-group-item list-group-item-'),__append(className),__append(" "),__append(cancelled?"is-cancelled":""),__append('">\n  <span class="dashboard-history-time">'),__append(time),__append('</span>\n  <span class="dashboard-history-orderNo">'),__append(orderNo),__append('</span>\n  <span class="dashboard-history-quantity">'),__append(quantity),__append('</span>\n  <span class="dashboard-history-serviceTag">'),__append(serviceTag),__append('</span>\n  <span class="dashboard-history-nc12">'),__append(nc12),__append('</span>\n  <span class="dashboard-history-programName">'),
__append(programName),__append("</span>\n  <span>&nbsp;</span>\n</a>\n");return __output.join("")}}),define("app/dashboard/views/HistoryView",["underscore","app/time","app/core/View","app/data/settings","app/dashboard/templates/history","app/dashboard/templates/historyEntry"],function(e,t,n,r,i,o){"use strict";return n.extend({template:i,remoteTopics:{"programmer.finished":function(e){this.collection.add(e,{at:0}),this.collection.length>50&&this.collection.pop()},"programmer.resultToggled":function(e){var t=this.collection.get(e.resultId);t&&t.set("cancelled",e.cancelled)}},localTopics:{"hotkeys.focusHistory":function(){this.$("a.list-group-item:first-child").focus()}},events:{"keydown .list-group-item":function(e){var t=e.target;38===e.which?(e.preventDefault(),t.previousElementSibling?t.previousElementSibling.focus():t.parentNode.lastElementChild.focus()):40===e.which&&(e.preventDefault(),t.nextElementSibling?t.nextElementSibling.focus():t.parentNode.firstElementChild.focus())},"click .dashboard-history-serviceTag":function(e){var t=e.currentTarget.innerText.trim();if(""!==t)return this.broker.publish("serviceTagPrintRequested",{serviceTag:t}),!1}},initialize:function(){this.firstRender=!0,this.listenTo(this.collection,"request",this.onCollectionRequest),this.listenTo(this.collection,"error",this.onCollectionError),this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"add",this.onCollectionAdd),this.listenTo(this.collection,"remove",this.onCollectionRemove),this.listenTo(this.collection,"change:cancelled",this.onResultToggled),this.listenTo(r,"change:title",this.onTitleChange)},serialize:function(){return{idPrefix:this.idPrefix,renderHistoryEntry:o,models:this.collection.map(this.serializeModel,this)}},serializeModel:function(e){var n=e.get("order");return{_id:e.id,href:e.genClientUrl(),className:"success"===e.get("result")?"success":"danger",time:t.format(e.get("finishedAt"),"HH:mm:ss"),orderNo:n?n.no:"&nbsp;",quantity:n?e.get("counter")+"/"+n.quantity:"&nbsp;",serviceTag:e.get("serviceTag")||"&nbsp;",nc12:e.get("nc12"),programName:e.getProgramName()||"&nbsp;",cancelled:1===e.get("cancelled")}},afterRender:function(){this.firstRender&&(this.collection.url="/history;recent",this.promised(this.collection.fetch({reset:!0}))),this.firstRender=!1,this.onTitleChange()},onCollectionRequest:function(){this.$(".list-group").html('<i class="fa fa-spinner fa-spin"></i>')},onCollectionError:function(){this.$(".fa-spinner").removeClass("fa-spin").addClass("is-error")},onCollectionAdd:function(e){this.$(".list-group").prepend(o(this.serializeModel(e)))},onCollectionRemove:function(){this.$(".list-group-item:last-child").remove()},onTitleChange:function(){var e=r.get("title");"string"==typeof e&&e.length?this.$id("title").text(e).show():this.$id("title").hide()},onResultToggled:function(e,t){this.$('[data-id="'+e.id+'"]').toggleClass("is-cancelled",1===t)}})}),define("app/dashboard/templates/carousel",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="dashboard-carousel">\n  <ul>\n    <li data-item-id="program"><img src="/app/dashboard/assets/smiley-program.png">\n    <li data-item-id="success"><img src="/app/dashboard/assets/smiley-success.png">\n    <li data-item-id="failure"><img src="/app/dashboard/assets/smiley-failure.png">\n  </ul>\n</div>\n');return __output.join("")}}),function(e){e.fn.flipster=function(t){var n="string"==typeof t;if(n)var r=t,i=Array.prototype.slice.call(arguments,1);else var o={itemContainer:"ul",itemSelector:"li",style:"carousel",start:"center",onItemSwitch:function(){},disableRotation:!1},a=e.extend({},o,t);return this.each(function(){function t(e){d.height(e||a.size||o()),u.css("height","auto"),d.width(e||a.size||f.width())}function o(){var t=0;return f.each(function(){e(this).height()>t&&(t=e(this).height())}),t}function s(n){var r=e(f[h]).addClass("flip-current");f.removeClass("flip-prev flip-next flip-current flip-past flip-future no-transition"),f.addClass("flip-hidden");var i=e(f[h+1]),o=e(f[h+2]),s=e(f[h-1]),l=e(f[h-2]);0===h?(s=f.last(),l=s.prev()):1===h?l=f.last():h===f.length-2?o=f.first():h===f.length-1&&(i=f.first(),o=e(f[1])),o.removeClass("flip-hidden").addClass("flip-future"),l.removeClass("flip-hidden").addClass("flip-past"),i.removeClass("flip-hidden").addClass("flip-next"),s.removeClass("flip-hidden").addClass("flip-prev"),r.addClass("flip-current").removeClass("flip-prev flip-next flip-past flip-future flip-hidden"),t(n),a.onItemSwitch.call(this)}function l(e){if(f.length>1){if("left"===e)h>0?h--:h=f.length-1;else if("right"===e)h<f.length-1?h++:h=0;else if("number"==typeof e)h=e;else if("string"==typeof e){h=-1;for(var t=0,n=f.length;t<n;++t)if(f[t].dataset.itemId===e){h=t;break}}else h=f.index(e);s()}}function p(){u.addClass("flipster flipster-active flipster-"+a.style),a.disableRotation&&u.addClass("no-rotate"),d=u.find(a.itemContainer).addClass("flip-items"),f=d.find(a.itemSelector).addClass("flip-item").wrapInner("<div class='flip-content' />"),a.start&&f.length>1&&(h="center"===a.start?!f.length%2?f.length/2+1:Math.floor(f.length/2):a.start),s(null)}var c,u=e(this);if(n)return c=u.data("methods"),c[r].apply(this,i);var d,f,h=0;c={jump:l,resize:t,center:s},u.data("methods",c),u.hasClass("flipster-active")||p()})}}(jQuery),define("jquery.flipster",["jquery"],function(){}),define("app/dashboard/views/CarouselView",["app/core/View","app/dashboard/templates/carousel","jquery.flipster"],function(e,t){"use strict";return e.extend({template:t,initialize:function(){this.$els=null,this.listenTo(this.model,"change:result",this.onResultChange)},destroy:function(){this.$els=null},afterRender:function(){this.$els=this.$el.find("li"),this.$el.flipster({start:this.getCurrentItemIndex(),disableRotation:!0})},resize:function(e,t){var n=Math.min(e,t);this.$els.css({width:n,height:n}),this.$el.flipster("center",n)},getCurrentItemIndex:function(){var e=this.model.getCarouselItemId();return this.$els.filter(function(){return this.dataset.itemId===e}).first().index()},onResultChange:function(){this.$el.flipster("jump",this.getCurrentItemIndex())}})}),define("app/xiconfPrograms/util/buildStepLabels",["app/i18n","app/time"],function(e,t){"use strict";return function(n,r){return n.map(function(n,i){if(n.enabled===!1)return null;var o=n.type;"wait"===n.type?o="auto"===n.kind?t.toString(n.duration):"W8":e.has("xiconfPrograms","step:"+n.type+":label")&&(o=e("xiconfPrograms","step:"+n.type+":label"));var a="label label-info xiconfPrograms-label xiconfPrograms-label-"+n.type+" ";return r&&r[i]&&(a+="success"===r[i].status?"is-success":"failure"===r[i].status?"is-failure":"is-idle"),'<span class="'+a+'">'+o+"</span>"}).filter(function(e){return null!==e}).join(" ")}}),define("app/xiconfPrograms/XiconfProgram",["../i18n","../time","../core/Model","./util/buildStepLabels"],function(e,t,n,r){"use strict";return n.extend({urlRoot:"/xiconf/programs",clientUrlRoot:"#xiconf/programs",privilegePrefix:"XICONF",topicPrefix:"xiconfPrograms",nlsDomain:"xiconfPrograms",labelAttribute:"name",defaults:function(){return{type:"t24vdc",name:"",prodLines:"",steps:[]}},parse:function(e){return"string"==typeof e.steps&&(e.steps=JSON.parse(e.steps)),e.steps&&(e.stepLabels=r(e.steps)),e},serialize:function(){var n=this.toJSON();return n.prodLines=n.prodLines||e("xiconfPrograms","PROPERTY:prodLines:all"),n.programType=e("xiconfPrograms","type:"+n.type),n.createdAt=t.format(n.createdAt,"LLLL"),n.updatedAt=t.format(n.updatedAt,"LLLL"),n},serializeRow:function(){var e=this.serialize();return e.steps=e.stepLabels,e}},{TYPES_TO_STEPS:{t24vdc:["wait","pe","sol","fn"],glp2:["wait","pe","iso","program","fn","vis"]},GLP2_INPUTS:[1,2,3,4,5,6,7,8,15,16,17,18,19,20,21,22,23,24,25,26,27]})}),define("app/xiconfPrograms/XiconfProgramCollection",["underscore","../core/Collection","./XiconfProgram"],function(e,t,n){"use strict";return t.extend({model:n,rqlQuery:"limit(15)"})}),define("app/xiconfPrograms/templates/steps",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="xiconfPrograms-steps">\n  '),steps.forEach(function(e){__append('\n  <div class="xiconfPrograms-step '),__append(e.stepClassName),__append('" data-type="'),__append(e.type),__append('" data-index="'),__append(e.index),__append('">\n    <div class="xiconfPrograms-step-status">\n      '),null!==e.unit&&(__append('\n      <div class="xiconfPrograms-step-unit xiconfPrograms-step-cornerBox">'),__append(e.unit),__append("</div>\n      ")),__append("\n      "),null!==e.minValue&&(__append('\n      <div class="xiconfPrograms-step-minValue xiconfPrograms-step-cornerBox">'),__append(e.minValue),__append("</div>\n      ")),__append("\n      "),null!==e.maxValue&&(__append('\n      <div class="xiconfPrograms-step-maxValue xiconfPrograms-step-cornerBox">'),__append(e.maxValue),__append("</div>\n      ")),__append("\n      "),null!==e.value&&(__append('\n      <div class="xiconfPrograms-step-value" data-length="'),__append(e.value.length),__append('">'),__append(e.value),__append("</div>\n      ")),__append('\n    </div>\n    <div class="xiconfPrograms-step-nameAndProgress">\n      <h3 class="xiconfPrograms-step-name">'),__append(e.label||t("xiconfPrograms","step:"+e.type)),__append('</h3>\n      <div class="xiconfPrograms-step-details">\n        '),e.props.forEach(function(e){__append("\n        "),e.key&&(__append('\n        <span class="xiconfPrograms-step-details-prop">'),__append(e.key),__append(e.sub?"<sub>"+e.sub+"</sub>":""),__append("="),__append(e.value),__append(e.unit||""),__append("</span>\n        ")),__append("\n        ")}),__append('\n      </div>\n      <div class="progress">\n        <div class="progress-bar '),__append(e.progressBarClassName),__append('" style="width: '),__append(e.progressBarWidth),__append('"></div>\n      </div>\n    </div>\n  </div>\n  ')}),__append("\n</div>\n");return __output.join("")}}),define("app/xiconfPrograms/views/XiconfProgramStepsView",["underscore","app/time","app/core/View","app/xiconfPrograms/templates/steps"],function(e,t,n,r){"use strict";var i={m:.001,k:1e3,M:1e6,G:1e9};return n.extend({template:r,initialize:function(){this.listenTo(this.model,"change:program change:steps",e.debounce(this.render.bind(this),1)),this.listenTo(this.model,"progress",this.updateProgress)},serialize:function(){return{idPrefix:this.idPrefix,steps:this.serializeSteps()}},serializeSteps:function(){var e=this.model.get("program");return e?e.steps.map(this.serializeStep,this).filter(function(e){return null!==e}):[]},serializeStep:function(t,n){if(!t.enabled)return null;var r=(this.model.get("steps")||[])[n],i={index:n,type:t.type,label:e.isString(t.label)&&t.label.length?t.label:null,progressBarWidth:"0%",stepClassName:"is-idle",progressBarClassName:"progress-bar-default",value:"",unit:null,minValue:null,maxValue:null,props:[]},o=this.model.get("program").type;return"t24vdc"===o?this.serializeT24vdcStep(t,i):"glp2"===o&&this.serializeGlp2Step(t,i),r&&(i.value=this.prepareStepValue(r.value,r.unit,i.unit),i.progressBarWidth=r.progress+"%",i.stepClassName="is-"+r.status,i.progressBarClassName=this.getProgressBarClassName(r.status)),i},serializeT24vdcStep:function(e,n){switch(e.type){case"pe":n.unit="Ω",n.maxValue=e.resistanceMax.toLocaleString(),n.props.push({key:"T",value:t.toString(e.startTime+e.duration,!1,!0)},{key:"R",sub:"max",value:n.maxValue,unit:"Ω"},{key:"U",value:e.voltage.toLocaleString(),unit:"V"});break;case"sol":n.unit="V",n.props.push({key:"U",value:e.voltage.toLocaleString(),unit:"V"});break;case"fn":n.unit="W",n.minValue=e.powerMin.toLocaleString(),n.maxValue=e.powerMax.toLocaleString(),n.props.push({key:"T",value:t.toString(e.startTime+e.duration,!1,!0)},{key:"U",value:e.voltage.toLocaleString(),unit:"V"},{key:"P",sub:"req",value:e.powerReq.toLocaleString(),unit:"W"},{key:"P",sub:"min",value:n.minValue,unit:"W"},{key:"P",sub:"max",value:n.maxValue,unit:"W"});break;case"wait":"auto"===e.kind&&n.props.push({key:"T",value:t.toString(e.duration,!1,!0)}),n.props.push({key:"U",value:e.voltage.toLocaleString(),unit:"V"})}},serializeGlp2Step:function(e,n){switch(e.type){case"pe":n.unit="Ω",n.maxValue=e.setValue.toLocaleString(),n.props.push({key:"T",value:t.toString(e.duration,!1,!0)},{key:"R",sub:"set",value:n.maxValue,unit:n.unit},{key:"I",sub:"pr",value:e.ipr.toLocaleString(),unit:"A"},{key:"U",value:e.u.toLocaleString(),unit:"V"});break;case"iso":n.unit=["MΩ","mA","V"][e.mode],n.minValue=e.setValue.toLocaleString(),n.props.push({key:"T",value:t.toString(e.startTime+e.duration,!1,!0)},{key:["R","I","A"][e.mode],sub:"set",value:n.minValue,unit:n.unit},{key:"U",value:e.u.toLocaleString(),unit:"V"},{key:"R",sub:"max",value:e.rMax.toLocaleString(),unit:"MΩ"});break;case"program":n.props.push({key:"U",value:e.voltage.toLocaleString(),unit:"V"});break;case"fn":if(n.unit=["A","W","W",0,0,0,"V"][e.mode]||null,n.props.push({key:"T",value:t.toString(e.startTime+e.duration,!1,!0)},{key:["I","P","P","cosφ",0,0,"U","RPM"][e.mode]||null,sub:["set","apparent","active",0,0,0,"residual"][e.mode]||null,value:e.setValue.toLocaleString(),unit:n.unit},{key:"U",value:e.voltage.toLocaleString(),unit:"V"}),5!==e.mode){var r=0!==e.lowerToleranceRel||0!==e.upperToleranceRel,i=r?Math.round(e.setValue*((100-e.lowerToleranceRel)/100)*100)/100:e.lowerToleranceAbs,o=r?Math.round(e.setValue*((100+e.upperToleranceRel)/100)*100)/100:e.upperToleranceAbs;n.minValue=i.toLocaleString(),n.maxValue=o.toLocaleString()}e.lampCount&&n.props.push({key:"FL",sub:"count",value:e.lampCount},{key:"FL",sub:"time",value:t.toString(e.lampDuration||0)});break;case"vis":n.props.push({key:"T",sub:"wait",value:t.toString(e.duration,!1,!0)},{key:"T",sub:"max",value:t.toString(e.maxDuration,!1,!0)});break;case"wait":"auto"===e.kind&&n.props.push({key:"T",value:t.toString(e.duration,!1,!0)})}},getProgressBarClassName:function(e){var t="success"===e?"progress-bar-success":"failure"===e?"progress-bar-danger":"progress-bar-warning";return"active"===e&&(t+=" progress-bar-striped active"),t},updateProgress:function(e,t){var n=this.$('.xiconfPrograms-step[data-index="'+e+'"]'),r=n.find(".progress-bar");if(void 0!==t.progress&&r.css("width",t.progress+"%"),void 0!==t.status&&(n.prop("className","xiconfPrograms-step is-"+t.status),r.prop("className","progress-bar "+this.getProgressBarClassName(t.status))),void 0!==t.value){var i=this.prepareStepValue(t.value,t.unit,n.find(".xiconfPrograms-step-unit").text().trim());n.find(".xiconfPrograms-step-value").text(i).attr("data-length",i.length)}n[0].scrollIntoView(!1)},prepareStepValue:function(e,t,n){if(!e)return"0";if(e<0)return"";if(t&&t.length>1&&(e=this.convertRawValue(e,t,n)),e<1)return(Math.round(1e3*e)/1e3).toString().substr(1);var r;return r=e<100?Math.round(100*e)/100:e<1e3?Math.round(10*e)/10:Math.round(e),r.toLocaleString().replace(/\s+/g,"")},convertRawValue:function(e,t,n){var r=t.charAt(0),o=n.charAt(0);if(r===o)return e;var a=i[r],s=i[o];return a&&s?e*a/s:e}})}),define("app/dashboard/templates/programPickerItem",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<a class="list-group-item" href="#programs/'),__append(program.id),__append('" tabindex="100" data-id="'),__append(program.id),__append('">\n  '),i<9&&(__append('\n  <kbd data-hotkey="'),__append(i+1),__append('">ALT+'),__append(i+1),__append("</kbd>\n  ")),__append("\n  "),__append(escapeFn(program.get("name"))),__append('\n  <span class="dashboard-programPicker-typeAndSteps">\n    <span class="dashboard-programPicker-type">'),__append(escapeFn(t("xiconfPrograms","type:"+program.get("type")))),__append('</span>\n    <span class="dashboard-programPicker-steps">'),__append(program.get("stepLabels")),__append("</span>\n  </span>\n</a>\n");return __output.join("")}}),define("app/dashboard/templates/programPicker",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="dashboard-programPicker">\n  <input id="'),__append(idPrefix),__append('-filter" class="form-control" type="text" tabindex="99" placeholder="'),__append(t("dashboard","program:picker:filter")),__append('">\n  <span id="'),__append(idPrefix),__append('-spinner" class="fa fa-spinner '),__append(loading?"fa-spin":""),__append('"></span>\n  <div id="'),__append(idPrefix),__append('-list" class="dashboard-programPicker-list list-group is-scrollable">\n    '),programs.forEach(function(e,n){__append("\n    "),function(){__append('<a class="list-group-item" href="#programs/'),__append(e.id),__append('" tabindex="100" data-id="'),__append(e.id),__append('">\n  '),n<9&&(__append('\n  <kbd data-hotkey="'),__append(n+1),__append('">ALT+'),__append(n+1),__append("</kbd>\n  ")),__append("\n  "),__append(escapeFn(e.get("name"))),__append('\n  <span class="dashboard-programPicker-typeAndSteps">\n    <span class="dashboard-programPicker-type">'),__append(escapeFn(t("xiconfPrograms","type:"+e.get("type")))),__append('</span>\n    <span class="dashboard-programPicker-steps">'),__append(e.get("stepLabels")),__append("</span>\n  </span>\n</a>\n")}.call(this),__append("\n    ")}),__append("\n  </div>\n</div>\n");return __output.join("")}}),define("app/dashboard/views/ProgramPickerView",["underscore","jquery","app/i18n","app/viewport","app/core/View","app/dashboard/templates/programPickerItem","app/dashboard/templates/programPicker"],function(e,t,n,r,i,o,a){"use strict";function s(e,t){for(var n=0;n<t.length;++n)if(e.indexOf(t[n])===-1)return!1;return!0}return i.extend({dialogClassName:"dashboard-programPickerDialog",template:a,events:{"click .list-group-item":function(e){var t=e.currentTarget.dataset.id;return t===this.options.currentProgramId?(this.closeDialog(),!1):(this.socket.emit("programmer.setProgram",t,function(e){e?r.msg.show({type:"error",time:2500,text:n("dashboard","program:picker:failure")}):r.msg.show({type:"success",time:1500,text:n("dashboard","program:picker:success")})}),!1)},"input #-filter":function(e){this.timers.filter&&(clearTimeout(this.timers.filter),this.timers.filter=null),this.loading||(this.$els.spinner.addClass("fa-spin"),this.timers.filter=setTimeout(this.filter,this.collection.length<20?0:300,e.target.value,!0))}},initialize:function(){this.visiblePrograms=[],this.lastPhrase="",this.loading=!1,this.$els=null,this.onResize=e.debounce(this.resize.bind(this),33),this.filter=this.filter.bind(this),this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"request",this.onLoadingStarted),this.listenTo(this.collection,"sync error",this.onLoadingStopped),t(window).on("resize.programPickerView",this.onResize),t(window).on("keydown.programPickerView",this.onKeyDown.bind(this)),this.promised(this.collection.fetch({reset:!0}))},destroy:function(){t(window).off(".programPickerView"),this.$els=null},serialize:function(){return{idPrefix:this.idPrefix,loading:this.loading,programs:this.visiblePrograms}},afterRender:function(){var e=this.$el.closest(".modal-dialog");this.$els={dialog:e,header:e.find(".modal-content").find(".modal-header"),filter:this.$id("filter"),spinner:this.$id("spinner"),list:this.$id("list")},this.$els.filter.focus(),this.resize()},renderVisiblePrograms:function(){var t=e.map(this.visiblePrograms,function(e,t){return o({i:t,program:e})});this.$els.list.html(t.join(""))},resize:function(){if(this.$els){var e=parseInt(this.$els.dialog.css("margin-top"),10),t=window.innerHeight-this.$els.header.outerHeight()-this.$els.filter.outerHeight()-2*e;this.$els.list.css("max-height",t+"px")}},filter:function(t,n){function r(e){return s(e.attributes.name$f,a)}this.timers.filter&&(clearTimeout(this.timers.filter),this.timers.filter=null);var i=this.lastPhrase,o=t.trim().toLowerCase(),a=t.split(" ");0===o.length?this.visiblePrograms=this.collection.models:i.length>0&&i.length<o.length&&0===o.indexOf(i)?this.visiblePrograms=e.filter(this.visiblePrograms,r):this.visiblePrograms=e.filter(this.collection.models,r),this.lastPhrase=o,this.$els.spinner.removeClass("fa-spin"),n!==!1&&this.renderVisiblePrograms()},closeDialog:function(){},moveDown:function(){var e=document.activeElement,t=this.$els.filter[0];if(e===t){var n=this.$els.list[0].firstElementChild;n&&n.focus()}else e.classList.contains("list-group-item")&&e.nextElementSibling?e.nextElementSibling.focus():t.focus()},moveUp:function(){var e=document.activeElement,t=this.$els.filter[0];if(e===t){var n=this.$els.list[0].lastElementChild;n&&n.focus()}else e.classList.contains("list-group-item")&&e.previousElementSibling?e.previousElementSibling.focus():t.focus()},onDialogShown:function(e){this.closeDialog=e.closeDialog.bind(e),this.resize(),this.$id("filter").focus()},onKeyDown:function(e){var t=e.keyCode;if(e.altKey&&t>=49&&t<=57)return this.$('kbd[data-hotkey="'+String.fromCharCode(e.keyCode)+'"]').closest("a").click(),!1;if(32===t&&document.activeElement.classList.contains("list-group-item"))return document.activeElement.click(),!1;if(70===t&&document.activeElement!==this.$els.filter[0])return this.$els.filter.focus(),!1;if(40===t)return this.moveDown(),!1;if(38===t)return this.moveUp(),!1;if(36===t||37===t){var n=this.$els.list[0].firstElementChild;return n?n.focus():this.$els.filter.focus(),!1}if(35===t||39===t){var r=this.$els.list[0].lastElementChild;return r?r.focus():this.$els.filter.focus(),!1}},onLoadingStarted:function(){this.loading=!0,this.$els&&this.$els.spinner.addClass("fa-spin")},onLoadingStopped:function(){this.loading=!1,this.$els?this.filter(this.$els.filter.val(),!1):this.visiblePrograms=this.collection.models,this.renderVisiblePrograms()}})}),define("app/dashboard/templates/program",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="dashboard-program">\n  <h3 id="'),__append(idPrefix),__append('-name" class="dashboard-header dashboard-program-name '),__append(program?"":"hidden"),__append('">\n    <a href="#xiconf/programs/'),__append(program?program._id:""),__append('">'),__append(escapeFn(program?program.name:"")),__append('</a>\n    <button id="'),__append(idPrefix),__append('-change" class="btn btn-link" type="button" title="'),__append(t("dashboard","program:pick:title")),__append('">\n      <i class="fa fa-exchange"></i>\n      <kbd data-hotkey="setProgram">?</kbd>\n    </button>\n  </h3>\n  <div id="'),__append(idPrefix),__append('-container" class="form-control is-scrollable">\n    <button id="'),__append(idPrefix),__append('-pick" class="btn btn-link btn-lg dashboard-program-pick kbd-container '),__append(program?"hidden":""),__append('">'),__append(t("dashboard","program:pick")),__append('<kbd data-hotkey="setProgram">?</kbd></button>\n    <div id="'),__append(idPrefix),__append('-steps" class="dashboard-program-steps '),__append(program?"":"hidden"),__append('"></div>\n  </div>\n</div>\n');return __output.join("")}}),define("app/dashboard/views/ProgramView",["underscore","app/i18n","app/user","app/time","app/viewport","app/core/View","app/data/hotkeys","app/data/settings","app/xiconfPrograms/XiconfProgramCollection","app/xiconfPrograms/views/XiconfProgramStepsView","./ProgramPickerView","app/dashboard/templates/program"],function(e,t,n,r,i,o,a,s,l,p,c,u){"use strict";return o.extend({template:u,localTopics:{"hotkeys.setProgram":function(){this.$id("pick").click()},"viewport.dialog.hidden":function(){null!==this.programPickerView&&(a.start(),this.programPickerView=null)}},events:{"click #-pick, #-change":function(e){return e.currentTarget.blur(),this.showProgramPicker(),!1}},initialize:function(){this.programPickerView=null,this.programStepsView=new p({model:this.model}),this.setView(".dashboard-program-steps",this.programStepsView),this.listenTo(this.model,"change:inProgress change:workMode",this.toggleControls),this.listenTo(this.model,"change:program",this.onProgramChange),this.listenTo(this.programStepsView,"afterRender",this.toggleLastStepsBorder)},destroy:function(){this.programPickerView=null,this.programStepsView=null},afterRender:function(){this.toggleControls()},serialize:function(){return{idPrefix:this.idPrefix,program:this.model.get("program")}},toggleControls:function(){var e=!this.model.isTestingMode()||this.model.isInProgress()||!n.isLocal();this.$id("pick").attr("disabled",e),this.$id("change").attr("disabled",e),this.hideProgramPicker()},toggleLastStepsBorder:function(){var e=this.$id("steps"),t=this.$id("container").prop("scrollHeight"),n=e.outerHeight();e.find(".xiconfPrograms-step:last-child").css("border-bottom-width",t>n?"":"0")},resize:function(e,t){void 0===t?t=parseInt(this.el.style.height):this.el.style.height=t+"px";var n=this.$id("name"),r=t;n.hasClass("hidden")||(r-=this.$id("name").outerHeight(!0)),this.$id("container").css("height",r+"px"),this.toggleLastStepsBorder()},showProgramPicker:function(){if(null===this.programPickerView){a.stop();var e=s.supportsFeature("t24vdc")&&s.get("testingEnabled"),n=s.supportsFeature("glp2")&&s.get("glp2Enabled"),r="";e&&!n&&(r="&type=t24vdc"),!e&&n&&(r="&type=glp2");var o=this.model.get("program");this.programPickerView=new c({prodLineId:s.get("prodLine"),currentProgramId:o?o._id:null,collection:new l(null,{rqlQuery:"sort(name)&prodLine="+encodeURIComponent(s.get("prodLine"))+r})}),i.showDialog(this.programPickerView,t("dashboard","program:picker:title"))}},hideProgramPicker:function(){null!==this.programPickerView&&i.closeDialog()},onProgramChange:function(){var e=this.model.get("program");null===e?(this.$id("name").addClass("hidden"),this.$id("steps").addClass("hidden"),this.$id("pick").removeClass("hidden")):(this.hideProgramPicker(),this.$id("pick").addClass("hidden"),this.$id("name").removeClass("hidden").find("a").text(e.name).attr("href","#xiconf/programs/"+e._id),this.$id("steps").removeClass("hidden")),this.resize()}})}),define("app/dashboard/templates/leds",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="dashboard-leds">\n  <h3 class="dashboard-header">\n    <span>'),__append(t("dashboard","leds")),__append('</span>\n    <button id="'),__append(idPrefix),__append('-reset" class="btn btn-link" type="button" title="'),__append(t("dashboard","leds:reset")),__append('" '),__append(resetEnabled?"":"disabled"),__append('>\n      <i class="fa fa-eraser"></i>\n      <kbd data-hotkey="reset">'),__append(resetHotkey),__append('</kbd>\n    </button>\n  </h3>\n  <ul id="'),__append(idPrefix),__append('-list" class="dashboard-leds-list list-group form-control is-scrollable">\n    '),leds.forEach(function(e){__append("\n    "),__append(renderLed(e)),__append("\n    ")}),__append("\n  </ul>\n</div>\n");return __output.join("")}}),define("app/dashboard/templates/led",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<li class="list-group-item list-group-item-'),__append(className),__append(' dashboard-leds-led">\n  <div class="dashboard-leds-status"><i class="fa '),__append(statusIcon),__append('"></i></div>\n  <div class="dashboard-leds-serialNumber" title="'),__append(escapeFn(fullSerialNumber)),__append('">'),__append(shortSerialNumber),__append('</div>\n  <div class="dashboard-leds-info" title="'),__append(escapeFn(name)),__append('">\n    <span class="dashboard-leds-name">'),__append(escapeFn(name)),__append('</span>\n    <span class="dashboard-leds-nc12">'),__append(escapeFn(nc12)),__append('</span>\n  </div>\n  <div class="dashboard-leds-error">'),__append(error),__append("</div>\n</li>\n");return __output.join("")}}),define("app/dashboard/views/LedsView",["underscore","jquery","app/i18n","app/user","app/data/settings","app/core/View","app/dashboard/templates/leds","app/dashboard/templates/led"],function(e,t,n,r,i,o,a,s){"use strict";return o.extend({template:a,localTopics:{"hotkeys.reset":function(){this.$id("reset").click()}},events:{"click #-reset":function(){if(this.model.get("waitingForLeds")){var e=this.$id("reset");e.prop("disabled")||(e.prop("disabled",!0),this.socket.emit("programmer.resetLeds",function(){e.prop("disabled",!1)}))}}},initialize:function(){this.listenTo(this.model,"change:leds",this.render),this.listenTo(this.model,"change:led",this.renderLed)},serialize:function(){var e=this.model.get("leds")||[];return{idPrefix:this.idPrefix,renderLed:s,leds:e.map(this.serializeLed,this),resetHotkey:i.get("hotkeys").reset||"?",resetEnabled:r.isLocal()}},serializeLed:function(e){var t,r,i="";"checking"===e.status?(t="warning",r="fa-spinner fa-spin"):"checked"===e.status?(t="success",r="fa-thumbs-up"):"waiting"===e.status?(t="default",r="fa-question-circle"):(t="danger",r="fa-thumbs-down",i=n.has("dashboard","leds:error:"+e.status.message)?n("dashboard","leds:error:"+e.status.message,e.status):e.status.message);for(var o=e.serialNumber||"????????",a=o;a.length<8;)a+=" ";return this.options.shortenSerialNumbers&&a.length>8&&(a=a.substr(0,3)+"~"+a.substr(-4)),{className:t,statusIcon:r,fullSerialNumber:o,shortSerialNumber:a,name:e.name,nc12:e.nc12,error:i}},renderLed:function(e,n){var r=this.timers;n||(n=this.model.get("leds")[e]);var i=t(s(this.serializeLed(n)));this.$id("list").children().eq(e).replaceWith(i),i.addClass("blink"),r["blink"+e]&&clearTimeout(r["blink"+e]),r["blink"+e]=setTimeout(function(){r&&r["blink"+e]&&delete r["blink"+e],i.removeClass("blink")},200),i[0].scrollIntoView(!0)},afterRender:function(){this.resize()},resize:function(){var e=this.$id("list"),t=e.offset().top;e[0].style.maxHeight=window.innerHeight-t-14+"px"}})}),define("app/dashboard/templates/hidLamps",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){
return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="dashboard-hidLamps">\n  <h3 class="dashboard-header">\n    <span>'),__append(t("dashboard","hidLamps")),__append('</span>\n    <button id="'),__append(idPrefix),__append('-reset" class="btn btn-link" type="button" title="'),__append(t("dashboard","hidLamps:reset")),__append('" '),__append(resetEnabled?"":"disabled"),__append('>\n      <i class="fa fa-eraser"></i>\n      <kbd data-hotkey="reset">'),__append(resetHotkey),__append('</kbd>\n    </button>\n  </h3>\n  <ul id="'),__append(idPrefix),__append('-list" class="dashboard-hidLamps-list list-group form-control is-scrollable">\n    '),hidLamps.forEach(function(e){__append("\n    "),__append(renderHidLamp(e)),__append("\n    ")}),__append("\n  </ul>\n</div>\n");return __output.join("")}}),define("app/dashboard/templates/hidLamp",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<li class="list-group-item list-group-item-'),__append(className),__append(' dashboard-hidLamps-hidLamp">\n  <div class="dashboard-hidLamps-status"><i class="fa '),__append(statusIcon),__append('"></i></div>\n  <div class="dashboard-hidLamps-scanResult" title="'),__append(escapeFn(fullScanResult)),__append('">'),__append(shortScanResult),__append('</div>\n  <div class="dashboard-hidLamps-info" title="'),__append(escapeFn(name)),__append('">\n    <span class="dashboard-hidLamps-name">'),__append(escapeFn(name)),__append('</span>\n    <span class="dashboard-hidLamps-nc12">'),__append(escapeFn(nc12)),__append('</span>\n  </div>\n  <div class="dashboard-hidLamps-error">'),__append(error),__append("</div>\n</li>\n");return __output.join("")}}),define("app/dashboard/views/HidLampsView",["underscore","jquery","app/i18n","app/user","app/data/settings","app/core/View","app/dashboard/templates/hidLamps","app/dashboard/templates/hidLamp"],function(e,t,n,r,i,o,a,s){"use strict";return o.extend({template:a,localTopics:{"hotkeys.reset":function(){this.$id("reset").click()}},events:{"click #-reset":function(){if(this.model.get("waitingForHidLamps")){var e=this.$id("reset");e.prop("disabled")||(e.prop("disabled",!0),this.socket.emit("programmer.resetHidLamps",function(){e.prop("disabled",!1)}))}}},initialize:function(){this.listenTo(this.model,"change:hidLamps",this.render),this.listenTo(this.model,"change:hidLamp",this.renderHidLamp)},serialize:function(){var e=this.model.get("hidLamps")||[];return{idPrefix:this.idPrefix,renderHidLamp:s,hidLamps:e.map(this.serializeHidLamp,this),resetHotkey:i.get("hotkeys").reset||"?",resetEnabled:r.isLocal()}},serializeHidLamp:function(e){var t,r,i="";"checking"===e.status?(t="warning",r="fa-spinner fa-spin"):"checked"===e.status?(t="success",r="fa-thumbs-up"):"waiting"===e.status?(t="default",r="fa-question-circle"):(t="danger",r="fa-thumbs-down",i=n.has("dashboard","hidLamps:error:"+e.status.message)?n("dashboard","hidLamps:error:"+e.status.message,e.status):e.status.message);for(var o=e.scanResult||"?????????????",a=o;a.length<13;)a+=" ";return this.options.shortenScanResult&&a.length>13&&(a=a.substr(0,3)+"~"+a.substr(-4)),{className:t,statusIcon:r,fullScanResult:o,shortScanResult:a,name:e.name,nc12:e.nc12,error:i}},renderHidLamp:function(e,n){var r=this.timers;n||(n=this.model.get("hidLamps")[e]);var i=t(s(this.serializeHidLamp(n)));this.$id("list").children().eq(e).replaceWith(i),i.addClass("blink"),r["blink"+e]&&clearTimeout(r["blink"+e]),r["blink"+e]=setTimeout(function(){r&&r["blink"+e]&&delete r["blink"+e],i.removeClass("blink")},200),i[0].scrollIntoView(!0)},afterRender:function(){this.resize()},resize:function(){var e=this.$id("list"),t=e.offset().top;e[0].style.maxHeight=window.innerHeight-t-14+"px"}})}),define("app/dashboard/templates/componentWeights",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="dashboard-componentWeights">\n  <h3 class="dashboard-header">\n    <span>'),__append(t("dashboard","componentWeights")),__append('</span>\n  </h3>\n  <ul id="'),__append(idPrefix),__append('-list" class="dashboard-componentWeights-list list-group form-control is-scrollable">\n    '),items.forEach(function(e){__append("\n    "),__append(renderItem(e)),__append("\n    ")}),__append("\n  </ul>\n</div>\n");return __output.join("")}}),define("app/dashboard/templates/componentWeight",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<li class="list-group-item dashboard-componentWeights-componentWeight" data-no="'),__append(no),__append('">\n  <div class="dashboard-componentWeights-no">'),__append(no),__append('</div>\n  <div class="dashboard-componentWeights-info">\n    <span class="dashboard-componentWeights-name">'),__append(escapeFn(description)),__append('</span>\n    <span class="dashboard-componentWeights-weight">'),__append(escapeFn(weight)),__append(" g</span>\n  </div>\n</li>\n");return __output.join("")}}),define("app/dashboard/views/ComponentWeightsView",["underscore","jquery","app/i18n","app/user","app/core/View","app/data/settings","app/dashboard/templates/componentWeights","app/dashboard/templates/componentWeight"],function(e,t,n,r,i,o,a,s){"use strict";return i.extend({template:a,events:{"click [data-no]":function(e){r.isLocal()&&this.selectComponentWeight(parseInt(e.currentTarget.dataset.no,10)-1)}},initialize:function(){this.listenTo(this.model,"change:waitingForComponentWeight",this.render),t(window).on("keydown."+this.idPrefix,this.onKeyDown.bind(this))},destroy:function(){t(window).off("."+this.idPrefix)},serialize:function(){return{idPrefix:this.idPrefix,renderItem:s,items:e.map(this.model.get("waitingForComponentWeight"),this.serializeItem.bind(this))}},serializeItem:function(e,t){var n=o.get("weightTolerance")||0,r=0,i=0;return e.minWeight>=0&&e.maxWeight>=0?(r=Math.round(100*Math.min(e.minWeight,e.maxWeight))/100,i=Math.round(100*Math.max(e.minWeight,e.maxWeight))/100):e.weight>=0&&(r=Math.round(100*e.weight)/100,i=r),r-=n,i+=n,{no:t+1,description:e.description,nc12:e.nc12,weight:r===i?r.toLocaleString():r.toLocaleString()+"-"+i.toLocaleString()}},afterRender:function(){this.resize()},resize:function(){var e=this.$id("list"),t=e.offset().top;e[0].style.maxHeight=window.innerHeight-t-14+"px"},selectComponentWeight:function(e){this.socket.emit("programmer.selectComponentWeight",e)},onKeyDown:function(e){e.keyCode<49||e.keyCode>57||!this.model.get("waitingForComponentWeight")||this.$('[data-no="'+(e.keyCode-48)+'"]').click()}})}),define("app/dashboard/templates/page",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="dashboard '),__append(localUser?"is-localUser":"is-remoteUser"),__append(" "),__append(inProgress?"is-inProgress":"is-idle"),__append(" "),__append(windowFocused?"has-windowFocus":""),__append(" "),__append(workModeChangeEnabled?"is-workModeChangeEnabled":""),__append(" "),__append(waitingForHidLamps?"is-waitingForHidLamps":""),__append(" "),__append(waitingForLeds?"is-waitingForLeds":""),__append(" "),__append(waitingForComponentWeight?"is-waitingForComponentWeight":""),__append(" "),__append(waitingForContinue?"is-waitingForContinue":""),__append('" data-work-mode="'),__append(workMode),__append('" data-input-mode="'),__append(inputMode),__append('" data-waiting="'),__append(waitingForContinue||""),__append('">\n  <div class="dashboard-indicators">\n    <i id="'),__append(idPrefix),__append('-connection" class="fa fa-signal dashboard-indicator-connection"></i>\n    <div id="'),__append(idPrefix),__append('-toggleInputMode" class="dashboard-indicator dashboard-indicator-inputMode kbd-container">\n      <span class="dashboard-indicator-inputMode-local">'),__append(t("dashboard","inputMode:local")),__append('</span>\n      <span class="dashboard-indicator-inputMode-remote">'),__append(t("dashboard","inputMode:remote")),__append('</span>\n      <kbd data-hotkey="toggleInputMode" class="is-inside">?</kbd>\n    </div>\n    <div id="'),__append(idPrefix),__append('-windowFocus" class="dashboard-indicator dashboard-indicator-windowFocus">\n      <span class="dashboard-indicator-windowFocus-active">'),__append(t("dashboard","windowFocus:active")),__append('</span>\n      <span class="dashboard-indicator-windowFocus-inactive">'),__append(t("dashboard","windowFocus:inactive")),__append('</span>\n    </div>\n    <div id="'),__append(idPrefix),__append('-licenseError" class="dashboard-indicator dashboard-indicator-licenseError" style="display: '),__append(licenseError?"inline-block":"none"),__append('">\n      <span>'),__append(t("dashboard","licenseError")),__append('</span>\n    </div>\n  </div>\n  <form id="'),__append(idPrefix),__append('-inputModeForm" class="dashboard-inputModeForm input-group is-hiding" style="display: none">\n    <input id="'),__append(idPrefix),__append('-password" type="password" class="form-control" placeholder="'),__append(t("dashboard","inputMode:password")),__append('">\n    <span class="input-group-btn">\n      <button class="btn btn-default" type="button"><i class="fa fa-unlock"></i></button>\n    </span>\n  </form>\n  <div class="dashboard-progress progress">\n    <div id="'),__append(idPrefix),__append('-progressBar" class="progress-bar '),__append(progressBarClassName),__append('" style="width: '),__append(progressBarWidth),__append('"></div>\n  </div>\n  <div class="dashboard-leftColumn"></div>\n  <div class="dashboard-rightColumn">\n    <button class="dashboard-continue dashboard-continue-led btn btn-success">\n      <i class="fa fa-arrow-right"></i>\n      <p>'),__append(t("dashboard","continue:led:p1")),__append("</p>\n      <p>"),__append(t("dashboard","continue:led:p2")),__append("</p>\n    </button>\n    "),["test","glp2","vis","programmed"].forEach(function(e){__append('\n    <button class="dashboard-continue dashboard-continue-'),__append(e),__append(' btn btn-warning">\n      <i class="fa fa-arrow-right"></i>\n      <p>'),__append(t("dashboard","continue:"+e+":p1")),__append("</p>\n      <p>"),__append(t("dashboard","continue:"+e+":p2")),__append("</p>\n    </button>\n    ")}),__append('\n    <button class="dashboard-continue dashboard-continue-ft btn btn-warning">\n      <i class="fa fa-exclamation-triangle"></i>\n      <p>'),__append(t("dashboard","continue:ft:p1")),__append("</p>\n      <p>"),__append(t("dashboard","continue:ft:p2")),__append('</p>\n    </button>\n    <button class="dashboard-continue dashboard-continue-weight-scanning btn btn-warning">\n      <i class="fa fa-barcode"></i>\n      <p>'),__append(t("dashboard","continue:weight:scanning:p1")),__append("</p>\n      <p>"),__append(t("dashboard","continue:weight:scanning:p2")),__append('</p>\n    </button>\n    <button class="dashboard-continue dashboard-continue-weight-weighing btn btn-warning">\n      <i class="fa fa-balance-scale"></i>\n      <p>'),__append(t("dashboard","continue:weight:weighing:p1")),__append('</p>\n      <p><span id="'),__append(idPrefix),__append('-weight">0</span>g</p>\n    </button>\n  </div>\n</div>\n');return __output.join("")}}),define("app/dashboard/pages/DashboardPage",["underscore","jquery","app/user","app/i18n","app/viewport","app/data/settings","app/data/currentState","app/data/hotkeys","app/data/barcodeScanner","app/core/View","app/history/HistoryEntryCollection","../views/InputView","../views/LogView","../views/HistoryView","../views/CarouselView","../views/ProgramView","../views/LedsView","../views/HidLampsView","../views/ComponentWeightsView","app/dashboard/templates/page"],function(e,t,n,r,i,o,a,s,l,p,c,u,d,f,h,g,_,m,v,b){"use strict";return p.extend({layoutName:"page",pageId:"dashboard",template:b,localTopics:{"socket.connected":"toggleConnectionIndicator","socket.disconnected":"toggleConnectionIndicator","hotkeys.toggleInputMode":function(){this.toggleInputMode()}},events:{"click #-toggleInputMode":function(){this.toggleInputMode()},"click .dashboard-continue":function(){this.broker.publish("hotkeys.continue")},"submit #-inputModeForm":function(){var e=this.$id("password"),t=e.val();return e.val(""),""===t?this.hideInputModeForm():this.toggleInputMode(t),!1},"focus #-password":function(){s.stop()},"blur #-password":function(){s.start(),this.hideInputModeForm()},"click #-connection":"reconnectToProdLine"},initialize:function(){this.onWindowResize=e.debounce(this.resize.bind(this),33),this.toggleWindowFocus=e.debounce(this.toggleWindowFocus.bind(this),1),this.$els={window:t(window),body:t(window.document.body),msg:null,navbar:null,progressBar:null,hotkeys:null,continue:null},this.defineViews(),this.insertView(".dashboard-leftColumn",this.inputView),this.insertView(".dashboard-leftColumn",this.logView),this.insertView(".dashboard-rightColumn",this.hidLampsView),this.insertView(".dashboard-rightColumn",this.ledsView),this.insertView(".dashboard-rightColumn",this.componentWeightsView),this.insertView(".dashboard-rightColumn",this.historyView),this.insertView(".dashboard-rightColumn",this.carouselView),this.insertView(".dashboard-rightColumn",this.programView),this.$els.window.on("resize.dashboard",this.onWindowResize).on("wheel.dashboard",this.onWindowWheel).on("focus.dashboard",this.toggleWindowFocus).on("blur.dashboard",this.toggleWindowFocus).on("keydown.dashboard",this.onKeyDown.bind(this)),this.listenTo(a,"change:inputMode",this.onInputModeChange),this.listenTo(a,"change:workMode",this.onWorkModeChange),this.listenTo(a,"change:inProgress",this.onInProgressChange),this.listenTo(a,"change:overallProgress",this.onOverallProgressChange),this.listenTo(a,"change:result",this.onResultChange),this.listenTo(a,"change:remoteConnected",this.toggleConnectionIndicator),this.listenTo(a,"change:waitingForHidLamps",this.onWaitingForHidLampsChange),this.listenTo(a,"change:waitingForLeds",this.onWaitingForLedsChange),this.listenTo(a,"change:waitingForComponentWeight",this.onWaitingForComponentWeightChange),this.listenTo(a,"change:waitingForContinue",this.onWaitingForContinueChange),this.listenTo(a,"change:selectedOrderNo",this.onSelectedOrderNoChange),this.listenTo(a,"change:weight",this.updateWeight),this.listenTo(o,"change:licenseInfo",this.onLicenseInfoChange),this.listenTo(o,"change:testingEnabled",this.onTestingEnabledChange),this.listenTo(o,"change:hotkeys",this.updateHotkeys)},destroy:function(){l.stop(),this.$els.body.css("overflow","").removeClass("is-dashboard"),this.$els.window.off(".dashboard"),this.$els.msg&&i.msg.hide(this.$els.msg,!0),this.$els=null},defineViews:function(){this.inputView=new u({model:a}),this.logView=new d({model:a}),this.hidLampsView=new m({model:a,shortenScanResults:!0}),this.ledsView=new _({model:a,shortenSerialNumbers:!0}),this.componentWeightsView=new v({model:a}),this.historyView=new f({collection:new c}),this.carouselView=new h({model:a}),this.programView=new g({model:a})},serialize:function(){return{idPrefix:this.idPrefix,localUser:n.isLocal(),windowFocused:document.hasFocus(),inProgress:a.isInProgress(),licenseError:!o.isValidLicense(),workMode:a.get("workMode"),inputMode:a.get("inputMode"),workModeChangeEnabled:!o.get("ftEnabled")&&!o.get("hidEnabled")&&(o.get("testingEnabled")||o.get("glp2Enabled")),waitingForHidLamps:a.get("waitingForHidLamps"),waitingForLeds:a.get("waitingForLeds"),waitingForComponentWeight:a.get("waitingForComponentWeight"),waitingForContinue:a.get("waitingForContinue"),progressBarClassName:this.getProgressBarClassName(),progressBarWidth:this.getProgressBarWidth()}},beforeRender:function(){this.$els.body.css("overflow","hidden")},afterRender:function(){l.start(),this.$els.navbar=t(".navbar"),this.$els.progressBar=this.$id("progressBar"),this.$els.continue=this.$(".dashboard-continue"),this.$(".dashboard-leftColumn").append('<kbd class="is-inside" data-hotkey="focusLog">?</kbd>'),this.$els.body.addClass("is-dashboard"),this.toggleConnectionIndicator(),this.animateLicenseError(),this.updateHotkeys(),this.updateWeight(),this.timers.license=setInterval(this.animateLicenseError.bind(this),1e4),this.timers.resize=setTimeout(this.resize.bind(this),1),window.parent!==window&&window.parent.postMessage({type:"ready",app:"xiconf"},"*")},resize:function(){var e=this.getRemainingHeight(),t=Math.max(this.historyView.$el.outerWidth(!0),this.hidLampsView.$el.outerWidth(!0),this.ledsView.$el.outerWidth(!0),this.componentWeightsView.$el.outerWidth(!0)),n=this.$els.window[0].innerWidth<=1024;n&&e<275&&(e=275),this.logView.resize(e),this.carouselView.resize(t,e),this.programView.resize(t,e),this.hidLampsView.resize(e),this.ledsView.resize(e),this.componentWeightsView.resize(e),this.inputView.el.style.marginBottom=n?e+this.$els.progressBar.outerHeight(!0)+42+"px":"",this.$els.continue.css(n?{width:t,height:e}:{width:"",height:""})},toggleConnectionIndicator:function(){var e=this.socket.isConnected(),t=a.get("remoteConnected"),n=r("dashboard","connection:"+(t?"remote":e?"local":"no"));this.$el.toggleClass("is-connected-local",e),this.$el.toggleClass("is-connected-remote",t),this.$id("connection").attr("title",n)},toggleWindowFocus:function(){this.$el.toggleClass("has-windowFocus",document.hasFocus())},toggleInputMode:function(e){if(!a.isInProgress()&&(n.isLocal()||o.get("protectInputMode"))){if(void 0===e&&o.get("protectInputMode"))return this.toggleInputModeForm();var t=this,s=a.isRemoteInput()?"local":"remote";this.socket.emit("programmer.setInputMode",s,e,function(e){null!==t.$els.msg&&i.msg.hide(t.$els.msg,!0),e?t.$els.msg=i.msg.show({type:"error",time:2e3,text:r.has("dashboard","msg:setInputMode:"+e.message)?r("dashboard","msg:setInputMode:"+e.message):r("dashboard","msg:setInputMode:failure")}):(t.$els.msg=i.msg.show({type:"success",time:2e3,text:r("dashboard","msg:setInputMode:success")}),t.hideInputModeForm())})}},toggleInputModeForm:function(){this.$id("inputModeForm").hasClass("is-hiding")?this.showInputModeForm():this.hideInputModeForm()},hideInputModeForm:function(){this.$id("inputModeForm").addClass("is-hiding").stop(!1).fadeOut("fast")},showInputModeForm:function(){var e=this.$id("inputModeForm"),t=this.$id("toggleInputMode"),n=this.$id("password").val(""),r=t.offset(),i=t.outerHeight();e.css({top:r.top+i+"px",left:r.left}).removeClass("is-hiding").stop(!1).fadeIn("fast",function(){n.focus()})},getRemainingHeight:function(){return this.$els.window[0].innerHeight-this.$els.navbar.outerHeight(!0)-this.$els.progressBar.outerHeight(!0)-this.inputView.$el.outerHeight(!1)-56},getProgressBarClassName:function(){if(a.isInProgress())return"progress-bar-warning progress-bar-striped active";var e=a.get("result");return"failure"===e?"progress-bar-danger":"success"===e?"progress-bar-success":"progress-bar-warning"},getProgressBarWidth:function(){return a.isInProgress()?Math.max(0,Math.min(100,a.get("overallProgress")))+"%":a.get("result")?"100%":"0%"},updateHotkeys:function(){if(null===this.$els.hotkeys){var t=this;this.$els.hotkeys={},this.$("kbd[data-hotkey]").each(function(){var e=this.dataset.hotkey;t.$els.hotkeys[e]=t.$els.hotkeys[e]?t.$([this].concat(t.$els.hotkeys[e].get())):t.$(this)})}var n=o.get("hotkeys");e.forEach(this.$els.hotkeys,function(e,t){var r=n[t];"Space"===r&&(r="_"),r?e.text(r).css("display",""):e.css("display","none")})},updateProgressBarClassName:function(){this.$els.progressBar[0].className="progress-bar "+this.getProgressBarClassName()},animateLicenseError:function(){var e=this.$id("licenseError").removeClass("is-animating");e.is(":visible")&&(this.timers.licenseAnimation=setTimeout(function(){e.addClass("is-animating")},1e3))},reconnectToProdLine:function(){if(n.isLocal()&&this.socket.isConnected()){var e=this.$id("connection");e.hasClass("is-reconnecting")||(e.addClass("is-reconnecting"),this.socket.emit("programmer.reconnectToProdLine",function(){e.removeClass("is-reconnecting")}))}},onInputModeChange:function(){this.el.dataset.inputMode=a.get("inputMode")},onWorkModeChange:function(){this.el.dataset.workMode=a.get("workMode")},onLicenseInfoChange:function(){this.$id("licenseInfo").toggle(!o.isValidLicense())},onTestingEnabledChange:function(){this.$el.toggleClass("is-workModeChangeEnabled",!o.get("ftEnabled")&&(o.get("testingEnabled")||o.get("glp2Enabled")))},onInProgressChange:function(){var e=a.isInProgress();this.$el.toggleClass("is-inProgress",e),this.$el.toggleClass("is-idle",!e),this.updateProgressBarClassName()},onOverallProgressChange:function(){this.$els.progressBar.css("width",this.getProgressBarWidth())},onResultChange:function(){this.updateProgressBarClassName()},onWindowWheel:function(e){return window.innerWidth<=1024||1===this.$(e.target).closest(".is-scrollable").length},onKeyDown:function(e){27===e.keyCode&&this.hideInputModeForm()},onWaitingForHidLampsChange:function(){var e=a.get("waitingForHidLamps");this.$el.toggleClass("is-waitingForHidLamps",e),e&&this.hidLampsView.resize()},onWaitingForLedsChange:function(){var e=a.get("waitingForLeds");this.$el.toggleClass("is-waitingForLeds",e),e&&this.ledsView.resize()},onWaitingForComponentWeightChange:function(){var e=a.get("waitingForComponentWeight");this.$el.toggleClass("is-waitingForComponentWeight",!!e),e&&this.componentWeightsView.resize()},onWaitingForContinueChange:function(){var e=a.get("waitingForContinue");if(this.$el.toggleClass("is-waitingForContinue",null!==e).attr("data-waiting",e),"vis"===e){var t=a.getActiveProgramStep();this.$(".dashboard-continue-vis").find("p").first().text(t?t.label:r("dashboard","continue:vis:p1"))}},onSelectedOrderNoChange:function(){a.isFtActive()?a.set("waitingForContinue","ft"):"ft"===a.get("waitingForContinue")&&a.set("waitingForContinue",null)},updateWeight:function(){this.$id("weight").text((Math.round(100*a.get("weight").value)/100).toLocaleString())}})}),define("app/nls/dashboard",["app/nls/locale/en"],function(e){var t={lc:{pl:function(t){return e(t)},en:function(t){return e(t)}},c:function(e,t){if(!e)throw new Error("MessageFormat: Data required for '"+t+"'.")},n:function(e,t,n){if(isNaN(e[t]))throw new Error("MessageFormat: '"+t+"' isn't a number.");return e[t]-(n||0)},v:function(e,n){return t.c(e,n),e[n]},p:function(e,n,r,i,o){return t.c(e,n),e[n]in o?o[e[n]]:(n=t.lc[i](e[n]-r),n in o?o[n]:o.other)},s:function(e,n,r){return t.c(e,n),e[n]in r?r[e[n]]:r.other}};return{root:{"msg:setInputMode:INVALID_PASSWORD":function(e){return"Failed to change the input mode: invalid password :("},"msg:setInputMode:MULTIPLE_LOCAL_SOCKETS":function(e){return"Failed to change the input mode."},"msg:setInputMode:failure":function(e){return"Failed to change the input mode :("},"msg:setInputMode:success":function(e){return"The input mode was changed successfully :)"},"msg:setWorkMode:MULTIPLE_LOCAL_SOCKETS":function(e){return"Failed to change the work mode."},"msg:setWorkMode:failure":function(e){return"Failed to change the work mode :("},"msg:setWorkMode:success":function(e){return"The work mode was changed successfully :)"},"msg:reload:MULTIPLE_LOCAL_SOCKETS":function(e){return"Failed to reload the last order."},"msg:reload:failure":function(e){return"Failed to reload the last order :("},"msg:reload:success":function(e){return"The last order was reloaded successfully :)"},"msg:reload:noOrders":function(e){return"There are no orders to reload :("},"msg:reset:MULTIPLE_LOCAL_SOCKETS":function(e){return"Failed to reset the current state."},"msg:reset:failure":function(e){return"Failed to reset the current state :("},"msg:reset:success":function(e){return"The current state was reset successfully :)"},"msg:start:NO_REMOTE_CONNECTION":function(e){return"No connection to the remote server :("},"msg:start:MULTIPLE_LOCAL_SOCKETS":function(e){return"Failed to start the process."},"msg:start:failure":function(e){return"Failed to start the process :("},"msg:start:requiredProgram":function(e){return"A test program is required!"},"msg:start:requiredOrderNo":function(e){return"A valid order no is required!"},"msg:start:requiredQuantity":function(e){return"A valid quantity is required!"},"msg:start:requiredNc12":function(e){return"A valid 12NC is required!"},"msg:selectOrderNo:MULTIPLE_LOCAL_SOCKETS":function(e){return"Failed to change the order."},"msg:selectOrderNo:failure":function(e){return"Failed to change the order :("},"msg:selectOrderNo:success":function(e){return"The order was changed successfully :)"},"msg:selectNc12:INVALID_PASSWORD":function(e){return"Failed to change the 12NC: invalid password :("},"msg:selectNc12:MULTIPLE_LOCAL_SOCKETS":function(e){return"Failed to change the 12NC."},"msg:selectNc12:failure":function(e){return"Failed to change the 12NC :("},"msg:selectNc12:success":function(e){return"The 12NC was changed successfully :)"},"connection:no":function(e){return"No connection to the local server"},"connection:local":function(e){return"No connection to the remote server."},"connection:remote":function(e){return"Connected to the remote server."},"inputMode:local":function(e){return"Local mode"},"inputMode:remote":function(e){return"Remote mode"},"inputMode:password":function(e){return"Password"},"windowFocus:active":function(e){return"Window active"},"windowFocus:inactive":function(e){return"Window inactive"},licenseError:function(e){return"License error"},"input:orderNo":function(e){return"Order no"},"input:quantity":function(e){return"Quantity"},"input:nc12":function(e){return"Program 12NC"},"input:nc12:weight:enabled":function(e){return"Work station without programming.<br>Component weighing is active."},"input:nc12:ft:enabled":function(e){return"Work station without programming.<br>Frame testing is active."},"input:nc12:ft:disabled":function(e){return"Work station without programming.<br>Frame testing is not active."},"input:nc12:hid:enabled":function(e){return"Work station without programming.<br>HID lamp scanning is active."},"input:nc12:hid:disabled":function(e){return"Work station without programming.<br>HID lamp scanning is not active."},"input:nc12:ledOnly":function(e){return"The order doesn't have any programs.<br>LED boards scanning is active."},"input:nc12:testOnly":function(e){return"Work station without programming.<br>Testing is active."},"input:nc12:noProgram":function(e){return"The order doesn't have any programs.<br>Testing is active."},"input:nc12:noProgramming":function(e){return"Work station without programming.<br>LED boards scanning is active."},"input:nc12:multi":function(e){return"Multiple program 12NCs are available.<br>Click to pick a program."},"input:gprs":function(e){return"GPRS 12NC"},"input:start":function(e){return"Start"},"input:cancel":function(e){return"Cancel"},"input:continue":function(e){return"Continue"},"input:toggleWorkMode":function(e){return"Toggle the work mode"},"input:reload":function(e){return"Reload the last order"},"input:reset":function(e){return"Reset the current state"},"input:printServiceTag":function(e){return"Service Tag label printing"},history:function(e){return"History"},"program:pick":function(e){return"Select<br>program"},"program:pick:title":function(e){return"Select program"},"program:picker:title":function(e){return"Program selection"},"program:picker:filter":function(e){return"Filter the program list..."},"program:picker:failure":function(e){return"Failed to set the selected program :("},"program:picker:success":function(e){return"The selected program was set successfully :)"},"orderNoPickerDialog:title":function(e){return"Select order"},"orderNoPickerDialog:nc12":function(e){return"12NC:"},"orderNoPickerDialog:quantity":function(e){return"Quantity:"},"nc12PickerDialog:title":function(e){return"Select program 12NC"},"nc12PickerDialog:message":function(e){return"The selected order has "+t.v(e,"nc12Count")+" program 12NCs.<br>To select a valid program, please consult with the leader:<br>"+t.v(e,"leader")},"nc12PickerDialog:password":function(e){return"Password"},"nc12PickerDialog:quantity":function(e){return"Quantity:"},"orderFinishedDialog:title":function(e){return"Order finished"},"orderFinishedDialog:selectNextOrderNo":function(e){return"Select the next order"},"orderFinishedDialog:selectAnotherOrderNo":function(e){return"Select another order"},"orderFinishedDialog:reset":function(e){return"Reset the order"},"orderFinishedDialog:close":function(e){return"Continue the current order"},"orderFinishedDialog:orderNo":function(e){return"Order no:"},"orderFinishedDialog:quantity":function(e){return"Quantity:"},"orderFinishedDialog:successCounter":function(e){return"Successes:"},"orderFinishedDialog:failureCounter":function(e){return"Failures:"},"orderFinishedDialog:startedAt":function(e){return"Started at:"},"orderFinishedDialog:finishedAt":function(e){return"Finished at:"},"orderFinishedDialog:duration":function(e){return"Duration:"},"printServiceTagDialog:title":function(e){return"Service Tag label printing"},"printServiceTagDialog:orderNo":function(e){return"Order no"},"printServiceTagDialog:counter":function(e){return"Items"},"printServiceTagDialog:submit":function(e){return"Print label"},"printServiceTagDialog:failure":function(e){return"Failed to print Service Tag labels :("},"printServiceTagDialog:success":function(e){return"Generated request to print "+t.p(e,"count",0,"en",{one:"one Service Tag label",other:t.v(e,"count")+" Service Tag labels"})+"."},leds:function(e){return"LED boards"},"leds:reset":function(e){return"Reset the scanned LED boards"},"leds:error:INVALID_NC12":function(e){return"Invalid 12NC:<br>"+t.v(e,"nc12")+"!"},"leds:error:NO_CONNECTION":function(e){return"No connection to<br>the remote server!"},"leds:error:TIMEOUT":function(e){return"Response timeout!"},"leds:error:DB_FAILURE":function(e){return"Database failure!"},"leds:error:UNKNOWN_ORDER_NO":function(e){return"Unknown order!"},"leds:error:UNKNOWN_ITEM_NC12":function(e){return"Unknown order item!"},"leds:error:SERIAL_NUMBER_USED":function(e){return"SN already used in order "+t.v(e,"orderNo")+":<br>"+t.v(e,"name")},hidLamps:function(e){return"HID lamps"},"hidLamps:reset":function(e){return"Reset the scanned HID lamps"},"hidLamps:error:NO_CONNECTION":function(e){return"No connection to<br>the remote server!"},"hidLamps:error:TIMEOUT":function(e){return"Response timeout!"},"hidLamps:error:DB_FAILURE":function(e){return"Database failure!"},"hidLamps:error:UNKNOWN_ORDER_NO":function(e){return"Unknown order!"},"hidLamps:error:UNKNOWN_HID_LAMP":function(e){return"Unknown HID lamp!"},"hidLamps:error:NO_HID_LAMPS":function(e){return"Order without HID lamps!"},"hidLamps:error:INVALID_HID_LAMP":function(e){return"Invalid HID lamp ID!"},componentWeights:function(e){return"Weighed component selection";
},"continue:led:p1":function(e){return"LED boards scanned successfully!"},"continue:led:p2":function(e){return"Press <kbd data-hotkey=continue>?</kbd> or scan the start barcode<br>to start the programming."},"continue:test:p1":function(e){return"Testing paused!"},"continue:test:p2":function(e){return"Press <kbd data-hotkey=continue>?</kbd> or scan the start barcode,<br>to continue the test."},"continue:glp2:p1":function(e){return"Test ready to start!"},"continue:glp2:p2":function(e){return"Press the button on the probe,<br>to continue the testing."},"continue:vis:p1":function(e){return"Visual test"},"continue:vis:p2":function(e){return"Press <kbd data-hotkey=continue>?</kbd> or use the start barcode<br>or the probe, to continue the testing."},"continue:programmed:p1":function(e){return"Programming finished!"},"continue:programmed:p2":function(e){return"Press the button on the probe,<br>to continue the testing."},"continue:ft:p1":function(e){return"Order with frame test!"},"continue:ft:p2":function(e){return"Press <kbd data-hotkey=start>?</kbd> or use the probe,<br>to continue the testing."},"continue:weight:scanning:p1":function(e){return"Component weighing ready to start!"},"continue:weight:scanning:p2":function(e){return"Scan the component barcode,<br>to start the weighing."},"continue:weight:weighing:p1":function(e){return"Component weighing..."},"multipleLocalSocketsDialog:title":function(e){return"Multiple local clients detected"},"multipleLocalSocketsDialog:help":function(e){return"<p>Make sure the browser window with the application has not been accidentally opened more than once and close all additional windows.</p><p>If the problem persists, inform your supervisor.</p>"}},pl:!0}}),define("app/nls/pl/dashboard",["app/nls/locale/pl"],function(e){var t={lc:{pl:function(t){return e(t)},en:function(t){return e(t)}},c:function(e,t){if(!e)throw new Error("MessageFormat: Data required for '"+t+"'.")},n:function(e,t,n){if(isNaN(e[t]))throw new Error("MessageFormat: '"+t+"' isn't a number.");return e[t]-(n||0)},v:function(e,n){return t.c(e,n),e[n]},p:function(e,n,r,i,o){return t.c(e,n),e[n]in o?o[e[n]]:(n=t.lc[i](e[n]-r),n in o?o[n]:o.other)},s:function(e,n,r){return t.c(e,n),e[n]in r?r[e[n]]:r.other}};return{"msg:setInputMode:INVALID_PASSWORD":function(e){return"Nie udało się zmienić trybu wprowadzania danych: nieprawidłowe hasło :("},"msg:setInputMode:MULTIPLE_LOCAL_SOCKETS":function(e){return"Nie udało się zmienić trybu wprowadzania danych: wiele lokalnych klientów :("},"msg:setInputMode:failure":function(e){return"Nie udało się zmienić trybu wprowadzania danych :("},"msg:setInputMode:success":function(e){return"Zmieniono tryb wprowadzania danych :)"},"msg:setWorkMode:MULTIPLE_LOCAL_SOCKETS":function(e){return"Nie udało się zmienić trybu pracy."},"msg:setWorkMode:failure":function(e){return"Nie udało się zmienić trybu pracy :("},"msg:setWorkMode:success":function(e){return"Zmieniono tryb pracy :)"},"msg:reload:MULTIPLE_LOCAL_SOCKETS":function(e){return"Nie udało się wczytać ostatniego zlecenia."},"msg:reload:failure":function(e){return"Nie udało się wczytać ostatniego zlecenia :("},"msg:reload:success":function(e){return"Ostatnie zlecenie zostało wczytane :)"},"msg:reload:noOrders":function(e){return"Nie ma żadnych zleceń do wczytania :("},"msg:reset:MULTIPLE_LOCAL_SOCKETS":function(e){return"Nie udało się zresetować aktualnego stanu."},"msg:reset:failure":function(e){return"Nie udało się zresetować aktualnego stanu :("},"msg:reset:success":function(e){return"Aktualny stan został zresetowany :)"},"msg:start:NO_REMOTE_CONNECTION":function(e){return"Brak połączenia z zewnętrznym serwerem :("},"msg:start:MULTIPLE_LOCAL_SOCKETS":function(e){return"Nie udało się rozpocząć procesu."},"msg:start:failure":function(e){return"Nie udało się rozpocząć procesu :("},"msg:start:requiredProgram":function(e){return"Należy wybrać program!"},"msg:start:requiredOrderNo":function(e){return"Wymagany jest poprawny nr zlecenia!"},"msg:start:requiredQuantity":function(e){return"Wymagana jest poprawna ilość!"},"msg:start:requiredNc12":function(e){return"Wymagany jest poprawny kod 12NC!"},"msg:selectOrderNo:MULTIPLE_LOCAL_SOCKETS":function(e){return"Nie udało się zmienić zlecenia."},"msg:selectOrderNo:failure":function(e){return"Nie udało się zmienić zlecenia :("},"msg:selectOrderNo:success":function(e){return"Zlecenie zostało zmienione :)"},"msg:selectNc12:INVALID_PASSWORD":function(e){return"Nie udało się zmienić 12NC: nieprawidłowe hasło :("},"msg:selectNc12:MULTIPLE_LOCAL_SOCKETS":function(e){return"Nie udało się zmienić 12NC."},"msg:selectNc12:failure":function(e){return"Nie udało się zmienić 12NC :("},"msg:selectNc12:success":function(e){return"12NC zostało zmienione :)"},"connection:no":function(e){return"Brak połączenia z lokalnym serwerem"},"connection:local":function(e){return"Brak połączenia ze zdalnym serwerem."},"connection:remote":function(e){return"Połączono ze zdalnym serwerem."},"inputMode:local":function(e){return"Tryb lokalny"},"inputMode:remote":function(e){return"Tryb zdalny"},"inputMode:password":function(e){return"Hasło"},"windowFocus:active":function(e){return"Okno aktywne"},"windowFocus:inactive":function(e){return"Okno nieaktywne"},licenseError:function(e){return"Błąd licencji"},"input:orderNo":function(e){return"Nr zlecenia"},"input:quantity":function(e){return"Ilość"},"input:nc12":function(e){return"12NC programu"},"input:nc12:weight:enabled":function(e){return"Stanowisko bez programowania.<br>Ważenie komponentów aktywne."},"input:nc12:ft:enabled":function(e){return"Stanowisko bez programowania.<br>Testowanie ramki aktywne."},"input:nc12:ft:disabled":function(e){return"Stanowisko bez programowania.<br>Testowanie ramki nieaktywne."},"input:nc12:hid:enabled":function(e){return"Stanowisko bez programowania.<br>Skanowanie lamp HID aktywne."},"input:nc12:hid:disabled":function(e){return"Stanowisko bez programowania.<br>Skanowanie lamp HID nieaktywne."},"input:nc12:ledOnly":function(e){return"Zlecenie nie zawiera programu do drivera.<br>Skanowanie płytek LED aktywne."},"input:nc12:testOnly":function(e){return"Stanowisko bez programowania.<br>Testowanie aktywne."},"input:nc12:noProgram":function(e){return"Zlecenie nie zawiera programu do drivera.<br>Testowanie aktywne."},"input:nc12:noProgramming":function(e){return"Stanowisko bez programowania.<br>Skanowanie płytek LED aktywne."},"input:nc12:multi":function(e){return"Dostępne kilka 12NC programowych.<br>Kliknij, aby wybrać program."},"input:gprs":function(e){return"12NC GPRS"},"input:start":function(e){return"Rozpocznij"},"input:cancel":function(e){return"Anuluj"},"input:continue":function(e){return"Kontynuuj"},"input:toggleWorkMode":function(e){return"Przełącz tryb pracy"},"input:reload":function(e){return"Wczytaj ostatnie zlecenie"},"input:reset":function(e){return"Resetuj aktualny stan"},"input:printServiceTag":function(e){return"Drukowanie etykiet Service Tag"},history:function(e){return"Historia"},"program:pick":function(e){return"Wybierz<br>program"},"program:pick:title":function(e){return"Zmień program"},"program:picker:title":function(e){return"Wybór programu"},"program:picker:filter":function(e){return"Filtruj listę programów..."},"program:picker:failure":function(e){return"Nie udało się ustawić programu :("},"program:picker:success":function(e){return"Wybrany program został ustawiony :)"},"orderNoPickerDialog:title":function(e){return"Zmień zlecenie"},"orderNoPickerDialog:nc12":function(e){return"12NC:"},"orderNoPickerDialog:quantity":function(e){return"Ilość:"},"nc12PickerDialog:title":function(e){return"Zmień 12NC programowe"},"nc12PickerDialog:message":function(e){return"Wybrane zlecenie ma zdefiniowane "+t.v(e,"nc12Count")+" "+t.p(e,"nc12Count",0,"pl",{few:"programowe",other:"programowych"})+" 12NC.<br>W celu wybrania poprawnego programu, skonsultuj się z liderem:<br>"+t.v(e,"leader")},"nc12PickerDialog:password":function(e){return"Hasło"},"nc12PickerDialog:quantity":function(e){return"Ilość:"},"orderFinishedDialog:title":function(e){return"Koniec zlecenia"},"orderFinishedDialog:selectNextOrderNo":function(e){return"Rozpocznij następne zlecenie"},"orderFinishedDialog:selectAnotherOrderNo":function(e){return"Wybierz inne zlecenie"},"orderFinishedDialog:reset":function(e){return"Resetuj zlecenie"},"orderFinishedDialog:close":function(e){return"Kontynuuj aktualne zlecenie"},"orderFinishedDialog:orderNo":function(e){return"Nr zlecenia:"},"orderFinishedDialog:quantity":function(e){return"Ilość:"},"orderFinishedDialog:successCounter":function(e){return"Pomyślne:"},"orderFinishedDialog:failureCounter":function(e){return"Niepomyślne:"},"orderFinishedDialog:startedAt":function(e){return"Czas rozpoczęcia:"},"orderFinishedDialog:finishedAt":function(e){return"Czas zakończenia:"},"orderFinishedDialog:duration":function(e){return"Czas trwania:"},"printServiceTagDialog:title":function(e){return"Drukowanie etykiety Service Tag"},"printServiceTagDialog:orderNo":function(e){return"Nr zlecenia"},"printServiceTagDialog:counter":function(e){return"Sztuki"},"printServiceTagDialog:submit":function(e){return"Drukuj etykietę"},"printServiceTagDialog:failure":function(e){return"Nie udało się wydrukować etykiety Service Tag :("},"printServiceTagDialog:success":function(e){return"Wygenerowano żądanie drukowania "+t.p(e,"count",0,"pl",{one:"etykiety",other:t.v(e,"count")+" etykiet"})+" Service Tag."},leds:function(e){return"Płytki LED"},"leds:reset":function(e){return"Resetuj zeskanowane płytki LED"},"leds:error:INVALID_NC12":function(e){return"Nieprawidłowe 12NC:<br>"+t.v(e,"nc12")+"!"},"leds:error:NO_CONNECTION":function(e){return"Brak połączenia z<br>serwerem zewnętrznym!"},"leds:error:TIMEOUT":function(e){return"Upłynął limit czasu<br>oczekiwania na odpowiedź!"},"leds:error:DB_FAILURE":function(e){return"Błąd bazy danych!"},"leds:error:UNKNOWN_ORDER_NO":function(e){return"Nieznane zlecenie!"},"leds:error:UNKNOWN_ITEM_NC12":function(e){return"Nieznana pozycja zlecenia!"},"leds:error:SERIAL_NUMBER_USED":function(e){return"Płytka z tym numerem seryjnym użyta w zleceniu:<br>"+t.v(e,"orderNo")},hidLamps:function(e){return"Lampy HID"},"hidLamps:reset":function(e){return"Resetuj zeskanowane lampy HID"},"hidLamps:error:NO_CONNECTION":function(e){return"Brak połączenia z<br>serwerem zewnętrznym!"},"hidLamps:error:TIMEOUT":function(e){return"Upłynął limit czasu<br>oczekiwania na odpowiedź!"},"hidLamps:error:DB_FAILURE":function(e){return"Błąd bazy danych!"},"hidLamps:error:UNKNOWN_ORDER_NO":function(e){return"Nieznane zlecenie!"},"hidLamps:error:UNKNOWN_HID_LAMP":function(e){return"Nieznana lampa HID!"},"hidLamps:error:NO_HID_LAMPS":function(e){return"Zlecenie bez lamp HID!"},"hidLamps:error:INVALID_HID_LAMP":function(e){return"Nieprawidłowe ID lampy HID!"},componentWeights:function(e){return"Wybór ważonego komponentu"},"continue:led:p1":function(e){return"Płytki LED zeskanowane pomyślnie!"},"continue:led:p2":function(e){return"Wciśnij <kbd data-hotkey=continue>?</kbd> lub zeskanuj kod startu,<br>aby rozpocząć programowanie."},"continue:test:p1":function(e){return"Testowanie wstrzymane!"},"continue:test:p2":function(e){return"Wciśnij <kbd data-hotkey=continue>?</kbd> lub zeskanuj kod startu,<br>aby kontynuować testowanie."},"continue:glp2:p1":function(e){return"Test gotowy do startu!"},"continue:glp2:p2":function(e){return"Wciśnij przycisk na sondzie,<br>aby kontynuować testowanie."},"continue:vis:p1":function(e){return"Test wizualny"},"continue:vis:p2":function(e){return"Wciśnij <kbd data-hotkey=continue>?</kbd> lub zeskanuj kod startu<br>lub użyj sondy, aby kontynuować testowanie."},"continue:programmed:p1":function(e){return"Programowanie zakończone!"},"continue:programmed:p2":function(e){return"Wciśnij przycisk na sondzie,<br>aby kontynuować testowanie."},"continue:ft:p1":function(e){return"Zlecenie z testem ramki!"},"continue:ft:p2":function(e){return"Wciśnij <kbd data-hotkey=start>?</kbd> lub przycisk na sondzie,<br>aby rozpocząć test ramki."},"continue:weight:scanning:p1":function(e){return"Ważenie komponentu gotowe do startu!"},"continue:weight:scanning:p2":function(e){return"Zeskanuj kod komponentu,<br>aby rozpocząć ważenie."},"continue:weight:weighing:p1":function(e){return"Ważenie komponentu..."},"multipleLocalSocketsDialog:title":function(e){return"Wykryto wielu lokalnych klientów"},"multipleLocalSocketsDialog:help":function(e){return"<p>Sprawdź, czy okno przeglądarki z aplikacją nie zostało przypadkiem otwarte więcej niż jeden raz i zamknij wszystkie dodatkowe okna.</p><p>Jeżeli problem nadal występuje, to poinformuj swojego przełożonego.</p>"}}}),define("app/dashboard/routes",["app/broker","app/router","app/viewport","./pages/DashboardPage","i18n!app/nls/dashboard"],function(e,t,n,r){"use strict";e.subscribe("hotkeys.showDashboardPage",function(){e.publish("router.navigate",{url:"/",trigger:!0,replace:!1})}),t.map("/",function(){n.showPage(new r)})}),define("app/core/util/showDeleteFormPage",["underscore","app/viewport"],function(e,t){"use strict";return function(n,r,i,o){var a=new n({_id:r.params.id});t.loadPage("app/core/pages/ActionFormPage",function(t){return new t(e.extend({model:a,actionKey:"delete",successUrl:a.genClientUrl("base"),cancelUrl:i||a.genClientUrl("base"),formMethod:"DELETE",formAction:a.url(),formActionSeverity:"danger"},o))})}}),function(e,t){"function"==typeof define&&define.amd?define("form2js",t):e.form2js=t()}(this,function(){"use strict";function e(e,r,i,o,a,s){s=!!s,"undefined"!=typeof i&&null!=i||(i=!0),"undefined"!=typeof r&&null!=r||(r="."),arguments.length<5&&(a=!1),e="string"==typeof e?document.getElementById(e):e;var l,p=[],c=0;if(e.constructor==Array||"undefined"!=typeof NodeList&&e.constructor==NodeList)for(;l=e[c++];)p=p.concat(n(l,o,a,s));else p=n(e,o,a,s);return t(p,i,r)}function t(e,t,n){var r,i,o,a,s,l,p,c,u,d,f,h,g,_={},m={};for(r=0;r<e.length;r++)if(s=e[r].value,!t||""!==s&&null!==s){for(h=e[r].name,g=h.split(n),l=[],p=_,c="",i=0;i<g.length;i++)if(f=g[i].split("]["),f.length>1)for(o=0;o<f.length;o++)if(0==o?f[o]=f[o]+"]":o==f.length-1?f[o]="["+f[o]:f[o]="["+f[o]+"]",d=f[o].match(/([a-z_]+)?\[([a-z_][a-z0-9_]+?)\]/i))for(a=1;a<d.length;a++)d[a]&&l.push(d[a]);else l.push(f[o]);else l=l.concat(f);for(i=0;i<l.length;i++)f=l[i],f.indexOf("[]")>-1&&i==l.length-1?(u=f.substr(0,f.indexOf("[")),c+=u,p[u]||(p[u]=[]),p[u].push(s)):f.indexOf("[")>-1?(u=f.substr(0,f.indexOf("[")),d=f.replace(/(^([a-z_]+)?\[)|(\]$)/gi,""),c+="_"+u+"_"+d,m[c]||(m[c]={}),""==u||p[u]||(p[u]=[]),i==l.length-1?""==u?(p.push(s),m[c][d]=p[p.length-1]):(p[u].push(s),m[c][d]=p[u][p[u].length-1]):m[c][d]||(/^[0-9a-z_]+\[?/i.test(l[i+1])?p[u].push({}):p[u].push([]),m[c][d]=p[u][p[u].length-1]),p=m[c][d]):(c+=f,i<l.length-1?(p[f]||(p[f]={}),p=p[f]):p[f]=s)}return _}function n(e,t,n,o){var a=i(e,t,n,o);return a.length>0?a:r(e,t,n,o)}function r(e,t,n,r){for(var o=[],a=e.firstChild;a;)o=o.concat(i(a,t,n,r)),a=a.nextSibling;return o}function i(e,t,n,i){if(e.disabled&&!i)return[];var s,l,p,c=o(e,n);return s=t&&t(e),s&&s.name?p=[s]:""!=c&&e.nodeName.match(/INPUT|TEXTAREA/i)?(l=a(e,i),p=null===l?[]:[{name:c,value:l}]):""!=c&&e.nodeName.match(/SELECT/i)?(l=a(e,i),p=[{name:c.replace(/\[\]$/,""),value:l}]):p=r(e,t,n,i),p}function o(e,t){return e.name&&""!=e.name?e.name:t&&e.id&&""!=e.id?e.id:""}function a(e,t){if(e.disabled&&!t)return null;switch(e.nodeName){case"INPUT":case"TEXTAREA":switch(e.type.toLowerCase()){case"radio":if(e.checked&&"false"===e.value)return!1;case"checkbox":if(e.checked&&"true"===e.value)return!0;if(!e.checked&&"true"===e.value)return!1;if(e.checked)return e.value;break;case"button":case"reset":case"submit":case"image":return"";default:return e.value}break;case"SELECT":return s(e)}return null}function s(e){var t,n,r,i=e.multiple,o=[];if(!i)return e.value;for(t=e.getElementsByTagName("option"),n=0,r=t.length;n<r;n++)t[n].selected&&o.push(t[n].value);return o}return e}),function(e,t){"function"==typeof define&&define.amd?define("js2form",t):e.js2form=t()}(this,function(){"use strict";function e(e,r,o,a,s){arguments.length<3&&(o="."),arguments.length<4&&(a=null),arguments.length<5&&(s=!1);var p,c;p=i(r),c=n(e,s,o,{},!0);for(var u=0;u<p.length;u++){var d=p[u].name,f=p[u].value;"undefined"!=typeof c[d]?t(c[d],f):"undefined"!=typeof c[d.replace(l,"[]")]&&t(c[d.replace(l,"[]")],f)}}function t(e,t){var n,r,i;if(e instanceof Array)for(r=0;r<e.length;r++)e[r].value!=t&&t!==!0||(e[r].checked=!0);else if(u.test(e.nodeName))e.value=t;else if(/SELECT/i.test(e.nodeName))for(n=e.getElementsByTagName("option"),r=0,i=n.length;r<i;r++)if(n[r].value==t){if(n[r].selected=!0,e.multiple)break}else e.multiple||(n[r].selected=!1)}function n(e,t,i,o,a){arguments.length<4&&(o={});for(var s,p,c,u,d,f,h,g={},_=e.firstChild;_;){if(s="",_.name&&""!=_.name?s=_.name:t&&_.id&&""!=_.id&&(s=_.id),""==s){var m=n(_,t,i,o,a);for(c in m)if("undefined"==typeof g[c])g[c]=m[c];else for(u=0;u<m[c].length;u++)g[c].push(m[c][u])}else if(/SELECT/i.test(_.nodeName))for(d=0,h=_.getElementsByTagName("option"),f=h.length;d<f;d++)a&&(h[d].selected=!1),p=r(s,i,o),p=p.replace(l,"[]"),g[p]=_;else/INPUT/i.test(_.nodeName)&&/CHECKBOX|RADIO/i.test(_.type)?(a&&(_.checked=!1),p=r(s,i,o),p=p.replace(l,"[]"),g[p]||(g[p]=[]),g[p].push(_)):(a&&(_.value=""),p=r(s,i,o),g[p]=_);_=_.nextSibling}return g}function r(e,t,n){var r,i,o,a,s,l,u=[],d=e.split(t);for(e=e.replace(c,"[$1].[$2]"),l=0;l<d.length;l++)r=d[l],u.push(r),i=r.match(p),null!=i&&(o=u.join(t),a=o.replace(p,"$3"),o=o.replace(p,"$1"),"undefined"==typeof n[o]&&(n[o]={lastIndex:-1,indexes:{}}),""!=a&&"undefined"!=typeof n[o].indexes[a]||(n[o].lastIndex++,n[o].indexes[a]=n[o].lastIndex),s=n[o].indexes[a],u[u.length-1]=r.replace(p,"$1$2"+s+"$4"));return o=u.join(t),o=o.replace("].[","][")}function i(e,t){var n,r,i=[];if(1==arguments.length&&(t=0),null==e)i=[{name:"",value:null}];else if("string"==typeof e||"number"==typeof e||"date"==typeof e||"boolean"==typeof e)i=[{name:"",value:e}];else if(e instanceof Array)for(n=0;n<e.length;n++)r="["+n+"]",i=i.concat(o(e[n],r,t+1));else for(n in e)r=n,i=i.concat(o(e[n],r,t+1));return i}function o(e,t,n){var r,o,l,p=[],c=i(e,n+1);for(o=0;o<c.length;o++)r=t,a.test(c[o].name)?r+=c[o].name:s.test(c[o].name)&&(r+="."+c[o].name),l={name:r,value:c[o].value},p.push(l);return p}var a=/^\[\d+?\]/,s=/^[a-zA-Z_][a-zA-Z_0-9]*/,l=/\[[0-9]+?\]$/,p=/(.*)(\[)([0-9]*)(\])$/,c=/\[([0-9]+)\]\[([0-9]+)\]/g,u=/INPUT|TEXTAREA/i;return e}),define("app/core/views/FormView",["underscore","form2js","js2form","app/viewport","../View"],function(e,t,n,r,i){"use strict";return i.extend({events:{submit:"submitForm"},$errorMessage:null,initialize:function(){this.$errorMessage=null,this.listenTo(this.model,"change",function(){this.isRendered()&&n(this.el,this.serializeToForm())})},destroy:function(){this.hideErrorMessage()},serialize:function(){return{editMode:!!this.options.editMode,idPrefix:this.idPrefix,formMethod:this.options.formMethod,formAction:this.options.formAction,formActionText:this.options.formActionText,panelTitleText:this.options.panelTitleText,model:this.model.toJSON()}},afterRender:function(){n(this.el,this.serializeToForm())},serializeToForm:function(){return this.model.toJSON()},serializeForm:function(e){return e},submitForm:function(){if(this.hideErrorMessage(),!this.el.checkValidity())return!1;var e=this.serializeForm(t(this.el));if(!this.checkValidity(e))return!1;var n=this.$('[type="submit"]').attr("disabled",!0),r=this.promised(this.model.save(e,{wait:!0})),i=this;return r.done(function(){"function"==typeof i.options.done?i.options.done(!0):i.broker.publish("router.navigate",{url:i.model.genClientUrl(),trigger:!0})}),r.fail(this.handleFailure.bind(this)),r.always(function(){n.attr("disabled",!1)}),!1},hideErrorMessage:function(){null!==this.$errorMessage&&(r.msg.hide(this.$errorMessage),this.$errorMessage=null)},checkValidity:function(e){return!!e},handleFailure:function(){this.$errorMessage=r.msg.show({type:"error",text:this.options.failureText})}})}),define("app/core/pages/AddFormPage",["app/i18n","../View","../views/FormView"],function(e,t,n){"use strict";return t.extend({layoutName:"page",pageId:"addForm",breadcrumbs:function(){return[{label:e.bound(this.model.getNlsDomain(),"BREADCRUMBS:browse"),href:this.model.genClientUrl("base")},e.bound(this.model.getNlsDomain(),"BREADCRUMBS:addForm")]},initialize:function(){var t=this.options.FormView||this.FormView||n,r={editMode:!1,model:this.model,formMethod:"POST",formAction:this.model.url(),formActionText:e(this.model.getNlsDomain(),"FORM:ACTION:add"),failureText:e(this.model.getNlsDomain(),"FORM:ERROR:addFailure"),panelTitleText:e(this.model.getNlsDomain(),"PANEL:TITLE:addForm")};"function"==typeof this.options.formTemplate&&(r.template=this.options.formTemplate),this.view=new t(r)}})}),define("app/core/util/bindLoadingMessage",["app/i18n","app/viewport"],function(e,t){"use strict";return function(n,r,i,o){function a(){t.msg.loaded()}function s(n){var r=n.statusText;if("abort"===r)return t.msg.loaded();var a=n.responseJSON;a&&a.error&&(a.error.code?r=a.error.code:a.error.message&&(r=a.error.message)),t.msg.loadingFailed(e(o,i,{code:r}))}return o||(o=n.nlsDomain?n.nlsDomain:n.model&&n.model.prototype.nlsDomain?n.model.prototype.nlsDomain:"core"),i||(i=n.model?"MSG:LOADING_FAILURE":"MSG:LOADING_SINGLE_FAILURE"),r.listenTo(n,"request",function(e,n,r){"read"===r.syncMethod&&(t.msg.loading(),n.done(a),n.fail(s))}),n}}),define("app/core/pages/EditFormPage",["app/i18n","../util/bindLoadingMessage","../View","../views/FormView"],function(e,t,n,r){"use strict";return n.extend({layoutName:"page",pageId:"editForm",breadcrumbs:function(){return[{label:e.bound(this.model.getNlsDomain(),"BREADCRUMBS:browse"),href:this.model.genClientUrl("base")},{label:this.model.getLabel(),href:this.model.genClientUrl()},e.bound(this.model.getNlsDomain(),"BREADCRUMBS:editForm")]},initialize:function(){this.model=t(this.options.model,this);var n=this.options.FormView||this.FormView||r,i={editMode:!0,model:this.model,formMethod:"PUT",formAction:this.model.url(),formActionText:e(this.model.getNlsDomain(),"FORM:ACTION:edit"),failureText:e(this.model.getNlsDomain(),"FORM:ERROR:editFailure"),panelTitleText:e(this.model.getNlsDomain(),"PANEL:TITLE:editForm")};"function"==typeof this.options.formTemplate&&(i.template=this.options.formTemplate),this.view=new n(i)},load:function(e){return e(this.model.fetch(this.options.fetchOptions))}})}),define("app/core/templates/actionForm",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<form class="action-form" method="post" action="'),__append(formAction),__append('">\n  <input type="hidden" name="_method" value="'),__append(formMethod),__append('">\n  <p>'),__append(messageText),__append('</p>\n  <div class="form-actions">\n    <button type="submit" class="btn btn-'),__append(formActionSeverity),__append('">'),__append(formActionText),__append("</button>\n    "),"#"===cancelUrl?(__append('\n    <button type="button" class="cancel btn btn-link">'),__append(t("core","ACTION_FORM:BUTTON:cancel")),__append("</button>\n    ")):(__append('\n    <a class="cancel" href="'),__append(cancelUrl),__append('">'),__append(t("core","ACTION_FORM:BUTTON:cancel")),__append("</a>\n    ")),__append("\n  </div>\n</form>\n");return __output.join("")}}),define("app/core/views/ActionFormView",["underscore","app/i18n","app/viewport","app/router","../View","app/core/templates/actionForm"],function(e,t,n,r,i,o){"use strict";var a={formMethod:"POST",formAction:"/",formActionText:t.bound("core","ACTION_FORM:BUTTON"),formActionSeverity:"primary",messageText:t.bound("core","ACTION_FORM:MESSAGE"),successUrl:null,cancelUrl:"#",failureText:t.bound("core","ACTION_FORM:MESSAGE_FAILURE"),requestData:null},s=i.extend({template:o,events:{submit:"submitForm"},$errorMessage:null,initialize:function(){e.defaults(this.options,a),this.$errorMessage=null},destroy:function(){this.hideErrorMessage()},serialize:function(){return{formMethod:this.options.formMethod,formAction:this.options.formAction,formActionText:this.options.formActionText,formActionSeverity:this.options.formActionSeverity,messageText:this.options.messageText,cancelUrl:this.options.cancelUrl,model:this.model}},afterRender:function(){this.model&&this.listenToOnce(this.model,"change",this.render)},submitForm:function(){this.hideErrorMessage();var t=this.$('[type="submit"]').attr("disabled",!0),r=this.options,i=r.requestData;i=null==i?void 0:e.isFunction(i)?i.call(this):JSON.stringify(i);var o=this.ajax({type:r.formMethod,url:r.formAction,data:i}),a=this;return o.done(function(t){a.trigger("success",t),e.isString(r.successUrl)&&a.broker.publish("router.navigate",{url:r.successUrl,trigger:!0,replace:!0})}),o.fail(function(e){a.trigger("failure",e),r.failureText&&(a.$errorMessage=n.msg.show({type:"error",time:5e3,text:r.failureText}))}),o.always(function(){t.attr("disabled",!1)}),!1},hideErrorMessage:function(){null!==this.$errorMessage&&(n.msg.hide(this.$errorMessage),this.$errorMessage=null)}},{showDialog:function(r){var i=null;if(r.nlsDomain||(r.nlsDomain=r.model.getNlsDomain()),r.nlsDomain){i=t.bound(r.nlsDomain,"ACTION_FORM:DIALOG_TITLE:"+r.actionKey);var o=r.labelAttribute?r.model.get(r.labelAttribute):r.model.getLabel();o?r.messageText=t.bound(r.nlsDomain,"ACTION_FORM:MESSAGE_SPECIFIC:"+r.actionKey,{label:o}):r.messageText=t.bound(r.nlsDomain,"ACTION_FORM:MESSAGE:"+r.actionKey),r.formActionText=t.bound(r.nlsDomain,"ACTION_FORM:BUTTON:"+r.actionKey),r.failureText=t.bound(r.nlsDomain,"ACTION_FORM:MESSAGE_FAILURE:"+r.actionKey)}!r.formAction&&e.isFunction(r.model.url)&&(r.formAction=r.model.url()),e.isObject(r.requestData)||(r.requestData={}),e.isString(r.requestData.action)||(r.requestData.action=r.actionKey);var a=new s(r);return a.on("success",function(){n.closeDialog()}),n.showDialog(a,i),a},showDeleteDialog:function(e){return e.actionKey="delete",e.formMethod="DELETE",e.formActionSeverity="danger",s.showDialog(e)}});return s}),define("app/core/templates/jumpAction",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<form class="page-actions-jump" title="'),__append(t(nlsDomain,"PAGE_ACTION:jump:title")),__append('">\n  <div class="input-group">\n    <input name="rid" type="text" class="form-control" placeholder="'),__append(t(nlsDomain,"PAGE_ACTION:jump:placeholder")),__append('" required autofocus pattern="^ *[0-9]+ *$">\n    <span class="input-group-btn">\n      <button class="btn btn-default" type="submit"><i class="fa fa-search"></i></button>\n    </span>\n  </div>\n</form>\n');return __output.join("")}}),define("app/core/util/pageActions",["underscore","app/i18n","app/viewport","../views/ActionFormView","app/core/templates/jumpAction"],function(e,t,n,r,i){"use strict";function o(e){return e.paginationData?e.paginationData.get("totalCount"):e.length}function a(r,i,o){var a=o[0].rid;if(a.readOnly)return!1;var s=parseInt(a.value,10);if(isNaN(s)||s<=0)return a.value="",!1;a.readOnly=!0,a.value=s;var l=o.find(".fa").removeClass("fa-search").addClass("fa-spinner fa-spin"),p=r.ajax({url:e.result(i,"url")+";rid",data:{rid:s}});return p.done(function(e){r.broker.publish("router.navigate",{url:i.genClientUrl()+"/"+e,trigger:!0})}),p.fail(function(){n.msg.show({type:"error",time:2e3,text:t(i.getNlsDomain(),"MSG:jump:404",{rid:s})}),l.removeClass("fa-spinner fa-spin").addClass("fa-search"),a.readOnly=!1,a.select()}),!1}function s(e,t){if(t)return t;if(t===!1)return null;var n=e.getPrivilegePrefix();return n?n+":MANAGE":null}return{add:function(e,n){return{label:t.bound(e.getNlsDomain(),"PAGE_ACTION:add"),icon:"plus",href:e.genClientUrl("add"),privileges:s(e,n)}},edit:function(e,n){return{label:t.bound(e.getNlsDomain(),"PAGE_ACTION:edit"),icon:"edit",href:e.genClientUrl("edit"),privileges:s(e,n)}},delete:function(e,n){return{label:t.bound(e.getNlsDomain(),"PAGE_ACTION:delete"),icon:"times",href:e.genClientUrl("delete"),privileges:s(e,n),callback:function(t){0===t.button&&(t.preventDefault(),r.showDeleteDialog({model:e}))}}},export:function(n,r,i,a){return r.listenTo(i,"sync",function(){var t=o(i),r=n.$(".page-actions .export").attr("href",e.result(i,"url")+";export?"+i.rqlQuery).toggleClass("disabled",!t).removeClass("btn-default btn-warning");t>=1e4?r.removeClass("btn-default").addClass("btn-warning"):r.removeClass("btn-warning").addClass("btn-default")}),{label:t.bound(i.getNlsDomain(),"PAGE_ACTION:export"),icon:"download",type:o(i)>=1e4?"warning":"default",href:e.result(i,"url")+";export?"+i.rqlQuery,privileges:void 0===a?i.getPrivilegePrefix()+":VIEW":a===!1?null:a,className:"export"+(i.length?"":" disabled")}},jump:function(e,t){return{template:function(){return i({nlsDomain:t.getNlsDomain()})},afterRender:function(n){var r=n.find("form");r.submit(a.bind(null,e,t,r))}}}}}),define("app/core/templates/pagination",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<ul class="pagination">\n\n  '),firstLastLinksVisible&&(__append("\n    "),firstPageLinkAvailable?(__append('\n    <li><a href="'),__append(firstPageHref),__append('" title="'),__append(t("core","PAGINATION:FIRST_PAGE")),__append('" data-page="1">&laquo;</a>\n    ')):__append('\n    <li class="disabled"><span>&laquo;</span>\n    '),__append("\n  ")),__append("\n\n  "),prevNextLinksVisible&&(__append("\n    "),prevPageLinkAvailable?(__append('\n    <li><a href="'),__append(prevPageHref),__append('" title="'),__append(t("core","PAGINATION:PREV_PAGE")),__append('" data-page="'),__append(page-1),__append('">&lsaquo;</a>\n    ')):__append('\n    <li class="disabled"><span>&lsaquo;</span>\n    '),__append("\n  ")),__append("\n\n  "),leftDotsVisible&&__append('\n  <li class="disabled"><span class="pagination-dots">...</span>\n  '),__append("\n\n  "),pages.forEach(function(e){__append('\n  <li class="'),__append(e.active?"active":""),__append('"><a href="'),__append(e.href),__append('" data-page="'),__append(e.no),__append('">'),__append(e.no),__append("</a>\n  ")}),__append("\n\n  "),rightDotsVisible&&__append('\n  <li class="disabled"><span class="pagination-dots">...</span>\n  '),__append("\n\n  "),prevNextLinksVisible&&(__append("\n    "),nextPageLinkAvailable?(__append('\n    <li><a href="'),__append(nextPageHref),__append('" title="'),__append(t("core","PAGINATION:NEXT_PAGE")),__append('" data-page="'),__append(page+1),__append('">&rsaquo;</a>\n    ')):__append('\n    <li class="disabled"><span>&rsaquo;</span>\n    '),__append("\n  ")),__append("\n\n  "),firstLastLinksVisible&&(__append("\n    "),lastPageLinkAvailable?(__append('\n    <li><a href="'),__append(lastPageHref),__append('" title="'),__append(t("core","PAGINATION:LAST_PAGE")),__append('" data-page="'),__append(pageCount),__append('">&raquo;</a>\n    ')):__append('\n    <li class="disabled"><span>&raquo;</span>\n    '),__append("\n  ")),__append("\n\n</ul>\n");return __output.join("")}}),define("app/core/views/PaginationView",["underscore","../View","app/core/templates/pagination"],function(e,t,n){
"use strict";var r={pageNumbers:3,firstLastLinksVisible:!0,prevNextLinksVisible:!0,dotsVisible:!0},i=t.extend({template:n,events:{"click a":function(e){if(0===e.button){e.preventDefault();var t=e.currentTarget;this.changePage(+t.getAttribute("data-page"),t.getAttribute("href"))}}}});return i.prototype.initialize=function(){e.defaults(this.options,r),this.listenTo(this.model,"change:urlTemplate",this.render)},i.prototype.afterRender=function(){var e=this.model.get("limit");(e===-1||this.model.get("totalCount")<=e)&&this.$el.hide()},i.prototype.changePage=function(e,t){this.model.set({page:e}),t&&this.broker.publish("router.navigate",{url:t})},i.prototype.serialize=function(){var e=this.options,t=this.model,n=t.get("page"),r=Math.ceil(t.get("totalCount")/t.get("limit")),i=(e.pageNumbers-1)/2;e.dotsVisible&&(i+=1);var o=n,a=o+i,s=!0,l=!1;o-i<1?o=1:(o-=i,l=e.dotsVisible&&1!==o),l&&(o+=1),a>r&&(a=r,s=!1),n<i+1?(a+=i+1-n,a>r&&(a=r)):n>r-i&&(o-=i-(r-n),o<1&&(o=1));var p=e.dotsVisible&&s&&a!==r;return p&&(a-=1),1===o&&(l=!1),{pageCount:r,page:n,skip:t.get("skip"),limit:t.get("limit"),visible:r>1,firstLastLinksVisible:e.firstLastLinksVisible,prevNextLinksVisible:e.prevNextLinksVisible,leftDotsVisible:l,rightDotsVisible:p,firstPageLinkAvailable:n>1,lastPageLinkAvailable:n<r,prevPageLinkAvailable:n>1,nextPageLinkAvailable:n<r,firstPageHref:this.genPageHref(1),lastPageHref:this.genPageHref(r),prevPageHref:this.genPageHref(n-1),nextPageHref:this.genPageHref(n+1),pages:this.genPages(o,a)}},i.prototype.genPageHref=function(e){var t=this.model.get("urlTemplate"),n=this.model.get("limit");return t.replace("${page}",e).replace("${skip}",(e-1)*n).replace("${limit}",n)},i.prototype.genPages=function(e,t){for(var n=[],r=this.model.get("page"),i=e;i<=t;++i)n.push({no:i,active:i===r,href:this.genPageHref(i)});return n},i}),define("app/core/templates/list",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="list '),__append("undefined"==typeof className?"":className),__append('">\n  <table class="table table-bordered table-hover table-condensed">\n    <thead>\n    <tr>\n      '),columns.forEach(function(e){__append("\n      <th "),__append("function"==typeof e.thAttrs?e.thAttrs(e):e.thAttrs||""),__append(">"),__append(e.label),__append("</th>\n      ")}),__append("\n      "),"function"==typeof actions&&(__append('\n      <th class="actions">'),__append(t("core","LIST:COLUMN:actions")),__append("</th>\n      ")),__append("\n    </tr>\n    </thead>\n    <tbody>\n      "),rows.length||(__append('\n      <tr>\n        <td colspan="'),__append(columns.length+1),__append('">'),__append(t("core","LIST:NO_DATA")),__append("</td>\n      </tr>\n      ")),__append("\n      "),rows.forEach(function(e){__append('\n      <tr class="list-item '),__append(e.className?e.className:""),__append('"\n        '),e.dataAttrs&&(__append("\n        "),Object.keys(e.dataAttrs).forEach(function(t){__append("\n        data-"),__append(t),__append('="'),__append(escapeFn(e.dataAttrs[t])),__append('"\n        ')}),__append("\n        ")),__append("\n        "),e._id&&(__append('data-id="'),__append(e._id),__append('"')),__append("\n      >\n        "),columns.forEach(function(n){__append("\n        <td "),__append("function"==typeof n.tdAttrs?n.tdAttrs(e):n.tdAttrs||""),__append(' data-id="'),__append(n.id),__append('">\n        '),null==e[n.id]?(__append("\n          "),null==n.noData?(__append("\n          <em>"),__append(t("core","LIST:NO_DATA:cell")),__append("</em>\n          ")):(__append("\n          "),__append(n.noData),__append("\n          ")),__append("\n          ")):(__append("\n          "),__append(e[n.id]),__append("\n          ")),__append("\n        </td>\n        ")}),__append("\n        "),"function"==typeof actions&&(__append('\n        <td class="actions">\n          '),actions(e).forEach(function(e){__append("\n          "),e.href?(__append('\n          <a href="'),__append(e.href),__append('" class="btn btn-'),__append(e.type||"default"),__append(" action-"),__append(e.id),__append('" title="'),__append(escapeFn(e.label)),__append('"><i class="fa fa-'),__append(e.icon),__append('"></i></a>\n          ')):__append("\n          TODO\n          "),__append("\n          ")}),__append("\n        </td>\n        ")),__append("\n      </tr>\n      ")}),__append('\n    </tbody>\n  </table>\n  <div class="pagination-container"></div>\n</div>\n');return __output.join("")}}),define("app/core/views/ListView",["jquery","app/i18n","app/user","../View","./ActionFormView","./PaginationView","app/core/templates/list"],function(e,t,n,r,i,o,a){"use strict";function s(e,n,r){return n||(n=e.getNlsDomain()),t.has(n,r)?t(n,r):t("core",r)}var l=r.extend({template:a,remoteTopics:function(){var e={},t=this.collection.getTopicPrefix();return t&&(e[t+".added"]="refreshCollection",e[t+".edited"]="refreshCollection",e[t+".deleted"]="onModelDeleted"),e},events:{"click .list-item[data-id]":function(e){if(!(!this.el.classList.contains("is-clickable")||"A"===e.target.tagName||"INPUT"===e.target.tagName||"BUTTON"===e.target.tagName||e.target.classList.contains("actions")||""!==window.getSelection().toString()||"TD"!==e.target.tagName&&this.$(e.target).closest("a, input, button").length)){var t=this.collection.get(e.currentTarget.dataset.id).genClientUrl();e.ctrlKey?window.open(t):e.altKey||this.broker.publish("router.navigate",{url:t,trigger:!0,replace:!1})}},"click .action-delete":function(e){e.preventDefault(),i.showDeleteDialog({model:this.getModelFromEvent(e)})}},initialize:function(){this.lastRefreshAt=0,this.listenTo(this.collection,"sync",function(){this.lastRefreshAt=Date.now()}),this.collection.paginationData&&(this.paginationView=new o({model:this.collection.paginationData}),this.setView(".pagination-container",this.paginationView),this.listenTo(this.collection.paginationData,"change:page",this.scrollTop))},destroy:function(){this.paginationView=null},serialize:function(){return{columns:this.decorateColumns(this.serializeColumns()),actions:this.serializeActions(),rows:this.serializeRows(),className:this.className}},serializeColumns:function(){var e;return e=Array.isArray(this.options.columns)?this.options.columns:Array.isArray(this.columns)?this.columns:[]},decorateColumns:function(e){var n=this.collection.getNlsDomain();return e.map(function(e){return"string"==typeof e&&(e={id:e,label:t(n,"PROPERTY:"+e)}),e.label||(e.label=t(n,"PROPERTY:"+e.id)),e.thAttrs||(e.thAttrs=""),e.tdAttrs||(e.tdAttrs=""),(e.className||e.thClassName||e.tdClassName)&&(e.thAttrs+=' class="'+(e.className||"")+" "+(e.thClassName||"")+'"',e.tdAttrs+=' class="'+(e.className||"")+" "+(e.tdClassName||"")+'"'),e})},serializeActions:function(){return l.actions.viewEditDelete(this.collection)},serializeRows:function(){return this.collection.map(this.options.serializeRow||this.serializeRow,this)},serializeRow:function(e){return"function"==typeof e.serializeRow?e.serializeRow():"function"==typeof e.serialize?e.serialize():e.toJSON()},beforeRender:function(){this.stopListening(this.collection,"reset",this.render)},afterRender:function(){this.listenToOnce(this.collection,"reset",this.render)},onModelDeleted:function(e){e&&e.model&&e.model._id&&(this.$('.list-item[data-id="'+e.model._id+'"]').addClass("is-deleted"),this.refreshCollection(e))},refreshCollection:function(e){e&&this.timers.refreshCollection||(Date.now()-this.lastRefreshAt>3e3?this.refreshCollectionNow():this.timers.refreshCollection=setTimeout(this.refreshCollectionNow.bind(this),3e3))},refreshCollectionNow:function(e){this.timers&&(this.timers.refreshCollection&&clearTimeout(this.timers.refreshCollection),delete this.timers.refreshCollection,this.promised(this.collection.fetch(e||{reset:!0})))},scrollTop:function(){var t=this.$el.offset().top-14,n=e(".navbar-fixed-top");n.length&&(t-=n.outerHeight()),window.scrollY>t&&e("html, body").stop(!0,!1).animate({scrollTop:t})},getModelFromEvent:function(e){return this.collection.get(this.$(e.target).closest(".list-item").attr("data-id"))}});return l.actions={viewDetails:function(e,t){return{id:"viewDetails",icon:"file-text-o",label:s(e,t,"LIST:ACTION:viewDetails"),href:e.genClientUrl()}},edit:function(e,t){return{id:"edit",icon:"edit",label:s(e,t,"LIST:ACTION:edit"),href:e.genClientUrl("edit")}},delete:function(e,t){return{id:"delete",icon:"times",label:s(e,t,"LIST:ACTION:delete"),href:e.genClientUrl("delete")}},viewEditDelete:function(e,t,r){return function(i){var o=e.get(i._id),a=[l.actions.viewDetails(o,r)];return(t===!1||n.isAllowedTo((t||o.getPrivilegePrefix())+":MANAGE"))&&a.push(l.actions.edit(o,r),l.actions.delete(o,r)),a}}},l}),define("app/core/templates/listPage",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div>\n  <div class="filter-container"></div>\n  <div class="list-container"></div>\n</div>\n');return __output.join("")}}),define("app/core/pages/FilteredListPage",["app/i18n","../util/bindLoadingMessage","../util/pageActions","../View","../views/ListView","app/core/templates/listPage"],function(e,t,n,r,i,o){"use strict";return r.extend({template:o,layoutName:"page",breadcrumbs:function(){return[e.bound((this.collection||this.model).getNlsDomain(),"BREADCRUMBS:browse")]},actions:function(){return[n.add(this.collection||this.model)]},initialize:function(){this.defineModels(),this.defineViews(),this.setView(".filter-container",this.filterView),this.setView(".list-container",this.listView)},defineModels:function(){this[this.collection?"collection":"model"]=t(this.collection||this.model,this)},defineViews:function(){this.listView=this.createListView(),this.filterView=this.createFilterView(),this.listenTo(this.filterView,"filterChanged",this.onFilterChanged)},createListView:function(){var e=this.ListView||this.options.ListView||i;return new e({collection:this.collection,model:this.model})},createFilterView:function(){var e=this.FilterView||this.options.FilterView;return new e({model:{rqlQuery:(this.collection||this.model).rqlQuery}})},load:function(e){return e((this.collection||this.model).fetch({reset:!0}))},onFilterChanged:function(e){(this.collection||this.model).rqlQuery=e,this.refreshCollection()},refreshCollection:function(){this.listView.refreshCollectionNow(),this.broker.publish("router.navigate",{url:(this.collection||this.model).genClientUrl()+"?"+(this.collection||this.model).rqlQuery,trigger:!1,replace:!0})}})}),define("app/xiconfPrograms/views/XiconfProgramListView",["app/i18n","app/core/views/ListView"],function(e,t){"use strict";return t.extend({className:"xiconfPrograms-list is-clickable",columns:[{id:"name",className:"is-min"},{id:"prodLines",className:"is-min"},{id:"programType",label:e.bound("xiconfPrograms","PROPERTY:type"),className:"is-min"},"steps",{id:"updatedAt",className:"is-min"}],serializeActions:function(){return t.actions.viewEditDelete(this.collection,!1)}})}),define("app/core/util/buttonGroup",[],function(){"use strict";return{toggle:function(e){e.find("input:checked").parent().addClass("active")},getValue:function(e){var t=e.find("input");return"radio"===t[0].type||1===t.length?t.filter(":checked").val():t.filter(":checked").map(function(){return this.value}).get()}}}),define("app/core/templates/filterLimit",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="form-group">\n  <label for="'),__append(idPrefix),__append('-limit">'),__append(t("core","filter:limit")),__append('</label>\n  <input id="'),__append(idPrefix),__append('-limit" class="form-control" name="limit" type="number" min="'),__append(min),__append('" max="'),__append(max),__append('" step="1">\n</div>\n');return __output.join("")}}),define("app/core/views/FilterView",["underscore","js2form","h5.rql/specialTerms","app/core/View","app/core/util/buttonGroup","app/core/templates/filterLimit"],function(e,t,n,r,i,o){"use strict";return r.extend({minLimit:5,maxLimit:100,termToForm:{},defaultFormData:{},formData:null,events:{submit:function(){return this.changeFilter(),!1}},serialize:function(){var e=this;return{idPrefix:this.idPrefix,renderLimit:function(){return o({idPrefix:e.idPrefix,min:e.minLimit,max:e.maxLimit})}}},toggleButtonGroup:function(e){return i.toggle(this.$id(e))},getButtonGroupValue:function(e){return i.getValue(this.$id(e))},afterRender:function(){this.formData=this.serializeQueryToForm(),t(this.el,this.formData)},serializeQueryToForm:function(){var t=this.model.rqlQuery,r=e.extend({},e.result(this,"defaultFormData"),{limit:t.limit<5?5:t.limit>100?100:t.limit});return t.selector.args.forEach(function(e){n[e.name]||this.serializeTermToForm(e,r)},this),r},serializeTermToForm:function(e,t){var n="string"==typeof e.args[0]?e.args[0]:null,r=this.termToForm[n];r&&("string"==typeof r&&(r=this.termToForm[r]),"function"==typeof r&&r.call(this,n,e,t))},changeFilter:function(){var e=this.model.rqlQuery,t=[];this.copyPopulateTerms(t),this.serializeFormToQuery(t,e),e.selector={name:"and",args:t},e.skip=0,e.limit=Math.min(Math.max(parseInt(this.$id("limit").val(),10)||15,this.minLimit),this.maxLimit),this.trigger("filterChanged",e)},copyPopulateTerms:function(e){this.model.rqlQuery.selector.args.forEach(function(t){"populate"===t.name&&e.push(t)})},serializeFormToQuery:function(e,t){},serializeRegexTerm:function(e,t,n,r){var i=this.$id(t.replace(/\./g,"-")),o=i.val().trim();"-"!==o&&null!==r&&(o=o.replace(void 0===r?/[^0-9]/g:r,"")),i.val(o),"-"===o&&(o=null),null===o||o.length===n?e.push({name:"eq",args:[t,o]}):o.length>0&&e.push({name:"regex",args:[t,o]})}})}),define("app/xiconfPrograms/templates/filter",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<form class="well filter-form">\n  <div class="form-group">\n    <label for="'),__append(idPrefix),__append('-name">'),__append(t("xiconfPrograms","PROPERTY:name")),__append('</label>\n    <input id="'),__append(idPrefix),__append('-name" class="form-control" name="name" type="text">\n  </div>\n  <div class="form-group">\n    <label for="'),__append(idPrefix),__append('-type">'),__append(t("xiconfPrograms","PROPERTY:type")),__append('</label>\n    <select id="'),__append(idPrefix),__append('-type" class="form-control" name="type">\n      <option></option>\n      '),programTypes.forEach(function(e){__append('\n      <option value="'),__append(e),__append('">'),__append(t("xiconfPrograms","type:"+e)),__append("</option>\n      ")}),__append("\n    </select>\n  </div>\n  "),__append(renderLimit()),__append('\n  <div class="form-group filter-actions">\n    <button type="submit" class="btn btn-default"><i class="fa fa-filter"></i><span>'),__append(escapeFn(t("xiconfPrograms","filter:submit"))),__append("</span></button>\n  </div>\n</form>\n");return __output.join("")}}),define("app/xiconfPrograms/views/XiconfProgramFilterView",["underscore","app/core/views/FilterView","../XiconfProgram","app/xiconfPrograms/templates/filter"],function(e,t,n,r){"use strict";return t.extend({template:r,defaultFormData:{name:"",type:""},termToForm:{name:function(e,t,n){"regex"===t.name&&(n.name=t.args[1])},type:function(e,t,n){n.type=t.args[1]}},serialize:function(){return e.extend(t.prototype.serialize.call(this),{programTypes:Object.keys(n.TYPES_TO_STEPS)})},serializeFormToQuery:function(e){var t=this.$id("name").val().trim(),n=this.$id("type").val();t.length&&e.push({name:"regex",args:["name",t,"i"]}),n.length&&e.push({name:"eq",args:["type",n]})}})}),define("app/xiconfPrograms/pages/XiconfProgramListPage",["app/i18n","app/user","app/viewport","app/core/util/pageActions","app/core/pages/FilteredListPage","../views/XiconfProgramListView","../views/XiconfProgramFilterView"],function(e,t,n,r,i,o,a){"use strict";return i.extend({FilterView:a,ListView:o,actions:function(){var n=[];return t.isLocal()&&n.push({label:e.bound("xiconfPrograms","PAGE_ACTION:add"),icon:"plus",href:this.collection.genClientUrl("add")}),n.unshift({icon:"refresh",label:e.bound("xiconfPrograms","PAGE_ACTION:sync"),callback:this.onSyncActionClick.bind(this)}),n},onSyncActionClick:function(t){var r=t.currentTarget.querySelector(".btn");r.disabled=!0;var i=this.ajax({type:"POST",url:"/xiconf/programs;sync"});i.done(function(t){n.msg.show({type:t.type,time:3e3,text:e("xiconfPrograms","sync:"+t.text)})}),i.fail(function(){n.msg.show({type:"error",time:3e3,text:e("xiconfPrograms","sync:failure")})}),i.always(function(){r.disabled=!1})}})}),define("app/core/util/onModelDeleted",["app/i18n","app/viewport"],function(e,t){"use strict";return function(n,r,i,o){var a=i?i.model:null;(o||a&&a._id===r.id)&&(n.subscribe("router.executing").setLimit(1).on("message",function(){t.msg.show({type:"warning",time:5e3,text:e(r.getNlsDomain()||"core","MSG:DELETED",{label:r.getLabel()})})}),n.publish("router.navigate",{url:r.genClientUrl("base"),trigger:!0,replace:!0}))}}),define("app/core/views/DetailsView",["../View","../util/onModelDeleted"],function(e,t){"use strict";return e.extend({remoteTopics:function(){var e={},t=this.model.getTopicPrefix();return e[t+".edited"]="onModelEdited",e[t+".deleted"]="onModelDeleted",e},serialize:function(){return{idPrefix:this.idPrefix,model:this.serializeDetails(this.model)}},serializeDetails:function(e){return"function"==typeof e.serializeDetails?e.serializeDetails():"function"==typeof e.serialize?e.serialize():e.toJSON()},beforeRender:function(){this.stopListening(this.collection,"change",this.render)},afterRender:function(){this.listenToOnce(this.model,"change",this.render)},onModelEdited:function(e){var t=e.model;t&&t._id===this.model.id&&this.model.set(t)},onModelDeleted:function(e){t(this.broker,this.model,e)}})}),define("app/core/pages/DetailsPage",["app/i18n","../util/bindLoadingMessage","../util/pageActions","../View","../views/DetailsView"],function(e,t,n,r,i){"use strict";return r.extend({layoutName:"page",pageId:"details",modelProperty:"model",breadcrumbs:function(){var t=this[this.modelProperty];return[{label:e.bound(t.nlsDomain,"BREADCRUMBS:browse"),href:t.genClientUrl("base")},t.getLabel()]},actions:function(){var e=this[this.modelProperty];return[n.edit(e,e.privilegePrefix+":MANAGE"),n.delete(e,e.privilegePrefix+":MANAGE")]},initialize:function(){this.defineModels(),this.defineViews()},defineModels:function(){this[this.modelProperty]=t(this.options.model,this)},defineViews:function(){var e=this.DetailsView||i,t={model:this[this.modelProperty]};"function"==typeof this.detailsTemplate&&(t.template=this.detailsTemplate),"function"==typeof this.serializeDetails&&(t.serializeDetails=this.serializeDetails),this.view=new e(t)},load:function(e){return e(this[this.modelProperty].fetch(this.fetchOptions))}})}),define("app/xiconfPrograms/templates/details",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div>\n  <div class="panel panel-primary">\n    <div class="panel-heading">\n      '),__append(t("xiconfPrograms","PANEL:TITLE:details")),__append('\n    </div>\n    <div class="panel-details">\n      <div class="props first">\n        <div class="prop">\n          <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:name")),__append('</div>\n          <div class="prop-value">'),__append(escapeFn(model.name)),__append('</div>\n        </div>\n        <div class="prop">\n          <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:prodLines")),__append('</div>\n          <div class="prop-value">'),__append(escapeFn(model.prodLines)),__append('</div>\n        </div>\n        <div class="prop">\n          <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:type")),__append('</div>\n          <div class="prop-value">'),__append(t("xiconfPrograms","type:"+model.type)),__append('</div>\n        </div>\n        <div class="prop">\n          <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:createdAt")),__append('</div>\n          <div class="prop-value">'),__append(model.createdAt),__append('</div>\n        </div>\n        <div class="prop">\n          <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:updatedAt")),__append('</div>\n          <div class="prop-value">'),__append(model.updatedAt),__append("</div>\n        </div>\n      </div>\n    </div>\n  </div>\n  "),model.steps.forEach(function(e,n){__append("\n  "),function(){e.enabled&&(__append("\n"),"wait"===e.type?(__append("\n"),function(){__append('<div class="panel panel-default xiconfPrograms-stepPanel xiconfPrograms-stepPanel-wait">\n  <div class="panel-heading">'),__append(n+1),__append(". "),__append(t("xiconfPrograms","step:wait")),__append('</div>\n  <div class="panel-details">\n    <div class="props first">\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:waitKind")),__append('</div>\n        <div class="prop-value">\n          '),__append(t("xiconfPrograms","PROPERTY:waitKind:"+e.kind)),__append("\n          "),"auto"===e.kind&&(__append("\n          "),__append(escapeFn(time.toString(e.duration,!1,!0))),__append("\n          ")),__append("\n        </div>\n      </div>\n      "),"t24vdc"===model.type&&(__append('\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:voltage")),__append('</div>\n        <div class="prop-value">'),__append(escapeFn(e.voltage.toLocaleString())),__append("</div>\n      </div>\n      ")),__append("\n    </div>\n  </div>\n</div>\n")}.call(this),__append("\n")):"pe"===e.type?(__append("\n"),function(){__append('<div class="panel panel-default xiconfPrograms-stepPanel xiconfPrograms-stepPanel-pe">\n  <div class="panel-heading">'),__append(n+1),__append(". "),__append(t("xiconfPrograms","step:pe")),__append('</div>\n  <div class="panel-details">\n    <div class="props first">\n      '),"t24vdc"===model.type&&(__append('\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:startTime")),__append('</div>\n        <div class="prop-value">'),__append(escapeFn(time.toString(e.startTime,!1,!0))),__append('</div>\n      </div>\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:duration")),__append('</div>\n        <div class="prop-value">'),__append(escapeFn(time.toString(e.duration,!1,!0))),__append('</div>\n      </div>\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:voltage")),__append('</div>\n        <div class="prop-value">'),__append(escapeFn(e.voltage.toLocaleString())),__append('</div>\n      </div>\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:resistance:max")),__append('</div>\n        <div class="prop-value">'),__append(escapeFn(e.resistanceMax.toLocaleString())),__append("</div>\n      </div>\n      ")),__append("\n      "),"glp2"===model.type&&(__append('\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:label")),__append('</div>\n        <div class="prop-value">'),__append(escapeFn(e.label)),__append('</div>\n      </div>\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:duration")),__append('</div>\n        <div class="prop-value">'),__append(escapeFn(time.toString(e.duration,!1,!0))),__append('</div>\n      </div>\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:resistance:max")),__append('</div>\n        <div class="prop-value">'),__append(escapeFn(e.setValue.toLocaleString())),__append('</div>\n      </div>\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:current")),__append('</div>\n        <div class="prop-value">'),__append(escapeFn(e.ipr.toLocaleString())),__append('</div>\n      </div>\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:voltage")),__append('</div>\n        <div class="prop-value">'),__append(escapeFn(e.u.toLocaleString())),__append('</div>\n      </div>\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:buzzer")),__append('</div>\n        <div class="prop-value">'),__append(t("xiconfPrograms","PROPERTY:buzzer:"+e.buzzer)),__append("</div>\n      </div>\n      ")),__append("\n    </div>\n  </div>\n</div>\n")}.call(this),__append("\n")):"iso"===e.type?(__append("\n"),function(){__append('<div class="panel panel-default xiconfPrograms-stepPanel xiconfPrograms-stepPanel-iso">\n  <div class="panel-heading">'),__append(n+1),__append(". "),__append(t("xiconfPrograms","step:iso")),__append('</div>\n  <div class="panel-details">\n    <div class="props first">\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:label")),__append('</div>\n        <div class="prop-value">'),__append(escapeFn(e.label)),__append('</div>\n      </div>\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:startTime")),__append('</div>\n        <div class="prop-value">'),__append(escapeFn(time.toString(e.startTime,!1,!0))),__append('</div>\n      </div>\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:duration")),__append('</div>\n        <div class="prop-value">'),__append(escapeFn(time.toString(e.duration,!1,!0))),__append('</div>\n      </div>\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:mode")),__append('</div>\n        <div class="prop-value">'),__append(t("xiconfPrograms","glp2:iso:mode:"+e.mode)),__append('</div>\n      </div>\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","glp2:iso:mode:"+e.mode+":label")),__append('</div>\n        <div class="prop-value">'),__append(e.setValue.toLocaleString()),__append('</div>\n      </div>\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","glp2:iso:u")),__append('</div>\n        <div class="prop-value">'),__append(e.u.toLocaleString()),__append('</div>\n      </div>\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","glp2:iso:rMax")),__append('</div>\n        <div class="prop-value">'),__append(e.rMax?e.rMax.toLocaleString():"-"),__append('</div>\n      </div>\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","glp2:iso:ramp")),__append('</div>\n        <div class="prop-value">'),__append(time.toString(e.ramp,!1,!0)),__append("</div>\n      </div>\n    </div>\n  </div>\n</div>\n")}.call(this),__append("\n")):"sol"===e.type?(__append("\n"),function(){__append('<div class="panel panel-default xiconfPrograms-stepPanel xiconfPrograms-stepPanel-sol">\n  <div class="panel-heading">'),__append(n+1),__append(". "),__append(t("xiconfPrograms","step:sol")),__append('</div>\n  <div class="panel-details">\n    <div class="props first">\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:voltage")),__append('</div>\n        <div class="prop-value">'),__append(escapeFn(e.voltage.toLocaleString())),__append("</div>\n      </div>\n    </div>\n  </div>\n</div>\n")}.call(this),__append("\n")):"program"===e.type?(__append("\n"),function(){__append('<div class="panel panel-default xiconfPrograms-stepPanel xiconfPrograms-stepPanel-program">\n  <div class="panel-heading">'),__append(n+1),__append(". "),__append(t("xiconfPrograms","step:program")),__append('</div>\n  <div class="panel-details">\n    <div class="props first">\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:label")),__append('</div>\n        <div class="prop-value">'),__append(escapeFn(e.label)),__append("</div>\n      </div>\n    </div>\n  </div>\n</div>\n")}.call(this),__append("\n")):"fn"===e.type?(__append("\n"),function(){__append('<div class="panel panel-default xiconfPrograms-stepPanel xiconfPrograms-stepPanel-fn">\n  <div class="panel-heading">'),__append(n+1),__append(". "),__append(t("xiconfPrograms","step:fn")),__append('</div>\n  <div class="panel-details">\n    <div class="props first">\n      '),"t24vdc"===model.type&&(__append('\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:startTime")),__append('</div>\n        <div class="prop-value">'),__append(escapeFn(time.toString(e.startTime,!1,!0))),__append('</div>\n      </div>\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:duration")),__append('</div>\n        <div class="prop-value">'),__append(escapeFn(time.toString(e.duration,!1,!0))),__append('</div>\n      </div>\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:voltage")),__append('</div>\n        <div class="prop-value">'),__append(escapeFn(e.voltage.toLocaleString())),__append('</div>\n      </div>\n      <div class="prop">\n        '),e.powerMin===e.powerMax&&e.powerReq===e.powerMin?(__append('\n        <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:power:req")),__append('</div>\n        <div class="prop-value">'),__append(escapeFn(e.powerReq)),__append("</div>\n        ")):(__append('\n        <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:power")),__append('</div>\n        <div class="prop-value">'),__append(escapeFn(e.powerMin)),__append(" ≤ <strong>"),__append(escapeFn(e.powerReq)),__append("</strong> ≤ "),__append(escapeFn(e.powerMax)),__append("</div>\n        ")),__append("\n      </div>\n      ")),__append("\n      "),"glp2"===model.type&&(__append('\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:label")),__append('</div>\n        <div class="prop-value">'),__append(escapeFn(e.label)),__append('</div>\n      </div>\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:startTime")),__append('</div>\n        <div class="prop-value">'),__append(escapeFn(time.toString(e.startTime,!1,!0))),__append('</div>\n      </div>\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:duration")),__append('</div>\n        <div class="prop-value">'),
__append(escapeFn(time.toString(e.duration,!1,!0))),__append('</div>\n      </div>\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:mode")),__append('</div>\n        <div class="prop-value">'),__append(t("xiconfPrograms","glp2:fn:mode:"+e.mode)),__append('</div>\n      </div>\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","glp2:fn:mode:"+e.mode+":label")),__append('</div>\n        <div class="prop-value">\n          '),5===e.mode?__append("\n          -\n          "):(__append("\n          "),0!==e.lowerToleranceRel&&0!==e.upperToleranceRel?(__append("\n          "),__append((Math.round(e.setValue*((100-e.lowerToleranceRel)/100)*100)/100).toLocaleString()),__append("\n          ≤ <strong>"),__append(e.setValue.toLocaleString()),__append("</strong>\n          ≤ "),__append((Math.round(e.setValue*((100+e.upperToleranceRel)/100)*100)/100).toLocaleString()),__append("\n          ")):(__append("\n          "),__append(e.lowerToleranceAbs.toLocaleString()),__append("\n          ≤ <strong>"),__append(e.setValue.toLocaleString()),__append("</strong>\n          ≤ "),__append(e.upperToleranceAbs.toLocaleString()),__append("\n          ")),__append("\n          ")),__append('\n        </div>\n      </div>\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:trigger")),__append('</div>\n        <div class="prop-value">'),__append(t("xiconfPrograms","PROPERTY:trigger:"+e.trigger)),__append('</div>\n      </div>\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:lampCount")),__append('</div>\n        <div class="prop-value">'),__append(e.lampCount||0),__append('</div>\n      </div>\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:lampDuration")),__append('</div>\n        <div class="prop-value">'),__append(time.toString(e.lampDuration||0)),__append("</div>\n      </div>\n      ")),__append("\n    </div>\n  </div>\n</div>\n")}.call(this),__append("\n")):"vis"===e.type&&(__append("\n"),function(){__append('<div class="panel panel-default xiconfPrograms-stepPanel xiconfPrograms-stepPanel-vis">\n  <div class="panel-heading">'),__append(n+1),__append(". "),__append(t("xiconfPrograms","step:vis")),__append('</div>\n  <div class="panel-details">\n    <div class="props first">\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","PROPERTY:label")),__append('</div>\n        <div class="prop-value">'),__append(escapeFn(e.label)),__append('</div>\n      </div>\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","glp2:vis:duration")),__append('</div>\n        <div class="prop-value">'),__append(escapeFn(time.toString(e.duration,!1,!0))),__append('</div>\n      </div>\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","glp2:vis:maxDuration")),__append('</div>\n        <div class="prop-value">'),__append(escapeFn(time.toString(e.maxDuration,!1,!0))),__append('</div>\n      </div>\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","glp2:vis:mode")),__append('</div>\n        <div class="prop-value">'),__append(t("xiconfPrograms","glp2:vis:mode:"+e.mode)),__append('</div>\n      </div>\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","glp2:vis:goInput")),__append('</div>\n        <div class="prop-value">'),__append(e.goInput?t("xiconfPrograms","glp2:input:"+e.goInput):"-"),__append('</div>\n      </div>\n      <div class="prop">\n        <div class="prop-name">'),__append(t("xiconfPrograms","glp2:vis:noGoInput")),__append('</div>\n        <div class="prop-value">'),__append(e.noGoInput?t("xiconfPrograms","glp2:input:"+e.noGoInput):"-"),__append("</div>\n      </div>\n    </div>\n  </div>\n</div>\n")}.call(this),__append("\n")),__append("\n")),__append("\n")}.call(this),__append("\n  ")}),__append("\n</div>\n\n");return __output.join("")}}),define("app/xiconfPrograms/views/XiconfProgramDetailsView",["app/core/views/DetailsView","app/xiconfPrograms/templates/details"],function(e,t){"use strict";return e.extend({template:t,toggleSteps:function(){this.el.querySelector(".xiconfPrograms-stepPanel").classList.contains("is-collapsed")?this.expandSteps():this.collapseSteps()},expandSteps:function(){this.$(".xiconfPrograms-stepPanel").removeClass("is-collapsed")},collapseSteps:function(){this.$(".xiconfPrograms-stepPanel").addClass("is-collapsed")}})}),define("app/xiconfPrograms/pages/XiconfProgramDetailsPage",["app/i18n","app/user","app/core/util/pageActions","app/core/pages/DetailsPage","../views/XiconfProgramDetailsView"],function(e,t,n,r,i){"use strict";return r.extend({DetailsView:i,actions:function(){var r=this,i=[{label:e.bound(this.model.getNlsDomain(),"PAGE_ACTION:toggle"),icon:"info-circle",callback:function(){return r.view.toggleSteps(),!1}}];return t.isLocal()&&i.push(n.edit(this.model,!1),n.delete(this.model,!1)),i}})}),define("app/xiconfPrograms/templates/form",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<form class="xiconfPrograms-form" method="post" action="'),__append(formAction),__append('">\n  <input type="hidden" name="_method" value="'),__append(formMethod),__append('">\n  <div class="panel panel-primary">\n    <div class="panel-heading">'),__append(panelTitleText),__append('</div>\n    <div class="panel-body">\n      <div class="form-group">\n        <label for="'),__append(idPrefix),__append('-name" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:name")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-name" class="form-control" type="text" name="name" maxlength="100" required autofocus>\n      </div>\n      <div class="form-group">\n        <label for="'),__append(idPrefix),__append('-prodLines" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:prodLines")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-prodLines" class="form-control" type="text" name="prodLines" maxlength="200" placeholder="'),__append(t("xiconfPrograms","PROPERTY:prodLines:all")),__append('">\n      </div>\n      <div class="form-group">\n        <label for="'),__append(idPrefix),__append('-type" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:type")),__append("</label>\n        "),programTypes.forEach(function(e){__append('\n        <div class="radio">\n          <label>\n            <input id="'),__append(idPrefix),__append("-type-"),__append(e),__append('" name="type" type="radio" value="'),__append(e),__append('" required>\n            '),__append(t("xiconfPrograms","type:"+e)),__append("\n          </label>\n        </div>\n        ")}),__append('\n      </div>\n      <div id="'),__append(idPrefix),__append('-steps" class="xiconfPrograms-form-steps"></div>\n      <div class="form-group">\n        <select id="'),__append(idPrefix),__append('-stepType" class="form-control xiconfPrograms-form-stepType">\n          <option value="" disabled selected>'),__append(t("xiconfPrograms","form:steps:placeholder")),__append("</option>\n          "),stepTypes.forEach(function(e){__append('\n          <option value="'),__append(e),__append('">'),__append(t("xiconfPrograms","step:"+e)),__append("</option>\n          ")}),__append('\n        </select>\n        <button id="'),__append(idPrefix),__append('-addStep" class="btn btn-default" type="button"><i class="fa fa-plus"></i><span>'),__append(t("xiconfPrograms","form:steps:add")),__append('</span></button>\n      </div>\n    </div>\n    <div class="panel-footer">\n      <button type="submit" class="btn btn-primary">'),__append(formActionText),__append("</button>\n    </div>\n  </div>\n</form>\n");return __output.join("")}}),define("app/xiconfPrograms/templates/_waitForm",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="panel panel-default xiconfPrograms-stepPanel xiconfPrograms-stepPanel-wait">\n  <div class="panel-heading is-with-actions">\n    <span class="xiconfPrograms-form-stepNo">0.</span> '),__append(t("xiconfPrograms","step:wait")),__append("\n    "),function(){__append('<div class="panel-actions">\n  <button class="btn btn-default" type="button" role="moveStepUp"><i class="fa fa-arrow-up"></i></button>\n  <button class="btn btn-default" type="button" role="moveStepDown"><i class="fa fa-arrow-down"></i></button>\n  <button class="btn btn-danger" type="button" role="removeStep"><i class="fa fa-times"></i></button>\n</div>')}.call(this),__append('\n  </div>\n  <div class="panel-body has-lastElementRow">\n    <div class="row">\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-duration" class="control-label">'),__append(t("xiconfPrograms","PROPERTY:waitKind")),__append('</label>\n        <div class="radio">\n          <label>\n            <input type="radio" class="programs-form-waitKind" name="steps['),__append(stepIndex),__append('].kind" value="manual"> '),__append(t("xiconfPrograms","PROPERTY:waitKind:manual")),__append('\n          </label>\n        </div>\n        <div class="radio">\n          <label>\n            <input type="radio" class="programs-form-waitKind" name="steps['),__append(stepIndex),__append('].kind" value="auto" checked> '),__append(t("xiconfPrograms","PROPERTY:waitKind:auto")),__append('\n          </label>\n        </div>\n        <input id="'),__append(idPrefix),__append('-duration" class="form-control xiconfPrograms-form-duration xiconfPrograms-form-waitDuration" type="text" name="steps['),__append(stepIndex),__append('].duration" value="2s" required>\n      </div>\n    </div>\n    '),"t24vdc"===programType&&(__append('\n    <div class="row">\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-voltage" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:voltage")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-voltage" class="form-control" type="number" name="steps['),__append(stepIndex),__append('].voltage" min="0" max="99.9" step="0.1" value="0" required>\n      </div>\n    </div>\n    ')),__append("\n  </div>\n  "),"glp2"===programType&&(__append('\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].voltage" value="0">\n  ')),__append('\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].type" value="wait">\n</div>\n');return __output.join("")}}),define("app/xiconfPrograms/templates/_peForm",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="panel panel-default xiconfPrograms-stepPanel xiconfPrograms-stepPanel-pe">\n  <div class="panel-heading is-with-actions">\n    <span class="xiconfPrograms-form-stepNo">0.</span> '),__append(t("xiconfPrograms","step:pe")),__append("\n    "),function(){__append('<div class="panel-actions">\n  <button class="btn btn-default" type="button" role="moveStepUp"><i class="fa fa-arrow-up"></i></button>\n  <button class="btn btn-default" type="button" role="moveStepDown"><i class="fa fa-arrow-down"></i></button>\n  <button class="btn btn-danger" type="button" role="removeStep"><i class="fa fa-times"></i></button>\n</div>')}.call(this),__append("\n  </div>\n  "),"t24vdc"===programType&&(__append('\n  <div class="panel-body has-lastElementRow">\n    <div class="row">\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-startTime" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:startTime")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-startTime" class="form-control xiconfPrograms-form-duration" type="text" name="steps['),__append(stepIndex),__append('].startTime" value="2s" required>\n      </div>\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-duration" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:duration")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-duration" class="form-control xiconfPrograms-form-duration" type="text" name="steps['),__append(stepIndex),__append('].duration" value="3s" required>\n      </div>\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-totalTime" class="control-label">'),__append(t("xiconfPrograms","PROPERTY:totalTime")),__append('</label>\n        <p class="form-control-static xiconfPrograms-form-totalTime">5s</p>\n      </div>\n    </div>\n    <div class="row">\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-voltage" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:voltage")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-voltage" class="form-control" type="number" name="steps['),__append(stepIndex),__append('].voltage" min="0.1" max="99.9" step="0.1" value="10" required>\n      </div>\n    </div>\n    <div class="row">\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-resistanceMax" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:resistance:max")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-resistanceMax" class="form-control" type="number" name="steps['),__append(stepIndex),__append('].resistanceMax" min="0.001" step="0.001" value="1" required>\n      </div>\n    </div>\n  </div>\n  ')),__append("\n  "),"glp2"===programType&&(__append('\n  <div class="panel-body">\n    <div class="row">\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-label" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:label")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-label" class="form-control" type="text" name="steps['),__append(stepIndex),__append('].label" value="'),__append(t("xiconfPrograms","step:pe")),__append('" required maxlength="32">\n      </div>\n    </div>\n    <div class="row">\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-duration" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:duration")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-duration" class="form-control xiconfPrograms-form-duration" type="text" name="steps['),__append(stepIndex),__append('].duration" value="1s" required>\n      </div>\n    </div>\n    <div class="row">\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-setValue" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:resistance:max")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-setValue" class="form-control" type="number" name="steps['),__append(stepIndex),__append('].setValue" min="0.01" max="3.00" step="0.01" value="0.2" required>\n      </div>\n    </div>\n    <div class="row">\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-ipr" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:current")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-ipr" class="form-control" type="number" name="steps['),__append(stepIndex),__append('].ipr" min="1" max="30" step="1" value="10" required>\n      </div>\n    </div>\n    <div class="form-group">\n      <label for="'),__append(idPrefix),__append('-u" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:voltage")),__append('</label>\n      <div class="radio-inline-group">\n        <label class="radio-inline"><input type="radio" name="steps['),__append(stepIndex),__append('].u" value="6" required> 6</label>\n        <label class="radio-inline"><input type="radio" name="steps['),__append(stepIndex),__append('].u" value="12" checked required> 12</label>\n      </div>\n    </div>\n    <div class="form-group">\n      <label for="'),__append(idPrefix),__append('-u" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:buzzer")),__append('</label>\n      <div class="radio-inline-group">\n        <label class="radio-inline"><input type="radio" name="steps['),__append(stepIndex),__append('].buzzer" value="0" checked required> '),__append(t("xiconfPrograms","PROPERTY:buzzer:0")),__append('</label>\n        <label class="radio-inline"><input type="radio" name="steps['),__append(stepIndex),__append('].buzzer" value="1" required> '),__append(t("xiconfPrograms","PROPERTY:buzzer:1")),__append('</label>\n      </div>\n    </div>\n  </div>\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].directConnection" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].startOnTouch" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].multi" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].setProbe" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].retries" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].cancelOnFailure" value="1">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].minSetValue" value="0">\n  ')),__append('\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].type" value="pe">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].enabled" value="1">\n</div>\n');return __output.join("")}}),define("app/xiconfPrograms/templates/_isoForm",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="panel panel-default xiconfPrograms-stepPanel xiconfPrograms-stepPanel-iso xiconfPrograms-stepPanel-glp2">\n  <div class="panel-heading is-with-actions">\n    <span class="xiconfPrograms-form-stepNo">0.</span> '),__append(t("xiconfPrograms","step:iso")),__append("\n    "),function(){__append('<div class="panel-actions">\n  <button class="btn btn-default" type="button" role="moveStepUp"><i class="fa fa-arrow-up"></i></button>\n  <button class="btn btn-default" type="button" role="moveStepDown"><i class="fa fa-arrow-down"></i></button>\n  <button class="btn btn-danger" type="button" role="removeStep"><i class="fa fa-times"></i></button>\n</div>')}.call(this),__append('\n  </div>\n  <div class="panel-body has-lastElementRow">\n    <div class="row">\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-label" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:label")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-label" class="form-control" type="text" name="steps['),__append(stepIndex),__append('].label" value="'),__append(t("xiconfPrograms","step:iso")),__append('" required maxlength="32">\n      </div>\n    </div>\n    <div class="row">\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-startTime" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:startTime")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-startTime" class="form-control xiconfPrograms-form-duration" type="text" name="steps['),__append(stepIndex),__append('].startTime" value="0s" required>\n      </div>\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-duration" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:duration")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-duration" class="form-control xiconfPrograms-form-duration" type="text" name="steps['),__append(stepIndex),__append('].duration" value="1s" required>\n      </div>\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-totalTime" class="control-label">'),__append(t("xiconfPrograms","PROPERTY:totalTime")),__append('</label>\n        <p class="form-control-static xiconfPrograms-form-totalTime">1s</p>\n      </div>\n    </div>\n    <div class="row">\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-mode" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:mode")),__append('</label>\n        <select id="'),__append(idPrefix),__append('-mode" class="form-control xiconfPrograms-form-glp2-mode" name="steps['),__append(stepIndex),__append('].mode" required>\n          <option value="0" data-label="glp2:iso:mode:0:label" data-min="1.0" data-max="500.0" data-step="0.1" selected>'),__append(t("xiconfPrograms","glp2:iso:mode:0")),__append('</option>\n          <option value="1" data-label="glp2:iso:mode:1:label" data-min="0.001" data-max="3.000" data-step="0.001">'),__append(t("xiconfPrograms","glp2:iso:mode:1")),__append('</option>\n          <option value="2" data-label="glp2:iso:mode:2:label" data-min="10" data-max="1000" data-step="1">'),__append(t("xiconfPrograms","glp2:iso:mode:2")),__append('</option>\n        </select>\n      </div>\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-setValue" class="control-label is-required">'),__append(t("xiconfPrograms","glp2:iso:mode:0:label")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-setValue" class="form-control xiconfPrograms-form-glp2-setValue" type="number" name="steps['),__append(stepIndex),__append('].setValue" min="1.0" max="500.0" step="0.1" value="2" required>\n      </div>\n    </div>\n    <div class="row">\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-u" class="control-label is-required">'),__append(t("xiconfPrograms","glp2:iso:u")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-u" class="form-control" type="number" name="steps['),__append(stepIndex),__append('].u" min="100" max="1000" step="1" value="500" required>\n      </div>\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-rMax" class="control-label is-required">'),__append(t("xiconfPrograms","glp2:iso:rMax")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-rMax" class="form-control" type="number" name="steps['),__append(stepIndex),__append('].rMax" min="0" max="500" step="1" value="0" required>\n      </div>\n    </div>\n    <div class="row">\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-ramp" class="control-label is-required">'),__append(t("xiconfPrograms","glp2:iso:ramp")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-ramp" class="form-control xiconfPrograms-form-duration" type="text" name="steps['),__append(stepIndex),__append('].ramp" data-min="0" data-max="60" value="0s" required>\n      </div>\n    </div>\n  </div>\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].probe" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].connection" value="1">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].retries" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].cancelOnFailure" value="1">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].enabled" value="1">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].multi" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].minSetValue" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].type" value="iso">\n</div>\n');return __output.join("")}}),define("app/xiconfPrograms/templates/_solForm",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="panel panel-default xiconfPrograms-stepPanel xiconfPrograms-stepPanel-sol">\n  <div class="panel-heading is-with-actions">\n    <span class="xiconfPrograms-form-stepNo">0.</span> '),__append(t("xiconfPrograms","step:sol")),__append("\n    "),function(){__append('<div class="panel-actions">\n  <button class="btn btn-default" type="button" role="moveStepUp"><i class="fa fa-arrow-up"></i></button>\n  <button class="btn btn-default" type="button" role="moveStepDown"><i class="fa fa-arrow-down"></i></button>\n  <button class="btn btn-danger" type="button" role="removeStep"><i class="fa fa-times"></i></button>\n</div>')}.call(this),__append('\n  </div>\n  <div class="panel-body row has-lastElementRow">\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-sol-voltage" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:voltage")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-sol-voltage" class="form-control" type="number" name="steps['),__append(stepIndex),__append('].voltage" min="0.1" max="99.9" step="0.1" value="12" required>\n    </div>\n  </div>\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].type" value="sol">\n</div>\n');return __output.join("")}}),define("app/xiconfPrograms/templates/_programForm",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="panel panel-default xiconfPrograms-stepPanel xiconfPrograms-stepPanel-program">\n  <div class="panel-heading is-with-actions">\n    <span class="xiconfPrograms-form-stepNo">0.</span> '),__append(t("xiconfPrograms","step:program")),__append("\n    "),function(){__append('<div class="panel-actions">\n  <button class="btn btn-default" type="button" role="moveStepUp"><i class="fa fa-arrow-up"></i></button>\n  <button class="btn btn-default" type="button" role="moveStepDown"><i class="fa fa-arrow-down"></i></button>\n  <button class="btn btn-danger" type="button" role="removeStep"><i class="fa fa-times"></i></button>\n</div>')}.call(this),__append('\n  </div>\n  <div class="panel-body has-lastElementRow">\n    <div class="row">\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-label" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:label")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-label" class="form-control" type="text" name="steps['),__append(stepIndex),__append('].label" value="'),__append(t("xiconfPrograms","step:program")),__append('" required maxlength="32">\n      </div>\n    </div>\n  </div>\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].setValue" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].upperToleranceRel" value="100">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].startTime" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].duration" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].execution" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].range" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].voltage" value="230">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].lowerToleranceAbs" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].upperToleranceAbs" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].correction" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].mode" value="5">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].leaveOn" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].uTolerance" value="100">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].retries" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].lowerToleranceRel" value="100">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].cancelOnFailure" value="1">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].visMode" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].goInput" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].noGoInput" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].enabled" value="1">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].rsvChannel" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].rsvNumber" value="1">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].multi" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].trigger" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].type" value="program">\n</div>\n');return __output.join("")}}),define("app/xiconfPrograms/templates/_fnForm",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="panel panel-default xiconfPrograms-stepPanel xiconfPrograms-stepPanel-fn xiconfPrograms-stepPanel-'),__append(programType),__append('">\n  <div class="panel-heading is-with-actions">\n    <span class="xiconfPrograms-form-stepNo">0.</span> '),__append(t("xiconfPrograms","step:fn")),__append("\n    "),function(){__append('<div class="panel-actions">\n  <button class="btn btn-default" type="button" role="moveStepUp"><i class="fa fa-arrow-up"></i></button>\n  <button class="btn btn-default" type="button" role="moveStepDown"><i class="fa fa-arrow-down"></i></button>\n  <button class="btn btn-danger" type="button" role="removeStep"><i class="fa fa-times"></i></button>\n</div>');
}.call(this),__append("\n  </div>\n  "),"t24vdc"===programType&&(__append('\n  <div class="panel-body has-lastElementRow">\n    <div class="row">\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-startTime" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:startTime")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-startTime" class="form-control xiconfPrograms-form-duration" type="text" name="steps['),__append(stepIndex),__append('].startTime" value="2s" required>\n      </div>\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-duration" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:duration")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-duration" class="form-control xiconfPrograms-form-duration" type="text" name="steps['),__append(stepIndex),__append('].duration" value="28s" required>\n      </div>\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-totalTime" class="control-label">'),__append(t("xiconfPrograms","PROPERTY:totalTime")),__append('</label>\n        <p class="form-control-static xiconfPrograms-form-totalTime">30s</p>\n      </div>\n    </div>\n    <div class="row">\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-voltage" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:voltage")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-voltage" class="form-control" type="number" name="steps['),__append(stepIndex),__append('].voltage" min="0.1" max="99.9" step="0.1" value="12" required>\n      </div>\n    </div>\n    <div class="row">\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-powerReq" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:power:req")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-powerReq" class="form-control" type="number" name="steps['),__append(stepIndex),__append('].powerReq" min="1" step="1" value="100" required>\n      </div>\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-powerRel" class="control-label">'),__append(t("xiconfPrograms","PROPERTY:power:rel")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-powerRel" class="form-control" type="number" name="steps['),__append(stepIndex),__append('].powerRel" min="0" max="100" value="5" step="1">\n      </div>\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-powerMin" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:power:min")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-powerMin" class="form-control" type="number" name="steps['),__append(stepIndex),__append('].powerMin" min="0" step="1" value="95" required>\n      </div>\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-powerMax" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:power:max")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-powerMax" class="form-control" type="number" name="steps['),__append(stepIndex),__append('].powerMax" min="0" step="1" value="105" required>\n      </div>\n    </div>\n  </div>\n  ')),__append("\n  "),"glp2"===programType&&(__append('\n  <div class="panel-body has-lastElementRow">\n    <div class="row">\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-label" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:label")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-label" class="form-control" type="text" name="steps['),__append(stepIndex),__append('].label" value="'),__append(t("xiconfPrograms","step:fn")),__append('" required maxlength="32">\n      </div>\n    </div>\n    <div class="row">\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-startTime" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:startTime")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-startTime" class="form-control xiconfPrograms-form-duration" type="text" name="steps['),__append(stepIndex),__append('].startTime" value="5s" required>\n      </div>\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-duration" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:duration")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-duration" class="form-control xiconfPrograms-form-duration" type="text" name="steps['),__append(stepIndex),__append('].duration" value="5s" required>\n      </div>\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-totalTime" class="control-label">'),__append(t("xiconfPrograms","PROPERTY:totalTime")),__append('</label>\n        <p class="form-control-static xiconfPrograms-form-totalTime">10s</p>\n      </div>\n    </div>\n    <div class="row">\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-mode" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:mode")),__append('</label>\n        <select id="'),__append(idPrefix),__append('-mode" class="form-control xiconfPrograms-form-glp2-mode" name="steps['),__append(stepIndex),__append('].mode" required>\n          <option value="0" data-label="glp2:fn:mode:0:label" data-min="0.01" data-max="64" data-step="0.01">'),__append(t("xiconfPrograms","glp2:fn:mode:0")),__append('</option>\n          <option value="1" data-label="glp2:fn:mode:1:label" data-min="1" data-max="15000" data-step="0.1">'),__append(t("xiconfPrograms","glp2:fn:mode:1")),__append('</option>\n          <option value="2" data-label="glp2:fn:mode:2:label" data-min="1" data-max="15000" data-step="0.1" selected>'),__append(t("xiconfPrograms","glp2:fn:mode:2")),__append('</option>\n          <option value="3" data-label="glp2:fn:mode:3:label" data-min="0.01" data-max="1" data-step="0.01">'),__append(t("xiconfPrograms","glp2:fn:mode:3")),__append('</option>\n          <option value="5" data-label="glp2:fn:mode:5:label">'),__append(t("xiconfPrograms","glp2:fn:mode:5")),__append('</option>\n          <option value="6" data-label="glp2:fn:mode:6:label" data-min="20" data-max="300" data-step="1">'),__append(t("xiconfPrograms","glp2:fn:mode:6")),__append('</option>\n        </select>\n      </div>\n    </div>\n    <div class="row">\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-setValue" class="control-label is-required">'),__append(t("xiconfPrograms","glp2:fn:mode:2:label")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-setValue" class="form-control xiconfPrograms-form-glp2-setValue" type="number" name="steps['),__append(stepIndex),__append('].setValue" min="1" max="15000" step="1" value="40" required>\n      </div>\n    </div>\n    <div class="row xiconfPrograms-form-glp2-tolerances">\n      <div class="form-group col-md-3">\n        <label class="control-label is-required"><input class="xiconfPrograms-form-glp2-tolerance" type="radio" name="'),__append(idPrefix),__append('-tolerance" value="rel" checked> '),__append(t("xiconfPrograms","PROPERTY:lowerTolerance")),__append(' [%]</label>\n        <input class="form-control" type="number" name="steps['),__append(stepIndex),__append('].lowerToleranceRel" min="0" max="100" value="11" step="1" required>\n      </div>\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-upperToleranceRel" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:upperTolerance")),__append(' [%]</label>\n        <input id="'),__append(idPrefix),__append('-upperToleranceRel" class="form-control" type="number" name="steps['),__append(stepIndex),__append('].upperToleranceRel" min="0" max="100" value="11" step="1" required>\n      </div>\n      <div class="form-group col-md-3">\n        <label class="control-label is-required"><input class="xiconfPrograms-form-glp2-tolerance" type="radio" name="'),__append(idPrefix),__append('-tolerance" value="abs"> '),__append(t("xiconfPrograms","PROPERTY:lowerTolerance")),__append('<span></span></label>\n        <input class="form-control" type="number" name="steps['),__append(stepIndex),__append('].lowerToleranceAbs" min="0" step="0.1" value="0" required readonly>\n      </div>\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-upperToleranceAbs" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:upperTolerance")),__append('<span></span></label>\n        <input id="'),__append(idPrefix),__append('-upperToleranceAbs" class="form-control" type="number" name="steps['),__append(stepIndex),__append('].upperToleranceAbs" min="0" step="0.1" value="0" required readonly>\n      </div>\n    </div>\n    <div class="form-group">\n      <label for="'),__append(idPrefix),__append('-trigger" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:trigger")),__append('</label>\n      <div class="radio-inline-group">\n        <label class="radio-inline"><input type="radio" name="steps['),__append(stepIndex),__append('].trigger" value="0" checked required> '),__append(t("xiconfPrograms","PROPERTY:trigger:0")),__append('</label>\n        <label class="radio-inline"><input type="radio" name="steps['),__append(stepIndex),__append('].trigger" value="1" required> '),__append(t("xiconfPrograms","PROPERTY:trigger:1")),__append('</label>\n        <label class="radio-inline"><input type="radio" name="steps['),__append(stepIndex),__append('].trigger" value="2" required> '),__append(t("xiconfPrograms","PROPERTY:trigger:2")),__append('</label>\n      </div>\n    </div>\n    <div class="row">\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-lampCount" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:lampCount")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-lampCount" class="form-control" type="number" name="steps['),__append(stepIndex),__append('].lampCount" min="0" max="2" step="1" value="0" required>\n      </div>\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-lampDuration" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:lampDuration")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-lampDuration" class="form-control" type="number" name="steps['),__append(stepIndex),__append('].lampDuration" min="1" max="3600" step="1" value="1" required>\n      </div>\n    </div>\n  </div>\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].execution" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].range" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].voltage" value="230">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].correction" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].leaveOn" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].uTolerance" value="10">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].retries" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].cancelOnFailure" value="1">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].visMode" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].goInput" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].noGoInput" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].enabled" value="1">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].rsvChannel" value="0">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].rsvNumber" value="1">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].multi" value="0">\n  ')),__append('\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].type" value="fn">\n</div>\n');return __output.join("")}}),define("app/xiconfPrograms/templates/_visForm",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="panel panel-default xiconfPrograms-stepPanel xiconfPrograms-stepPanel-vis">\n  <div class="panel-heading is-with-actions">\n    <span class="xiconfPrograms-form-stepNo">0.</span> '),__append(t("xiconfPrograms","step:vis")),__append("\n    "),function(){__append('<div class="panel-actions">\n  <button class="btn btn-default" type="button" role="moveStepUp"><i class="fa fa-arrow-up"></i></button>\n  <button class="btn btn-default" type="button" role="moveStepDown"><i class="fa fa-arrow-down"></i></button>\n  <button class="btn btn-danger" type="button" role="removeStep"><i class="fa fa-times"></i></button>\n</div>')}.call(this),__append('\n  </div>\n  <div class="panel-body has-lastElementRow">\n    <div class="row">\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-label" class="control-label is-required">'),__append(t("xiconfPrograms","PROPERTY:label")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-label" class="form-control" type="text" name="steps['),__append(stepIndex),__append('].label" value="'),__append(t("xiconfPrograms","step:vis")),__append('" required maxlength="32">\n      </div>\n    </div>\n    <div class="row">\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-duration" class="control-label is-required">'),__append(t("xiconfPrograms","glp2:vis:duration")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-duration" class="form-control xiconfPrograms-form-duration" type="text" name="steps['),__append(stepIndex),__append('].duration" value="5s" required>\n      </div>\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-maxDuration" class="control-label is-required">'),__append(t("xiconfPrograms","glp2:vis:maxDuration")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-maxDuration" class="form-control xiconfPrograms-form-duration" type="text" name="steps['),__append(stepIndex),__append('].maxDuration" value="10s" required>\n      </div>\n    </div>\n    <div class="row">\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-mode" class="control-label is-required">'),__append(t("xiconfPrograms","glp2:vis:mode")),__append('</label>\n        <select id="'),__append(idPrefix),__append('-mode" class="form-control" name="steps['),__append(stepIndex),__append('].mode" required>\n          <option value="0" data-label="glp2:vis:mode:0:label">'),__append(t("xiconfPrograms","glp2:vis:mode:0")),__append('</option>\n          <option value="1" data-label="glp2:vis:mode:1:label">'),__append(t("xiconfPrograms","glp2:vis:mode:1")),__append('</option>\n        </select>\n      </div>\n    </div>\n    <div class="row">\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-goInput" class="control-label">'),__append(t("xiconfPrograms","glp2:vis:goInput")),__append('</label>\n        <select id="'),__append(idPrefix),__append('-goInput" class="form-control" name="steps['),__append(stepIndex),__append('].goInput" required>\n          <option value="0"></option>\n          '),inputs.forEach(function(e){__append('\n          <option value="'),__append(e),__append('">'),__append(t("xiconfPrograms","glp2:input:"+e)),__append("</option>\n          ")}),__append('\n        </select>\n      </div>\n      <div class="form-group col-md-3">\n        <label for="'),__append(idPrefix),__append('-noGoInput" class="control-label">'),__append(t("xiconfPrograms","glp2:vis:noGoInput")),__append('</label>\n        <select id="'),__append(idPrefix),__append('-noGoInput" class="form-control" name="steps['),__append(stepIndex),__append('].noGoInput" required>\n          <option value="0"></option>\n          '),inputs.forEach(function(e){__append('\n          <option value="'),__append(e),__append('">'),__append(t("xiconfPrograms","glp2:input:"+e)),__append("</option>\n          ")}),__append('\n        </select>\n      </div>\n    </div>\n  </div>\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].cancelOnFailure" value="1">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].enabled" value="1">\n  <input type="hidden" name="steps['),__append(stepIndex),__append('].type" value="vis">\n</div>\n');return __output.join("")}}),define("app/xiconfPrograms/views/XiconfProgramFormView",["jquery","underscore","app/i18n","app/time","app/core/views/FormView","../XiconfProgram","app/xiconfPrograms/templates/form","app/xiconfPrograms/templates/_waitForm","app/xiconfPrograms/templates/_peForm","app/xiconfPrograms/templates/_isoForm","app/xiconfPrograms/templates/_solForm","app/xiconfPrograms/templates/_programForm","app/xiconfPrograms/templates/_fnForm","app/xiconfPrograms/templates/_visForm"],function(e,t,n,r,i,o,a,s,l,p,c,u,d,f){"use strict";var h={wait:s,pe:l,iso:p,sol:c,program:u,fn:d,vis:f},g=["startTime","duration","maxDuration","ramp"];return i.extend({template:a,events:t.extend({"blur .xiconfPrograms-form-duration":function(e){e.target.value=r.toString(r.toSeconds(e.target.value),!1,!0),this.recalcTotalTime(this.$(e.target).closest(".panel-body"))},"click #-addStep":function(){var e=this.$id("stepType")[0],t=e.value;return""===t?void e.focus():(e.selectedIndex=0,this.addStep(t).find("input").first().focus(),this.validateSteps(),void this.recalcStepNo())},'click .btn[role="moveStepUp"]':function(e){var t=this.$(e.currentTarget).closest(".panel"),n=t.prev();n.length&&(t.insertBefore(n),this.recalcStepNo(),e.currentTarget.focus())},'click .btn[role="moveStepDown"]':function(e){var t=this.$(e.currentTarget).closest(".panel"),n=t.next();n.length&&(t.insertAfter(n),this.recalcStepNo(),e.currentTarget.focus())},'click .btn[role="removeStep"]':function(t){this.$(t.currentTarget).closest(".panel").fadeOut("fast",function(){e(this).remove()})},'change [name="type"]':function(e){this.$id("steps").empty();var t=this.$id("stepType");t.find('option[value!=""]').remove(),o.TYPES_TO_STEPS[e.target.value].forEach(function(e){t.append('<option value="'+e+'">'+n("xiconfPrograms","step:"+e)+"</option>")})},'change [name$="uration"]':function(e){this.validateDuration(this.$(e.target))},'change [name$="powerReq"], [name$="powerRel"]':function(e){var t=this.getPowerData(e.target);if(""!==t.rel){var n=t.rel/100;t.min=Math.round(t.req*(1-n)),t.max=Math.round(t.req*(1+n))}this.setPowerData(t)},'change [name$="powerMin"], [name$="powerMax"]':function(e){var t=this.getPowerData(e.target),n=Math.abs(Math.round(100-t.min/t.req*100)),r=Math.abs(Math.round(100-t.max/t.req*100));t.rel=n===r?n:"",this.setPowerData(t)},"change .xiconfPrograms-form-glp2-mode":function(e){this.updateGlp2SetValue(this.$(e.currentTarget).closest(".panel"))},"change .xiconfPrograms-form-glp2-tolerance":function(e){this.toggleGlp2Tolerance(this.$(e.currentTarget).closest(".panel"))},'change .xiconfPrograms-form-glp2-tolerances input[type="number"]':function(e){this.recalcGlp2Tolerance(this.$(e.currentTarget).closest(".panel"))},"change .xiconfPrograms-form-glp2-setValue":function(e){this.recalcGlp2Tolerance(this.$(e.currentTarget).closest(".panel"))}},i.prototype.events),initialize:function(){i.prototype.initialize.apply(this,arguments),this.nextStepIndex=0},afterRender:function(){var t=this,n=this.options.editMode===!0;this.nextStepIndex=0,this.model.get("steps").forEach(function(e){e.enabled&&this.addStep(e.type,t.model.get("type"))},this),i.prototype.afterRender.call(this),this.recalcStepNo(),this.validateSteps(),this.$(".xiconfPrograms-stepPanel").each(function(){var r=e(this);t.recalcTotalTime(r),t.recalcPower(r),t.updateGlp2SetValue(r,!n)})},serialize:function(){return t.extend(i.prototype.serialize.call(this),{programTypes:Object.keys(o.TYPES_TO_STEPS),stepTypes:o.TYPES_TO_STEPS[this.model.get("type")]})},serializeToForm:function(){var e=this.model.toJSON();return e.steps=t.map(t.where(e.steps,{enabled:!0}),function(e){return t.forEach(g,function(t){void 0!==e[t]&&(e[t]=r.toString(e[t]))}),e}),e},serializeForm:function(e){return e.prodLines=(e.prodLines||"").split(";").map(function(e){return e.trim()}).filter(function(e){return e.length>0}).join("; "),e.steps=t.map(e.steps,function(e){return e.enabled=!0,t.forEach(g,function(t){void 0!==e[t]&&(e[t]=r.toSeconds(e[t]))}),Object.keys(e).forEach(function(t){var n=e[t];"string"==typeof n&&/^[0-9]+(\.[0-9]+)?$/.test(n)&&(e[t]=parseFloat(e[t]))}),e}),e},addStep:function(t,n){var r=h[t];if(!r)throw new Error("Invalid step type: "+t);n||(n=this.$('[name="type"]:checked').val());var i=e(r({idPrefix:this.idPrefix+"-"+this.nextStepIndex,stepIndex:this.nextStepIndex,programType:n,inputs:o.GLP2_INPUTS}));return this.$id("steps").append(i),++this.nextStepIndex,this.recalcTotalTime(i),i},getPowerData:function(e){var t=this.$(e).closest(".row"),n=t.find('input[name$="powerReq"]'),r=t.find('input[name$="powerRel"]'),i=t.find('input[name$="powerMin"]'),o=t.find('input[name$="powerMax"]');return{$req:n,$rel:r,$min:i,$max:o,req:parseInt(n.val(),10)||0,rel:parseInt(r.val(),10)||"",min:parseInt(i.val(),10)||0,max:parseInt(o.val(),10)||0}},setPowerData:function(e){e.req<e.min&&(e.min=e.req),e.req>e.max&&(e.max=e.req),e.$req.val(e.req),e.$rel.val(e.rel||""),e.$min.val(e.min),e.$max.val(e.max)},validateDuration:function(e){if(e.length){var t=r.toSeconds(e.val())<1;e[0].setCustomValidity(t?n("xiconfPrograms","FORM:ERROR:minDuration"):"");var i=e.closest(".xiconfPrograms-stepPanel-vis");if(i.length){var o=i.find('input[name$="duration"]'),a=i.find('input[name$="maxDuration"]'),s=r.toSeconds(o.val()),l=r.toSeconds(a.val()),p="";if(s<l){if(t&&e[0]===a[0])return}else p=n("xiconfPrograms","FORM:ERROR:minMaxDurations");a[0].setCustomValidity(p)}}},validateSteps:function(){this.$id("stepType")[0].setCustomValidity(this.$id("steps").children().length?"":n("xiconfPrograms","FORM:ERROR:requiredStep"))},recalcStepNo:function(){this.$(".xiconfPrograms-form-stepNo").each(function(e){this.innerText=e+1+"."})},recalcTotalTime:function(e){var t=e.find(".xiconfPrograms-form-totalTime");if(t.length){var n=0;e.find(".xiconfPrograms-form-duration").each(function(){n+=r.toSeconds(this.value)}),t.text(r.toString(n,!1,!0))}},recalcPower:function(e){var t=e.find('input[name$="powerMin"]');t.length||t.change()},updateGlp2SetValue:function(e,t){if(e.hasClass("xiconfPrograms-stepPanel-glp2")){var r=e.find('[name$="mode"]'),i=r.find("option[value="+r.val()+"]")[0],o=i.dataset,a=e.find('[name$="setValue"]'),s=a.closest(".form-group").find("label"),l=e.find(".xiconfPrograms-form-glp2-tolerances"),p=l.find('[name$="lowerToleranceAbs"]'),c=l.find('[name$="upperToleranceAbs"]'),u=n("xiconfPrograms",o.label);if(s.html(u),void 0===o.min?(a.prop({min:0,max:1,step:1,value:0,readonly:!0}),l.find('input[type="number"]').prop({value:0,readonly:!0})):(a.prop({min:o.min,max:o.max,step:o.step,value:t?o.min:a.val(),readonly:!1}),p.prop("step",o.step),c.prop("step",o.step)),l.length){var d=u.match(/( \[.*?\])/),f=d?d[1]:"";p.prev().find("span").html(f),c.prev().find("span").html(f),this.toggleGlp2Tolerance(e,t)}}},toggleGlp2Tolerance:function(e,t){var n="5"===e.find('[name$="mode"]').val(),r=e.find(".xiconfPrograms-form-glp2-tolerance:checked").val(),i=e.find('[name$="lowerToleranceRel"]'),o=e.find('[name$="upperToleranceRel"]');void 0===r&&(r="0"===i.val()&&"0"===o.val()?"abs":"rel",e.find('.xiconfPrograms-form-glp2-tolerance[value="'+r+'"]').prop("checked",!0));var a="rel"===r,s=e.find('[name$="lowerToleranceAbs"]'),l=e.find('[name$="upperToleranceAbs"]'),p=n||!a,c=n||a;i.prop("readonly",p),o.prop("readonly",p),s.prop("readonly",c),l.prop("readonly",c),t!==!1&&(i.val(p?"0":"10"),o.val(p?"0":"10"),s.val("0"),l.val("0")),this.recalcGlp2Tolerance(e)},recalcGlp2Tolerance:function(e){var t=e.find('[name$="lowerToleranceRel"]');if(t.length){var n=e.find('[name$="upperToleranceRel"]'),r=e.find('[name$="lowerToleranceAbs"]'),i=e.find('[name$="upperToleranceAbs"]'),o=parseFloat(e.find('[name$="setValue"]').val()),a=!t.prop("readonly");if(a){var s=r.attr("step").split("."),l=2===s.length?s[1].length:0,p=o*((100-parseInt(t.val(),10))/100),c=o*((100+parseInt(n.val(),10))/100);r.val(p.toFixed(l)),i.val(c.toFixed(l))}else t.val("0"),n.val("0")}}})}),define("app/nls/xiconfPrograms",["app/nls/locale/en"],function(e){var t={lc:{pl:function(t){return e(t)},en:function(t){return e(t)}},c:function(e,t){if(!e)throw new Error("MessageFormat: Data required for '"+t+"'.")},n:function(e,t,n){if(isNaN(e[t]))throw new Error("MessageFormat: '"+t+"' isn't a number.");return e[t]-(n||0)},v:function(e,n){return t.c(e,n),e[n]},p:function(e,n,r,i,o){return t.c(e,n),e[n]in o?o[e[n]]:(n=t.lc[i](e[n]-r),n in o?o[n]:o.other)},s:function(e,n,r){return t.c(e,n),e[n]in r?r[e[n]]:r.other}};return{root:{"BREADCRUMBS:browse":function(e){return"Programs"},"BREADCRUMBS:addForm":function(e){return"Adding"},"BREADCRUMBS:editForm":function(e){return"Editing"},"BREADCRUMBS:ACTION_FORM:delete":function(e){return"Deleting"},"MSG:LOADING_FAILURE":function(e){return"Failed to load the programs :("},"MSG:LOADING_SINGLE_FAILURE":function(e){return"Filed to load the program :("},"MSG:DELETED":function(e){return"Program <em>"+t.v(e,"label")+"</em> was deleted."},"PAGE_ACTION:add":function(e){return"Add program"},"PAGE_ACTION:edit":function(e){return"Edit program"},"PAGE_ACTION:delete":function(e){return"Delete program"},"PAGE_ACTION:sync":function(e){return"Synchronize programs"},"PAGE_ACTION:toggle":function(e){return"Toggle details"},"PANEL:TITLE:details":function(e){return"Program details"},"PANEL:TITLE:addForm":function(e){return"Program add form"},"PANEL:TITLE:editForm":function(e){return"Program edit form"},"step:wait":function(e){return"Wait"},"step:pe":function(e){return"Protective earth test"},"step:iso":function(e){return"Isolation resistance test"},"step:sol":function(e){return"Fortimo Solar programming"},"step:sol:label":function(e){return"prg"},"step:program":function(e){return"Programowanie"},"step:program:label":function(e){return"prg"},"step:fn":function(e){return"Functional test"},"step:fn:label":function(e){return"fct"},"step:vis":function(e){return"Visual check"},"type:t24vdc":function(e){return"24V DC"},"type:glp2":function(e){return"GLP2-I"},"glp2:fn:mode:0":function(e){return"Current test"},"glp2:fn:mode:0:label":function(e){return"Current [A]"},"glp2:fn:mode:1":function(e){return"Apparent power test"},"glp2:fn:mode:1:label":function(e){return"Apparent power [W]"},"glp2:fn:mode:2":function(e){return"Active power test"},"glp2:fn:mode:2:label":function(e){return"Active power [W]"},"glp2:fn:mode:3":function(e){return"cosφ test"},"glp2:fn:mode:3:label":function(e){return"cosφ"},"glp2:fn:mode:5":function(e){return"Visual check"},"glp2:fn:mode:5:label":function(e){return"Set value"},"glp2:fn:mode:6":function(e){return"Residual voltage test"},"glp2:fn:mode:6:label":function(e){return"Residual voltage [V]"},"glp2:iso:mode:0":function(e){return"Resistance evaluation"},"glp2:iso:mode:0:label":function(e){return"Resistance [MΩ]"},"glp2:iso:mode:1":function(e){return"Current evaluation"},"glp2:iso:mode:1:label":function(e){return"Current [mA]"},"glp2:iso:mode:2":function(e){return"Varistor test"},"glp2:iso:mode:2:label":function(e){return"Voltage [V]"},"glp2:vis:duration":function(e){return"Time to confirmation"},"glp2:vis:maxDuration":function(e){return"Max time to confirm"},"glp2:vis:mode":function(e){return"Confirmation mode"},"glp2:vis:mode:0":function(e){return"Normal"},"glp2:vis:mode:1":function(e){return"Condition controlled"},"glp2:vis:goInput":function(e){return"Success input"},"glp2:vis:noGoInput":function(e){return"Failure input"},"glp2:input:1":function(e){return"Start"},"glp2:input:2":function(e){return"Probe: button 1"},"glp2:input:3":function(e){return"Probe: button 2"},"glp2:input:4":function(e){return"Probe: switch"},"glp2:input:5":function(e){return"HV Start"},"glp2:input:6":function(e){return"HV Stop"},"glp2:input:7":function(e){return"HV Pistol"},"glp2:input:8":function(e){return"RSP Trigger"},"glp2:input:15":function(e){return"Key switch 1 (left)"},"glp2:input:16":function(e){return"Key switch 2 (right)"},"glp2:input:17":function(e){return"Extra input 1"},"glp2:input:18":function(e){return"Extra input 2"},"glp2:input:19":function(e){return"Extra input 3"},"glp2:input:20":function(e){return"Extra input 4"},"glp2:input:21":function(e){return"Two-handed switch 1"},"glp2:input:22":function(e){return"Two-handed switch 2"},"glp2:input:23":function(e){return"HV safety contact"},"glp2:input:24":function(e){return"LV safety contact"},"glp2:input:25":function(e){return"Foot pedal"},"glp2:input:26":function(e){return"Emergency stop"},"glp2:input:27":function(e){return"Two-handed start"},"filter:submit":function(e){return"Filter programs"},"PROPERTY:name":function(e){return"Name"},"PROPERTY:type":function(e){return"Type"},"PROPERTY:prodLines":function(e){return"Production lines"},"PROPERTY:prodLines:all":function(e){return"All"},"PROPERTY:createdAt":function(e){return"Created at"},"PROPERTY:updatedAt":function(e){return"Updated at"},"PROPERTY:startTime":function(e){return"Start time"},"PROPERTY:duration":function(e){return"Measurement time"},"PROPERTY:totalTime":function(e){return"Total test time"},"PROPERTY:voltage":function(e){return"Voltage [V]"},"PROPERTY:current":function(e){return"Current [A]"},"PROPERTY:resistance:max":function(e){return"Maximum resistance [Ω]"},"PROPERTY:power":function(e){return"Power [W]"},"PROPERTY:power:req":function(e){return"Required power [W]"},"PROPERTY:power:rel":function(e){return"Tolerance [%]"},"PROPERTY:power:min":function(e){return"Minimum power [W]"},"PROPERTY:power:max":function(e){return"Maximum power [W]"},"PROPERTY:steps":function(e){return"Steps"},"PROPERTY:waitKind":function(e){return"Continuation"},"PROPERTY:waitKind:manual":function(e){return"after a user action"},"PROPERTY:waitKind:auto":function(e){return"after a delay:"},"PROPERTY:label":function(e){return"Test definition"},"PROPERTY:mode":function(e){return"Mode"},"PROPERTY:buzzer":function(e){return"Buzzer"},"PROPERTY:buzzer:0":function(e){return"Disabled"},"PROPERTY:buzzer:1":function(e){return"After success"},"PROPERTY:execution":function(e){return"Execution"},"PROPERTY:execution:0":function(e){return"Auto"},"PROPERTY:execution:1":function(e){return"Hold start"},"PROPERTY:execution:2":function(e){return"Stop before test"},"PROPERTY:execution:4":function(e){return"Stop after test"},"PROPERTY:trigger":function(e){return"Trigger"},"PROPERTY:trigger:0":function(e){return"Start time"},"PROPERTY:trigger:1":function(e){return"Starting signal"},"PROPERTY:trigger:2":function(e){return"Measured value"},"PROPERTY:lampCount":function(e){return"Fluorescent lamp count"},"PROPERTY:lampDuration":function(e){return"Uninterrupted lighting time [s]"},"FORM:ACTION:add":function(e){return"Add program"},"FORM:ACTION:edit":function(e){
return"Edit program"},"FORM:ERROR:addFailure":function(e){return"Failed to add the program :-("},"FORM:ERROR:editFailure":function(e){return"Failed to edit the program :-("},"FORM:ERROR:minDuration":function(e){return"Value cannot be lower than 1s."},"FORM:ERROR:minMaxDurations":function(e){return"Max time to confirm must be longer than Time to confirmation."},"FORM:ERROR:requiredStep":function(e){return"Select at least one step."},"form:steps:add":function(e){return"Add a new step"},"form:steps:placeholder":function(e){return"Select a step type..."},"ACTION_FORM:DIALOG_TITLE:delete":function(e){return"Program deletion confirmation"},"ACTION_FORM:BUTTON:delete":function(e){return"Delete program"},"ACTION_FORM:MESSAGE:delete":function(e){return"Are you sure you want to delete the selected program?"},"ACTION_FORM:MESSAGE_SPECIFIC:delete":function(e){return"Are you sure you want to delete the <em>"+t.v(e,"label")+"</em> program?"},"ACTION_FORM:MESSAGE_FAILURE:delete":function(e){return"Failed to delete the program :-("},"sync:started":function(e){return"Initiated the programs synchronization..."},"sync:inProgress":function(e){return"Programs synchronization is in progress..."},"sync:invalidLicense":function(e){return"The current license doesn't have the required option :("},"sync:invalidServer":function(e){return"Invalid remote server :("},"sync:failure":function(e){return"Failed to initiate the programs synchronization :("}},pl:!0}}),define("app/nls/pl/xiconfPrograms",["app/nls/locale/pl"],function(e){var t={lc:{pl:function(t){return e(t)},en:function(t){return e(t)}},c:function(e,t){if(!e)throw new Error("MessageFormat: Data required for '"+t+"'.")},n:function(e,t,n){if(isNaN(e[t]))throw new Error("MessageFormat: '"+t+"' isn't a number.");return e[t]-(n||0)},v:function(e,n){return t.c(e,n),e[n]},p:function(e,n,r,i,o){return t.c(e,n),e[n]in o?o[e[n]]:(n=t.lc[i](e[n]-r),n in o?o[n]:o.other)},s:function(e,n,r){return t.c(e,n),e[n]in r?r[e[n]]:r.other}};return{"BREADCRUMBS:base":function(e){return"Xiconf"},"BREADCRUMBS:browse":function(e){return"Programy"},"BREADCRUMBS:addForm":function(e){return"Dodawanie"},"BREADCRUMBS:editForm":function(e){return"Edycja"},"BREADCRUMBS:ACTION_FORM:delete":function(e){return"Usuwanie"},"MSG:LOADING_FAILURE":function(e){return"Ładowanie programów nie powiodło się :("},"MSG:LOADING_SINGLE_FAILURE":function(e){return"Ładowanie programu nie powiodło się :("},"MSG:DELETED":function(e){return"Program <em>"+t.v(e,"label")+"</em> został usunięty."},"PAGE_ACTION:add":function(e){return"Dodaj program"},"PAGE_ACTION:edit":function(e){return"Edytuj program"},"PAGE_ACTION:delete":function(e){return"Usuń program"},"PAGE_ACTION:sync":function(e){return"Synchronizuj programy"},"PAGE_ACTION:toggle":function(e){return"Pokaż/ukryj szczegóły"},"PANEL:TITLE:details":function(e){return"Szczegóły programu"},"PANEL:TITLE:addForm":function(e){return"Formularz dodawania programu"},"PANEL:TITLE:editForm":function(e){return"Formularz edycji programu"},"step:wait":function(e){return"Przerwa"},"step:pe":function(e){return"Test obwodu ochronnego"},"step:iso":function(e){return"Test rezystancji izolacji"},"step:sol":function(e){return"Programowanie Fortimo Solar"},"step:sol:label":function(e){return"prg"},"step:program":function(e){return"Programowanie"},"step:program:label":function(e){return"prg"},"step:fn":function(e){return"Test funkcjonalny"},"step:fn:label":function(e){return"fct"},"step:vis":function(e){return"Test wizualny"},"type:t24vdc":function(e){return"24V DC"},"type:glp2":function(e){return"GLP2-I"},"glp2:fn:mode:0":function(e){return"Test poboru prądu"},"glp2:fn:mode:0:label":function(e){return"Natężenie prądu [A]"},"glp2:fn:mode:1":function(e){return"Test mocy pozornej"},"glp2:fn:mode:1:label":function(e){return"Moc pozorna [W]"},"glp2:fn:mode:2":function(e){return"Test mocy"},"glp2:fn:mode:2:label":function(e){return"Moc [W]"},"glp2:fn:mode:3":function(e){return"Test cosφ"},"glp2:fn:mode:3:label":function(e){return"cosφ"},"glp2:fn:mode:5":function(e){return"Test wizualny"},"glp2:fn:mode:5:label":function(e){return"Wartość nastawy"},"glp2:fn:mode:6":function(e){return"Test napięcia resztkowego"},"glp2:fn:mode:6:label":function(e){return"Napięcie resztkowe [V]"},"glp2:iso:mode:0":function(e){return"Oporność ISO"},"glp2:iso:mode:0:label":function(e){return"Wartość nastawy [MΩ]"},"glp2:iso:mode:1":function(e){return"Prąd ISO"},"glp2:iso:mode:1:label":function(e){return"Wartość nastawy [mA]"},"glp2:iso:mode:2":function(e){return"Warystor"},"glp2:iso:mode:2:label":function(e){return"Wartość nastawy [V]"},"glp2:iso:u":function(e){return"Napięcie izolacji [V]"},"glp2:iso:rMax":function(e){return"Maksymalny opór [MΩ]"},"glp2:iso:ramp":function(e){return"Czas rampowy"},"glp2:vis:duration":function(e){return"Czas do potwierdzenia"},"glp2:vis:maxDuration":function(e){return"Czas na potwierdzenie"},"glp2:vis:mode":function(e){return"Tryb potwierdzenia"},"glp2:vis:mode:0":function(e){return"Normalny"},"glp2:vis:mode:1":function(e){return"Stan kontrolowany"},"glp2:vis:goInput":function(e){return"Wejście sukcesu"},"glp2:vis:noGoInput":function(e){return"Wejście porażki"},"glp2:input:1":function(e){return"Start"},"glp2:input:2":function(e){return"Sonda: przycisk 1"},"glp2:input:3":function(e){return"Sonda: przycisk 2"},"glp2:input:4":function(e){return"Sonda: przełącznik"},"glp2:input:5":function(e){return"HV Start"},"glp2:input:6":function(e){return"HV Stop"},"glp2:input:7":function(e){return"HV Pistol (sonda wysokonapięciowa)"},"glp2:input:8":function(e){return"RSP Trigger"},"glp2:input:15":function(e){return"Przełącznik z kluczem 1 (lewy)"},"glp2:input:16":function(e){return"Przełącznik z kluczem 2 (prawy)"},"glp2:input:17":function(e){return"Wejście dodatkowe 1"},"glp2:input:18":function(e){return"Wejście dodatkowe 2"},"glp2:input:19":function(e){return"Wejście dodatkowe 3"},"glp2:input:20":function(e){return"Wejście dodatkowe 4"},"glp2:input:21":function(e){return"Przełącznik oburęczny 1"},"glp2:input:22":function(e){return"Przełącznik oburęczny 2"},"glp2:input:23":function(e){return"Styk bezpieczeństwa HV"},"glp2:input:24":function(e){return"Styk bezpieczeństwa LV"},"glp2:input:25":function(e){return"Przełącznik nożny"},"glp2:input:26":function(e){return"Stop bezpieczeństwa"},"glp2:input:27":function(e){return"Start oburęczny"},"filter:submit":function(e){return"Filtruj programy"},"PROPERTY:name":function(e){return"Nazwa"},"PROPERTY:type":function(e){return"Typ"},"PROPERTY:prodLines":function(e){return"Linie produkcyjne"},"PROPERTY:prodLines:all":function(e){return"Wszystkie"},"PROPERTY:createdAt":function(e){return"Data i czas dodania"},"PROPERTY:updatedAt":function(e){return"Data i czas modyfikacji"},"PROPERTY:startTime":function(e){return"Czas rozruchu"},"PROPERTY:duration":function(e){return"Czas pomiaru"},"PROPERTY:totalTime":function(e){return"Całkowity czas testu"},"PROPERTY:voltage":function(e){return"Napięcie [V]"},"PROPERTY:current":function(e){return"Natężenie [A]"},"PROPERTY:resistance:max":function(e){return"Maksymalny opór [Ω]"},"PROPERTY:power":function(e){return"Moc [W]"},"PROPERTY:power:req":function(e){return"Wymagana moc [W]"},"PROPERTY:power:rel":function(e){return"Tolerancja [%]"},"PROPERTY:power:min":function(e){return"Minimalna moc [W]"},"PROPERTY:power:max":function(e){return"Maksymalna moc [W]"},"PROPERTY:steps":function(e){return"Kroki"},"PROPERTY:waitKind":function(e){return"Kontynuacja"},"PROPERTY:waitKind:manual":function(e){return"po akcji użytkownika"},"PROPERTY:waitKind:auto":function(e){return"po upływie czasu:"},"PROPERTY:label":function(e){return"Definicja testu"},"PROPERTY:mode":function(e){return"Tryb badania"},"PROPERTY:buzzer":function(e){return"Sygnał dźwiękowy"},"PROPERTY:buzzer:0":function(e){return"Wyłączony"},"PROPERTY:buzzer:1":function(e){return"Po sukcesie"},"PROPERTY:lowerTolerance":function(e){return"Dolna granica"},"PROPERTY:upperTolerance":function(e){return"Górna granica"},"PROPERTY:execution":function(e){return"Rodzaj przebiegu"},"PROPERTY:execution:0":function(e){return"Automatyczny"},"PROPERTY:execution:1":function(e){return"Przytrzymaj start"},"PROPERTY:execution:2":function(e){return"Stop przed testem"},"PROPERTY:execution:4":function(e){return"Stop po teście"},"PROPERTY:trigger":function(e){return"Wyzwalacz"},"PROPERTY:trigger:0":function(e){return"Czas rozruchu"},"PROPERTY:trigger:1":function(e){return"Sygnał startu"},"PROPERTY:trigger:2":function(e){return"Mierzona wartość"},"PROPERTY:lampCount":function(e){return"Ilość świetlówek"},"PROPERTY:lampDuration":function(e){return"Czas nieprzerwanego świecenia [s]"},"FORM:ACTION:add":function(e){return"Dodaj program"},"FORM:ACTION:edit":function(e){return"Edytuj program"},"FORM:ERROR:addFailure":function(e){return"Nie udało się dodać programu :-("},"FORM:ERROR:editFailure":function(e){return"Nie udało się zmodyfikować programu :-("},"FORM:ERROR:minDuration":function(e){return"Wartość nie może być mniejsza niż 1s."},"FORM:ERROR:minMaxDurations":function(e){return"Czas na potwierdzenie musi być dłuższy od Czasu do potwierdzenia."},"FORM:ERROR:requiredStep":function(e){return"Wybierz przynajmniej jeden krok."},"form:steps:add":function(e){return"Dodaj krok"},"form:steps:placeholder":function(e){return"Wybierz typ kroku..."},"ACTION_FORM:DIALOG_TITLE:delete":function(e){return"Potwierdzenie usunięcia programu"},"ACTION_FORM:BUTTON:delete":function(e){return"Usuń program"},"ACTION_FORM:MESSAGE:delete":function(e){return"Czy na pewno chcesz bezpowrotnie usunąć wybrany program?"},"ACTION_FORM:MESSAGE_SPECIFIC:delete":function(e){return"Czy na pewno chcesz bezpowrotnie usunąć program <em>"+t.v(e,"label")+"</em>?"},"ACTION_FORM:MESSAGE_FAILURE:delete":function(e){return"Nie udało się usunąć programu :-("},"sync:started":function(e){return"Rozpoczęto synchronizację programów..."},"sync:inProgress":function(e){return"Synchronizacja programów w toku..."},"sync:invalidLicense":function(e){return"Aktualna licencja nie ma wymaganych opcji :("},"sync:invalidServer":function(e){return"Nieprawidłowy adres zewnętrznego serwera :("},"sync:failure":function(e){return"Nie udało się rozpocząć synchronizacji programów :("}}}),define("app/xiconfPrograms/routes",["../broker","../router","../viewport","../core/util/showDeleteFormPage","../core/pages/AddFormPage","../core/pages/EditFormPage","./XiconfProgram","./XiconfProgramCollection","./pages/XiconfProgramListPage","./pages/XiconfProgramDetailsPage","./views/XiconfProgramFormView","i18n!app/nls/xiconfPrograms"],function(e,t,n,r,i,o,a,s,l,p,c){"use strict";e.subscribe("hotkeys.showProgramsPage",function(){e.publish("router.navigate",{url:"/xiconf/programs",trigger:!0,replace:!1})}),t.map("/xiconf/programs",function(e){n.showPage(new l({collection:new s(null,{rqlQuery:e.rql})}))}),t.map("/xiconf/programs/:id",function(e){n.showPage(new p({model:new a({_id:e.params.id})}))}),t.map("/xiconf/programs;add",function(){n.showPage(new i({FormView:c,model:new a}))}),t.map("/xiconf/programs/:id;edit",function(e){n.showPage(new o({FormView:c,model:new a({_id:e.params.id})}))}),t.map("/xiconf/programs/:id;delete",r.bind(null,a))}),define("app/history/views/HistoryEntryListView",["app/i18n","app/time","app/core/views/ListView","app/xiconfPrograms/util/buildStepLabels"],function(e,t,n,r){"use strict";return n.extend({className:"is-colored is-clickable",remoteTopics:{"history.orderUpdated":"refreshCollection","programmer.finished":"refreshCollection","programmer.resultToggled":"refreshCollection"},events:{"click tr":function(e){var t=this.collection.get(e.currentTarget.dataset.id);t&&""===window.getSelection().toString()&&this.broker.publish("router.navigate",{url:t.genClientUrl(),trigger:!0,replace:!1})}},columns:[{id:"serviceTag",className:"is-min"},{id:"order",className:"is-min"},{id:"nc12",className:"is-min"},{id:"counter",className:"is-min"},{id:"quantity",className:"is-min"},{id:"startedAt",className:"is-min"},{id:"duration",className:"is-min"},{id:"programName",className:"is-min"},"programSteps"],serializeActions:function(){return null},serializeRow:function(e){var n=e.get("order"),i=e.get("program"),o=["history-entry","success"===e.get("result")?"success":"danger"];return e.get("cancelled")&&o.push("is-cancelled"),{_id:e.id,className:o.join(" "),serviceTag:e.get("serviceTag")||"-",order:n?n.no:"-",programName:e.getProgramName()||"-",programSteps:i?r(i.steps,e.get("steps")):"-",nc12:e.get("nc12")||"-",counter:e.get("counter"),quantity:n?n.quantity:"-",startedAt:t.format(e.get("startedAt"),"YYYY-MM-DD, HH:mm:ss.SSS"),duration:t.toString(e.get("duration")/1e3,!1,!0)}}})}),define("app/history/templates/filter",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="well">\n  <form id="'),__append(idPrefix),__append('-form" class="filter-form history-filter">\n    <div class="form-group">\n      <label for="'),__append(idPrefix),__append('-from">'),__append(t("history","FILTER:from")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-from" class="form-control" name="from" type="datetime-local" placeholder="YYYY-MM-DD HH:mm">\n    </div><div\n      class="form-group">\n      <label for="'),__append(idPrefix),__append('-to">'),__append(t("history","FILTER:to")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-to" class="form-control" name="to" type="datetime-local" placeholder="YYYY-MM-DD HH:mm">\n    </div><div\n      class="form-group">\n      <label for="'),__append(idPrefix),__append('-serviceTag">'),__append(t("history","PROPERTY:serviceTag")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-serviceTag" class="form-control" name="serviceTag" type="text" pattern="^(P|p)[0-9]+$">\n    </div><div\n      class="form-group">\n      <label for="'),__append(idPrefix),__append('-no">'),__append(t("history","PROPERTY:no")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-no" class="form-control" name="no" type="text" maxlength="9" pattern="^[0-9]{9}$">\n    </div><div\n      class="form-group">\n      <label for="'),__append(idPrefix),__append('-nc12">'),__append(t("history","PROPERTY:nc12")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-nc12" class="form-control" name="nc12" type="text" maxlength="12" pattern="^[0-9]{12}$">\n    </div><div\n      class="form-group">\n      <label>'),__append(t("history","PROPERTY:result")),__append('</label>\n      <div class="btn-group filter-btn-group history-filter-result" data-toggle="buttons">\n        <label class="btn btn-default history-filter-success">\n          <input type="checkbox" name="result[]" value="success"> '),__append(t("history","FILTER:result:success")),__append('\n        </label>\n        <label class="btn btn-default history-filter-failure">\n          <input type="checkbox" name="result[]" value="failure"> '),__append(t("history","FILTER:result:failure")),__append('\n        </label>\n      </div>\n    </div><div\n      class="form-group">\n      <label for="'),__append(idPrefix),__append('-limit">'),__append(t("history","FILTER:limit")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-limit" class="form-control" name="limit" type="number" value="25" min="5" max="100" step="1">\n    </div><div\n      class="form-group filter-actions">\n      <input type="submit" class="btn btn-primary" value="'),__append(escapeFn(t("history","FILTER:submit"))),__append('">\n    </div>\n  </form>\n</div>\n');return __output.join("")}}),define("app/history/views/HistoryEntryFilterView",["underscore","js2form","app/i18n","app/time","app/core/View","app/history/templates/filter"],function(e,t,n,r,i,o){"use strict";return i.extend({template:o,events:{"submit .filter-form":function(e){e.preventDefault(),this.changeFilter()}},afterRender:function(){var e=this.serializeRqlQuery();t(this.el.querySelector(".filter-form"),e),1===e.result.length?this.$(".history-filter-"+e.result[0]).addClass("active"):this.$(".history-filter-result > label").addClass("active")},serializeRqlQuery:function(){var e="datetime-local"===this.$id("from").prop("type")?"YYYY-MM-DDTHH:mm:ss":"YYYY-MM-DD HH:mm",t=this.model.rqlQuery,n={from:"",to:"",serviceTag:"",no:"",nc12:"",result:["success","failure"],limit:t.limit<5?5:t.limit>100?100:t.limit};return t.selector.args.forEach(function(t){var i=t.args[0];switch(i){case"startedAt":n["ge"===t.name?"from":"to"]=r.format(t.args[1],e);break;case"serviceTag":case"no":case"nc12":n[i]=t.args[1];break;case"result":"success"!==t.args[1]&&"failure"!==t.args[1]||(n.result=[t.args[1]])}}),n},changeFilter:function(){var e=this.model.rqlQuery,t=[],n=r.getMoment(this.$id("from").val()),i=r.getMoment(this.$id("to").val()),o=this.$id("serviceTag").val().trim().toUpperCase(),a=this.$id("no").val().trim(),s=this.$id("nc12").val().trim(),l=this.$('input[name="result[]"]:checked');/^P[0-9]+$/.test(o)&&t.push({name:"eq",args:["serviceTag",o]}),/^[0-9]{9}$/.test(a)&&t.push({name:"eq",args:["no",a]}),/^[0-9]{12}$/.test(s)&&t.push({name:"eq",args:["nc12",s]}),n.isValid()&&t.push({name:"ge",args:["startedAt",n.valueOf()]}),i.isValid()&&t.push({name:"lt",args:["startedAt",i.valueOf()]}),1===l.length&&t.push({name:"eq",args:["result",l.val()]}),e.selector={name:"and",args:t},e.limit=parseInt(this.$id("limit").val(),10)||20,e.skip=0,this.trigger("filterChanged",e)}})}),define("app/history/templates/listPage",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div>\n  <div class="filter-container"></div>\n  <div class="list-container"></div>\n</div>\n');return __output.join("")}}),define("app/history/pages/HistoryEntryListPage",["app/i18n","app/core/util/bindLoadingMessage","app/core/util/pageActions","app/core/View","../HistoryEntryCollection","../views/HistoryEntryListView","../views/HistoryEntryFilterView","app/history/templates/listPage"],function(e,t,n,r,i,o,a,s){"use strict";return r.extend({template:s,layoutName:"page",pageId:"historyEntryList",breadcrumbs:[e.bound("history","BREADCRUMBS:browse")],actions:function(e){return[n.export(e,this,this.collection,null)]},initialize:function(){this.defineModels(),this.defineViews(),this.setView(".filter-container",this.filterView),this.setView(".list-container",this.listView)},defineModels:function(){this.collection=t(new i(null,{rqlQuery:this.options.rql}),this)},defineViews:function(){this.listView=new o({collection:this.collection}),this.filterView=new a({model:{rqlQuery:this.collection.rqlQuery}}),this.listenTo(this.filterView,"filterChanged",this.refreshList)},load:function(e){return e(this.collection.fetch({reset:!0}))},refreshList:function(e){this.collection.rqlQuery=e,this.listView.refreshCollectionNow(),this.broker.publish("router.navigate",{url:this.collection.genClientUrl()+"?"+e,trigger:!1,replace:!0})}})});var hljs=new function(){function e(e){return e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;")}function t(e){return e.nodeName.toLowerCase()}function n(e,t){var n=e&&e.exec(t);return n&&0==n.index}function r(e){var t=(e.className+" "+(e.parentNode?e.parentNode.className:"")).split(/\s+/);return t=t.map(function(e){return e.replace(/^lang(uage)?-/,"")}),t.filter(function(e){return m(e)||/no(-?)highlight/.test(e)})[0]}function i(e,t){var n={};for(var r in e)n[r]=e[r];if(t)for(var r in t)n[r]=t[r];return n}function o(e){var n=[];return function e(r,i){for(var o=r.firstChild;o;o=o.nextSibling)3==o.nodeType?i+=o.nodeValue.length:1==o.nodeType&&(n.push({event:"start",offset:i,node:o}),i=e(o,i),t(o).match(/br|hr|img|input/)||n.push({event:"stop",offset:i,node:o}));return i}(e,0),n}function a(n,r,i){function o(){return n.length&&r.length?n[0].offset!=r[0].offset?n[0].offset<r[0].offset?n:r:"start"==r[0].event?n:r:n.length?n:r}function a(n){function r(t){return" "+t.nodeName+'="'+e(t.value)+'"'}c+="<"+t(n)+Array.prototype.map.call(n.attributes,r).join("")+">"}function s(e){c+="</"+t(e)+">"}function l(e){("start"==e.event?a:s)(e.node)}for(var p=0,c="",u=[];n.length||r.length;){var d=o();if(c+=e(i.substr(p,d[0].offset-p)),p=d[0].offset,d==n){u.reverse().forEach(s);do l(d.splice(0,1)[0]),d=o();while(d==n&&d.length&&d[0].offset==p);u.reverse().forEach(a)}else"start"==d[0].event?u.push(d[0].node):u.pop(),l(d.splice(0,1)[0])}return c+e(i.substr(p))}function s(e){function t(e){return e&&e.source||e}function n(n,r){return RegExp(t(n),"m"+(e.cI?"i":"")+(r?"g":""))}function r(o,a){if(!o.compiled){if(o.compiled=!0,o.k=o.k||o.bK,o.k){var s={},l=function(t,n){e.cI&&(n=n.toLowerCase()),n.split(" ").forEach(function(e){var n=e.split("|");s[n[0]]=[t,n[1]?Number(n[1]):1]})};"string"==typeof o.k?l("keyword",o.k):Object.keys(o.k).forEach(function(e){l(e,o.k[e])}),o.k=s}o.lR=n(o.l||/\b[A-Za-z0-9_]+\b/,!0),a&&(o.bK&&(o.b="\\b("+o.bK.split(" ").join("|")+")\\b"),o.b||(o.b=/\B|\b/),o.bR=n(o.b),o.e||o.eW||(o.e=/\B|\b/),o.e&&(o.eR=n(o.e)),o.tE=t(o.e)||"",o.eW&&a.tE&&(o.tE+=(o.e?"|":"")+a.tE)),o.i&&(o.iR=n(o.i)),void 0===o.r&&(o.r=1),o.c||(o.c=[]);var p=[];o.c.forEach(function(e){e.v?e.v.forEach(function(t){p.push(i(e,t))}):p.push("self"==e?o:e)}),o.c=p,o.c.forEach(function(e){r(e,o)}),o.starts&&r(o.starts,a);var c=o.c.map(function(e){return e.bK?"\\.?("+e.b+")\\.?":e.b}).concat([o.tE,o.i]).map(t).filter(Boolean);o.t=c.length?n(c.join("|"),!0):{exec:function(e){return null}}}}r(e)}function l(t,r,i,o){function a(e,t){for(var r=0;r<t.c.length;r++)if(n(t.c[r].bR,e))return t.c[r]}function c(e,t){return n(e.eR,t)?e:e.eW?c(e.parent,t):void 0}function u(e,t){return!i&&n(t.iR,e)}function d(e,t){var n=T.cI?t[0].toLowerCase():t[0];return e.k.hasOwnProperty(n)&&e.k[n]}function f(e,t,n,r){var i=r?"":v.classPrefix,o='<span class="'+i,a=n?"":"</span>";return o+=e+'">',o+t+a}function h(){if(!E.k)return e(S);var t="",n=0;E.lR.lastIndex=0;for(var r=E.lR.exec(S);r;){t+=e(S.substr(n,r.index-n));var i=d(E,r);i?(x+=i[1],t+=f(i[0],e(r[0]))):t+=e(r[0]),n=E.lR.lastIndex,r=E.lR.exec(S)}return t+e(S.substr(n))}function g(){if(E.sL&&!b[E.sL])return e(S);var t=E.sL?l(E.sL,S,!0,P):p(S);return E.r>0&&(x+=t.r),"continuous"==E.subLanguageMode&&(P=t.top),f(t.language,t.value,!1,!0)}function _(){return void 0!==E.sL?g():h()}function y(t,n){var r=t.cN?f(t.cN,"",!0):"";t.rB?(A+=r,S=""):t.eB?(A+=e(n)+r,S=""):(A+=r,S=n),E=Object.create(t,{parent:{value:E}})}function w(t,n){if(S+=t,void 0===n)return A+=_(),0;var r=a(n,E);if(r)return A+=_(),y(r,n),r.rB?0:n.length;var i=c(E,n);if(i){var o=E;o.rE||o.eE||(S+=n),A+=_();do E.cN&&(A+="</span>"),x+=E.r,E=E.parent;while(E!=i.parent);return o.eE&&(A+=e(n)),S="",i.starts&&y(i.starts,""),o.rE?0:n.length}if(u(n,E))throw new Error('Illegal lexeme "'+n+'" for mode "'+(E.cN||"<unnamed>")+'"');return S+=n,n.length||1}var T=m(t);if(!T)throw new Error('Unknown language: "'+t+'"');s(T);for(var P,E=o||T,A="",k=E;k!=T;k=k.parent)k.cN&&(A=f(k.cN,"",!0)+A);var S="",x=0;try{for(var C,L,O=0;;){if(E.t.lastIndex=O,C=E.t.exec(r),!C)break;L=w(r.substr(O,C.index-O),C[0]),O=C.index+L}w(r.substr(O));for(var k=E;k.parent;k=k.parent)k.cN&&(A+="</span>");return{r:x,value:A,language:t,top:E}}catch(t){if(t.message.indexOf("Illegal")!=-1)return{r:0,value:e(r)};throw t}}function p(t,n){n=n||v.languages||Object.keys(b);var r={r:0,value:e(t)},i=r;return n.forEach(function(e){if(m(e)){var n=l(e,t,!1);n.language=e,n.r>i.r&&(i=n),n.r>r.r&&(i=r,r=n)}}),i.language&&(r.second_best=i),r}function c(e){return v.tabReplace&&(e=e.replace(/^((<[^>]+>|\t)+)/gm,function(e,t,n,r){return t.replace(/\t/g,v.tabReplace)})),v.useBR&&(e=e.replace(/\n/g,"<br>")),e}function u(e){var t=r(e);if(!/no(-?)highlight/.test(t)){var n;v.useBR?(n=document.createElementNS("http://www.w3.org/1999/xhtml","div"),n.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n")):n=e;var i=n.textContent,s=t?l(t,i,!0):p(i),u=o(n);if(u.length){var d=document.createElementNS("http://www.w3.org/1999/xhtml","div");d.innerHTML=s.value,s.value=a(u,o(d),i)}s.value=c(s.value),e.innerHTML=s.value,e.className+=" hljs "+(!t&&s.language||""),e.result={language:s.language,re:s.r},s.second_best&&(e.second_best={language:s.second_best.language,re:s.second_best.r})}}function d(e){v=i(v,e)}function f(){if(!f.called){f.called=!0;var e=document.querySelectorAll("pre code");Array.prototype.forEach.call(e,u)}}function h(){addEventListener("DOMContentLoaded",f,!1),addEventListener("load",f,!1)}function g(e,t){var n=b[e]=t(this);n.aliases&&n.aliases.forEach(function(t){y[t]=e})}function _(){return Object.keys(b)}function m(e){return b[e]||b[y[e]]}var v={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0},b={},y={};this.highlight=l,this.highlightAuto=p,this.fixMarkup=c,this.highlightBlock=u,this.configure=d,this.initHighlighting=f,this.initHighlightingOnLoad=h,this.registerLanguage=g,this.listLanguages=_,this.getLanguage=m,this.inherit=i,this.IR="[a-zA-Z][a-zA-Z0-9_]*",this.UIR="[a-zA-Z_][a-zA-Z0-9_]*",this.NR="\\b\\d+(\\.\\d+)?",this.CNR="(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",this.BNR="\\b(0b[01]+)",this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",this.BE={b:"\\\\[\\s\\S]",r:0},this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE]},this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE]},this.PWM={b:/\b(a|an|the|are|I|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such)\b/},this.CLCM={cN:"comment",b:"//",e:"$",c:[this.PWM]},this.CBCM={cN:"comment",b:"/\\*",e:"\\*/",c:[this.PWM]},this.HCM={cN:"comment",b:"#",e:"$",c:[this.PWM]},this.NM={cN:"number",b:this.NR,r:0},this.CNM={cN:"number",b:this.CNR,r:0},this.BNM={cN:"number",b:this.BNR,r:0},this.CSSNM={cN:"number",b:this.NR+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",r:0},this.RM={cN:"regexp",b:/\//,e:/\/[gim]*/,i:/\n/,c:[this.BE,{b:/\[/,e:/\]/,r:0,c:[this.BE]}]},this.TM={cN:"title",b:this.IR,r:0},this.UTM={cN:"title",b:this.UIR,r:0}};if(hljs.registerLanguage("xml",function(e){var t="[A-Za-z0-9\\._:-]+",n={b:/<\?(php)?(?!\w)/,e:/\?>/,sL:"php",subLanguageMode:"continuous"},r={eW:!0,i:/</,r:0,c:[n,{cN:"attribute",b:t,r:0},{b:"=",r:0,c:[{cN:"value",v:[{b:/"/,e:/"/},{b:/'/,e:/'/},{b:/[^\s\/>]+/}]}]}]};return{aliases:["html","xhtml","rss","atom","xsl","plist"],cI:!0,c:[{cN:"doctype",b:"<!DOCTYPE",e:">",r:10,c:[{b:"\\[",e:"\\]"}]},{cN:"comment",b:"<!--",e:"-->",r:10},{cN:"cdata",b:"<\\!\\[CDATA\\[",e:"\\]\\]>",r:10},{cN:"tag",b:"<style(?=\\s|>|$)",e:">",k:{title:"style"},c:[r],starts:{e:"</style>",rE:!0,sL:"css"}},{cN:"tag",b:"<script(?=\\s|>|$)",e:">",k:{title:"script"},c:[r],starts:{e:"</script>",rE:!0,sL:"javascript"}},{b:"<%",e:"%>",sL:"vbscript"},n,{cN:"pi",b:/<\?\w+/,e:/\?>/,r:10},{cN:"tag",b:"</?",e:"/?>",c:[{cN:"title",b:/[^ \/><\n\t]+/,r:0},r]}]}}),hljs.registerLanguage("json",function(e){var t={literal:"true false null"},n=[e.QSM,e.CNM],r={cN:"value",e:",",eW:!0,eE:!0,c:n,k:t},i={b:"{",e:"}",c:[{cN:"attribute",b:'\\s*"',e:'"\\s*:\\s*',eB:!0,eE:!0,c:[e.BE],i:"\\n",starts:r}],i:"\\S"},o={b:"\\[",e:"\\]",c:[e.inherit(r,{cN:null})],i:"\\S"};return n.splice(n.length,0,i,o),{c:n,k:t,i:"\\S"}}),define("highlight",function(e){return function(){var t;return t||e.hljs}}(this)),define("app/history/templates/details",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append("<div>\n  "),model.order&&(__append('\n  <div class="panel panel-primary history-details-order">\n    <div class="panel-heading">\n      '),__append(t("history","PANEL:TITLE:details:order")),__append('\n    </div>\n    <div class="panel-details">\n      <div class="props first">\n        <div class="prop">\n          <div class="prop-name">'),__append(t("history","PROPERTY:no")),__append('</div>\n          <div class="prop-value">'),__append(model.order.no),__append('</div>\n        </div>\n        <div class="prop">\n          <div class="prop-name">'),__append(t("history","PROPERTY:quantity")),__append('</div>\n          <div class="prop-value">'),__append(model.order.quantity),__append('</div>\n        </div>\n        <div class="prop">\n          <div class="prop-name">'),__append(t("history","PROPERTY:successCounter")),__append('</div>\n          <div class="prop-value">'),__append(model.order.successCounter),__append('</div>\n        </div>\n        <div class="prop">\n          <div class="prop-name">'),__append(t("history","PROPERTY:failureCounter")),__append('</div>\n          <div class="prop-value">'),__append(model.order.failureCounter),__append('</div>\n        </div>\n        <div class="prop">\n          <div class="prop-name">'),__append(t("history","PROPERTY:startedAt")),__append('</div>\n          <div class="prop-value">'),__append(time.format(model.order.startedAt,"LL, HH:mm:ss.SSS")),__append('</div>\n        </div>\n        <div class="prop">\n          <div class="prop-name">'),__append(t("history","PROPERTY:finishedAt")),__append('</div>\n          <div class="prop-value">'),__append(time.format(model.order.finishedAt,"LL, HH:mm:ss.SSS")),__append('</div>\n        </div>\n        <div class="prop">\n          <div class="prop-name">'),__append(t("history","PROPERTY:duration")),__append('</div>\n          <div class="prop-value">'),__append(time.toString(model.order.duration/1e3,!1,!0)),__append("</div>\n        </div>\n      </div>\n    </div>\n  </div>\n  ")),__append('\n  <div class="panel panel-'),__append(model.cancelled?"default":"success"===model.result?"success":"danger"),__append(' history-details-entry">\n    <div class="panel-heading">\n      '),__append(t("history","PANEL:TITLE:details:entry")),__append('\n    </div>\n    <div class="panel-details">\n      <div class="props first">\n        <div class="prop">\n          <div class="prop-name">'),__append(t("history","PROPERTY:prodLine")),__append('</div>\n          <div class="prop-value">'),__append(escapeFn(model.prodLine||"-")),__append('</div>\n        </div>\n        <div class="prop">\n          <div class="prop-name">'),__append(t("history","PROPERTY:serviceTag")),__append('</div>\n          <div class="prop-value">'),__append(model.serviceTag||"-"),__append('</div>\n        </div>\n        <div class="prop">\n          <div class="prop-name">'),__append(t("history","PROPERTY:nc12")),__append('</div>\n          <div class="prop-value">'),__append(model.nc12||"-"),__append('</div>\n        </div>\n        <div class="prop">\n          <div class="prop-name">'),__append(t("history","PROPERTY:gprsNc12")),__append('</div>\n          <div class="prop-value">'),__append(model.gprsNc12||"-"),__append('</div>\n        </div>\n        <div class="prop">\n          <div class="prop-name">'),__append(t("history","PROPERTY:programName")),__append('</div>\n          <div class="prop-value">'),__append(escapeFn(model.programName||"-")),__append('</div>\n        </div>\n        <div class="prop">\n          <div class="prop-name">'),__append(t("history","PROPERTY:counter")),
__append('</div>\n          <div class="prop-value">'),__append(model.counter),__append(model.order?"/"+model.order.quantity:""),__append('</div>\n        </div>\n        <div class="prop">\n          <div class="prop-name">'),__append(t("history","PROPERTY:startedAt")),__append('</div>\n          <div class="prop-value">'),__append(time.format(model.startedAt,"LL, HH:mm:ss.SSS")),__append('</div>\n        </div>\n        <div class="prop">\n          <div class="prop-name">'),__append(t("history","PROPERTY:finishedAt")),__append('</div>\n          <div class="prop-value">'),__append(time.format(model.finishedAt,"LL, HH:mm:ss.SSS")),__append('</div>\n        </div>\n        <div class="prop">\n          <div class="prop-name">'),__append(t("history","PROPERTY:duration")),__append('</div>\n          <div class="prop-value">'),__append(time.toString(model.duration/1e3,!1,!0)),__append('</div>\n        </div>\n        <div class="prop">\n          <div class="prop-name">'),__append(t("history","PROPERTY:errorCode")),__append('</div>\n          <div class="prop-value">'),__append(model.errorCode?t("history","error:"+model.errorCode):"-"),__append('</div>\n        </div>\n        <div class="prop">\n          <div class="prop-name">'),__append(t("history","PROPERTY:exception")),__append('</div>\n          <div class="prop-value">'),__append(escapeFn(model.exception||"-")),__append('</div>\n        </div>\n        <div class="prop">\n          <div class="prop-name">'),__append(t("history","PROPERTY:workflowFile")),__append('</div>\n          <div class="prop-value">'),__append(escapeFn(model.workflowFile||"-")),__append('</div>\n        </div>\n        <div class="prop">\n          <div class="prop-name">'),__append(t("history","PROPERTY:featureFile")),__append('</div>\n          <div class="prop-value">'),__append(escapeFn(model.featureFile||"-")),__append('</div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="history-tabs">\n    <ul class="nav nav-tabs">\n      <li data-tab="log"><a href="#'),__append(idPrefix),__append('-log" data-toggle="tab">'),__append(t("history","tab:log")),__append("</a></li>\n      "),model.output&&(__append('\n      <li data-tab="output"><a href="#'),__append(idPrefix),__append('-output" data-toggle="tab">'),__append(t("history","tab:output")),__append("</a></li>\n      ")),__append("\n      "),model.gprsOrderFile&&(__append('\n      <li data-tab="gprsOrderFile"><a href="#'),__append(idPrefix),__append('-gprsOrderFile" data-toggle="tab">'),__append(t("history","tab:gprsOrderFile")),__append("</a></li>\n      ")),__append("\n      "),model.workflow&&(__append('\n      <li data-tab="workflow"><a href="#'),__append(idPrefix),__append('-workflow" data-toggle="tab">'),__append(t("history","tab:workflow")),__append("</a></li>\n      ")),__append("\n      "),model.feature&&(__append('\n      <li data-tab="feature" data-highlight><a href="#'),__append(idPrefix),__append('-feature" data-toggle="tab">'),__append(t("history","tab:feature")),__append("</a></li>\n      ")),__append("\n      "),model.leds&&(__append('\n      <li data-tab="leds"><a href="#'),__append(idPrefix),__append('-leds" data-toggle="tab">'),__append(t("history","tab:leds")),__append("</a></li>\n      ")),__append("\n      "),model.hidLamps&&(__append('\n      <li data-tab="hidLamps"><a href="#'),__append(idPrefix),__append('-hidLamps" data-toggle="tab">'),__append(t("history","tab:hidLamps")),__append("</a></li>\n      ")),__append("\n      "),model.gprsInputFile&&(__append('\n      <li data-tab="gprsInputFile" data-highlight><a href="#'),__append(idPrefix),__append('-gprsInputFile" data-toggle="tab">'),__append(t("history","tab:gprsInputFile")),__append("</a></li>\n      ")),__append("\n      "),model.gprsOutputFile&&(__append('\n      <li data-tab="gprsOutputFile" data-highlight><a href="#'),__append(idPrefix),__append('-gprsOutputFile" data-toggle="tab">'),__append(t("history","tab:gprsOutputFile")),__append("</a></li>\n      ")),__append("\n      "),model.program&&(__append('\n      <li data-tab="program"><a href="#'),__append(idPrefix),__append('-program" data-toggle="tab">'),__append(t("history","tab:program")),__append("</a></li>\n      ")),__append('\n    </ul>\n    <div class="tab-content">\n      <div class="tab-pane" id="'),__append(idPrefix),__append('-log">\n        <table class="table table-bordered history-log">\n          <tbody>\n            '),log.forEach(function(e){__append('\n            <tr>\n              <td><time datetime="'),__append(e.datetime),__append('">'),__append(e.time),__append("</time></td>\n              <td>"),__append(e.text),__append("</td>\n            </tr>\n            ")}),__append("\n          </tbody>\n        </table>\n      </div>\n      "),model.output&&(__append('\n      <div class="tab-pane" id="'),__append(idPrefix),__append('-output"><pre><code>'),__append(escapeFn(model.output||"-")),__append("</code></pre></div>\n      ")),__append("\n      "),model.gprsOrderFile&&(__append('\n      <div class="tab-pane" id="'),__append(idPrefix),__append('-gprsOrderFile"><pre><code>'),__append(escapeFn(model.gprsOrderFile||"-")),__append("</code></pre></div>\n      ")),__append("\n      "),model.workflow&&(__append('\n      <div class="tab-pane" id="'),__append(idPrefix),__append('-workflow"><pre><code>'),__append(escapeFn(model.workflow||"-")),__append("</code></pre></div>\n      ")),__append("\n      "),model.feature&&(__append('\n      <div class="tab-pane" id="'),__append(idPrefix),__append('-feature"><pre><code class="xml">'),__append(escapeFn(model.feature||"-")),__append("</code></pre></div>\n      ")),__append("\n      "),model.leds&&(__append('\n      <div class="tab-pane history-details-leds" id="'),__append(idPrefix),__append('-leds"></div>\n      ')),__append("\n      "),model.hidLamps&&(__append('\n      <div class="tab-pane history-details-hidLamps" id="'),__append(idPrefix),__append('-hidLamps"></div>\n      ')),__append("\n      "),model.gprsInputFile&&(__append('\n      <div class="tab-pane" id="'),__append(idPrefix),__append('-gprsInputFile"><pre><code class="json">'),__append(escapeFn(model.gprsInputFile||"-")),__append("</code></pre></div>\n      ")),__append("\n      "),model.gprsOutputFile&&(__append('\n      <div class="tab-pane" id="'),__append(idPrefix),__append('-gprsOutputFile"><pre><code class="xml">'),__append(escapeFn(model.gprsOutputFile||"-")),__append("</code></pre></div>\n      ")),__append("\n      "),model.program&&(__append('\n      <div class="tab-pane" id="'),__append(idPrefix),__append('-program">\n        <div class="history-details-steps"></div>\n        <div class="history-details-metrics"></div>\n      </div>\n      ')),__append("\n    </div>\n  </div>\n</div>\n");return __output.join("")}}),define("app/history/views/HistoryEntryDetailsView",["require","underscore","highlight","app/i18n","app/core/View","app/dashboard/views/LedsView","app/dashboard/views/HidLampsView","app/xiconfPrograms/views/XiconfProgramStepsView","app/history/templates/details"],function(e,t,n,r,i,o,a,s,l){"use strict";var p=null;return i.extend({template:l,events:{"click .history-tabs a":function(e){e.preventDefault();var t=this.$(e.target).tab("show").parent().attr("data-tab");this.broker.publish("router.navigate",{url:this.model.genClientUrl()+"?tab="+t,trigger:!1,replace:!0})},"shown.bs.tab":function(e){var t=e.target.parentNode,n=t.dataset.tab;return"program"===n?void this.renderMetrics():void(void 0!==t.dataset.highlight&&this.highlight(n))}},initialize:function(){this.highlighted={feature:!1,gprsInputFile:!1,gprsOutputFile:!1},this.metricsChart=null,this.destroyed=!1,this.renderingMetrics=!1,this.setView(".history-details-leds",new o({model:this.model})),this.setView(".history-details-hidLamps",new a({model:this.model})),this.setView(".history-details-steps",new s({model:this.model}))},destroy:function(){null!==this.metricsChart&&(this.metricsChart.destroy(),this.metricsChart=null),this.destroyed=!0},serialize:function(){return{idPrefix:this.idPrefix,model:t.defaults(this.model.toJSON(),{programName:this.model.getProgramName()}),log:this.model.getDecoratedLog()}},beforeRender:function(){this.highlighted={feature:!1,gprsInputFile:!1,gprsOutputFile:!1},null!==this.metricsChart&&(this.metricsChart.destroy(),this.metricsChart=null),this.stopListening(this.model,"change",this.render)},afterRender:function(){this.listenTo(this.model,"change",this.render),this.activateTab(this.options.tab||"log")},activateTab:function(e){this.$('.nav-tabs > li[data-tab="'+e+'"] > a').tab("show")},highlight:function(e){this.highlighted[e]||(this.model.get(e)&&n.highlightBlock(this.$id(e).find("code")[0]),this.highlighted[e]=!0)},renderMetrics:function(){if(!this.destroyed&&!this.renderingMetrics){if(null!==this.metricsChart)return void this.metricsChart.reflow();if(!p){var t=this;return t.renderingMetrics=!0,e(["app/highcharts"],function(){p=arguments[0],t.renderingMetrics=!1,t.renderMetrics()})}var n=this.model.get("metrics");if(n){var i={uSet:n.uSet,uGet:n.uGet,i:n.i,r:n.uGet.map(function(e,t){return n.i[t]?e/n.i[t]:0}),p:n.uGet.map(function(e,t){return n.i[t]?e*n.i[t]:0})};this.metricsChart=new p.Chart({chart:{renderTo:this.el.querySelector(".history-details-metrics"),zoomType:"x",height:400},title:{text:r("history","metrics:title")},noData:{},xAxis:{type:"category"},yAxis:[{title:{text:r("history","metrics:u")},tickAmount:6},{title:{text:r("history","metrics:i")},tickAmount:6},{title:{text:r("history","metrics:r")},opposite:!0,tickAmount:6},{title:{text:r("history","metrics:p")},opposite:!0,tickAmount:6}],tooltip:{shared:!0,valueDecimals:2},legend:{enabled:!0},plotOptions:{line:{lineWidth:1.5,pointInterval:1,pointStart:0,marker:{radius:0,symbol:"circle",lineWidth:0,states:{hover:{radius:4}}}}},series:[{id:"uSet",name:r.bound("history","metrics:uSet"),type:"line",yAxis:0,data:i.uSet,min:0,tooltip:{valueSuffix:"V"},zIndex:1},{id:"uGet",name:r.bound("history","metrics:uGet"),type:"line",yAxis:0,data:i.uGet,min:0,tooltip:{valueSuffix:"V"},zIndex:2},{id:"i",name:r.bound("history","metrics:i"),type:"line",yAxis:1,data:i.i,min:0,tooltip:{valueSuffix:"A"},zIndex:3},{id:"r",name:r.bound("history","metrics:r"),type:"line",yAxis:2,data:i.r,min:0,tooltip:{valueSuffix:"Ω"},zIndex:4},{id:"p",name:r.bound("history","metrics:p"),type:"line",yAxis:3,data:i.p,min:0,tooltip:{valueSuffix:"W"},zIndex:5}]})}}}})}),define("app/history/templates/downloadAction",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="btn-group">\n  <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">\n    <i class="fa fa-download"></i><span>'),__append(t("history","PAGE_ACTION:download")),__append('</span> <span class="caret"></span>\n  </button>\n  <ul class="dropdown-menu pull-right">\n    '),Object.keys(files).forEach(function(e){__append('\n    <li class="'),__append(files[e]?"":"disabled"),__append('"><a '),__append(files[e]?'href="'+files[e]+'"':""),__append(">"),__append(t("history","PAGE_ACTION:download:"+e)),__append("</a></li>\n    ")}),__append("\n  </ul>\n</div>\n");return __output.join("")}}),define("app/history/templates/toggleResultDialog",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append("<div>\n  <p>"),__append(message),__append('</p>\n  <button class="btn btn-'),__append(buttonClassName),__append(' dialog-answer" type="button" data-answer="yes">\n    '),__append(action),__append('\n  </button>\n  <button class="btn btn-link cancel" type="button">\n    '),__append(t("history","toggleResultDialog:cancel")),__append("\n  </button>\n</div>\n");return __output.join("")}}),define("app/history/pages/HistoryEntryDetailsPage",["app/i18n","app/user","app/viewport","app/core/View","app/core/views/DialogView","app/core/util/bindLoadingMessage","../HistoryEntry","../views/HistoryEntryDetailsView","app/history/templates/downloadAction","app/history/templates/toggleResultDialog"],function(e,t,n,r,i,o,a,s,l,p){"use strict";return r.extend({layoutName:"page",pageId:"historyEntryDetails",breadcrumbs:function(){return[{label:e.bound("history","BREADCRUMBS:browse"),href:this.model.genClientUrl("base")},e.bound("history","BREADCRUMBS:details")]},actions:function(){var n=this.model,r=n.get("workflow"),i=n.get("feature"),o=n.get("gprsOrderFile"),a=n.get("gprsInputFile"),s=n.get("gprsOutputFile"),p=n.url()+";",c=!!n.get("cancelled"),u=[{template:function(){return l({files:{gprsOrderFile:o&&o.length?p+"gprsOrder":null,workflow:r&&r.length?p+"workflow":null,feature:i&&i.length?p+"feature":null,gprsInputFile:a&&a.length?p+"gprsInput":null,gprsOutputFile:s&&s.length?p+"gprsOutput":null}})}}];return t.isLocal()&&"success"===n.get("result")&&n.get("serviceTag")&&u.unshift({label:e("history","PAGE_ACTION:"+(c?"restore":"cancel")),icon:c?"check":"ban",callback:this.toggleResult.bind(this)}),u},remoteTopics:{"history.orderUpdated":function(e){var t=this.model.get("order");t&&e._id===t._id&&this.model.set("order",e)},"programmer.resultToggled":function(e){this.model.id===e.resultId&&this.model.set("cancelled",e.cancelled)}},initialize:function(){this.model=o(new a({_id:this.options.modelId}),this),this.view=new s({model:this.model,tab:this.options.tab})},setUpLayout:function(e){this.listenTo(this.model,"change:cancelled",function(){e.setActions(this.actions,this)})},load:function(e){return e(this.model.fetch())},toggleResult:function(){var t=!!this.model.get("cancelled"),r=t?"restore":"cancel",o=new i({template:p,model:{message:e("history","toggleResultDialog:message:"+r),action:e("history","toggleResultDialog:action:"+r),buttonClassName:t?"success":"danger"}}),a=this;this.listenTo(o,"answered",function(i){"yes"===i&&a.socket.emit("programmer.toggleResult",a.model.id,t,function(t){t?n.msg.show({type:"error",time:5e3,text:e("history","toggleResultDialog:msg:failure",{action:r,error:t.message})}):n.msg.show({type:"success",time:2e3,text:e("history","toggleResultDialog:msg:success",{action:r})})})}),n.showDialog(o,e("history","toggleResultDialog:title:"+r))}})}),define("app/nls/history",["app/nls/locale/en"],function(e){var t={lc:{pl:function(t){return e(t)},en:function(t){return e(t)}},c:function(e,t){if(!e)throw new Error("MessageFormat: Data required for '"+t+"'.")},n:function(e,t,n){if(isNaN(e[t]))throw new Error("MessageFormat: '"+t+"' isn't a number.");return e[t]-(n||0)},v:function(e,n){return t.c(e,n),e[n]},p:function(e,n,r,i,o){return t.c(e,n),e[n]in o?o[e[n]]:(n=t.lc[i](e[n]-r),n in o?o[n]:o.other)},s:function(e,n,r){return t.c(e,n),e[n]in r?r[e[n]]:r.other}};return{root:{"BREADCRUMBS:browse":function(e){return"History"},"BREADCRUMBS:details":function(e){return"Details"},"MSG:LOADING_FAILURE":function(e){return"Failed to load the programming results :("},"MSG:LOADING_SINGLE_FAILURE":function(e){return"Failed to load the programming result :("},"PANEL:TITLE:details:order":function(e){return"Local order details"},"PANEL:TITLE:details:entry":function(e){return"Programming details"},"PAGE_ACTION:cancel":function(e){return"Cancel result"},"PAGE_ACTION:restore":function(e){return"Restore result"},"PAGE_ACTION:export":function(e){return"Export results"},"PAGE_ACTION:download":function(e){return"Download configuration"},"PAGE_ACTION:download:workflow":function(e){return"MultiOneWorkflow configuration"},"PAGE_ACTION:download:feature":function(e){return"Driver configuration"},"PAGE_ACTION:download:gprsOrderFile":function(e){return"Order"},"PAGE_ACTION:download:gprsInputFile":function(e){return"CityTouchIPT configuration"},"PAGE_ACTION:download:gprsOutputFile":function(e){return"CityTouchIPT result"},"toggleResultDialog:title:cancel":function(e){return"Cancelling result"},"toggleResultDialog:title:restore":function(e){return"Restoring result"},"toggleResultDialog:message:cancel":function(e){return"Are you sure you want to cancel the chosen result?"},"toggleResultDialog:message:restore":function(e){return"Are you sure you want to restore the chosen result?"},"toggleResultDialog:action:cancel":function(e){return"Cancel result"},"toggleResultDialog:action:restore":function(e){return"Restore result"},"toggleResultDialog:cancel":function(e){return"Take no action"},"toggleResultDialog:msg:success":function(e){return"The result was "+t.s(e,"action",{cancel:"cancelled",other:"restored"})+" :-)"},"toggleResultDialog:msg:failure":function(e){return"Failed to "+t.s(e,"action",{cancel:"cancel",other:"restore"})+" the result: "+t.v(e,"error")},"PROPERTY:no":function(e){return"Order no"},"PROPERTY:totalCounter":function(e){return"Total programming attempts"},"PROPERTY:successCounter":function(e){return"Successful programming attempts"},"PROPERTY:failureCounter":function(e){return"Failed programming attempts"},"PROPERTY:order":function(e){return"Order"},"PROPERTY:quantity":function(e){return"Quantity"},"PROPERTY:counter":function(e){return"Counter"},"PROPERTY:nc12":function(e){return"Program 12NC"},"PROPERTY:gprsNc12":function(e){return"GPRS 12NC"},"PROPERTY:startedAt":function(e){return"Started at"},"PROPERTY:finishedAt":function(e){return"Finished at"},"PROPERTY:duration":function(e){return"Duration"},"PROPERTY:log":function(e){return"Log"},"PROPERTY:result":function(e){return"Result"},"PROPERTY:errorCode":function(e){return"Error"},"PROPERTY:exception":function(e){return"Exception"},"PROPERTY:featureFile":function(e){return"Driver configuration file"},"PROPERTY:featureFileName":function(e){return"Driver configuration file name"},"PROPERTY:feature":function(e){return"Driver configuration file contents"},"PROPERTY:workflowFile":function(e){return"Programmer configuration file"},"PROPERTY:workflow":function(e){return"Programmer configuration file contents"},"PROPERTY:programName":function(e){return"Program name"},"PROPERTY:programSteps":function(e){return"Program steps"},"PROPERTY:serviceTag":function(e){return"Service Tag"},"PROPERTY:prodLine":function(e){return"Production line"},"FILTER:from":function(e){return"From"},"FILTER:to":function(e){return"To"},"FILTER:result:success":function(e){return"Success"},"FILTER:result:failure":function(e){return"Failure"},"FILTER:limit":function(e){return"Limit"},"FILTER:submit":function(e){return"Filter results"},"tab:log":function(e){return"Programming log"},"tab:output":function(e){return"Communication log"},"tab:workflow":function(e){return"MultiOneWorkflow configuration"},"tab:feature":function(e){return"Driver configuration"},"tab:leds":function(e){return"LED boards"},"tab:hidLamps":function(e){return"HID lamps"},"tab:program":function(e){return"Program"},"tab:gprsOrderFile":function(e){return"Order"},"tab:gprsInputFile":function(e){return"CityTouchIPT configuration"},"tab:gprsOutputFile":function(e){return"CityTouchIPT result"},"metrics:title":function(e){return"Measured values"},"metrics:u":function(e){return"Voltage"},"metrics:uSet":function(e){return"Set voltage"},"metrics:uGet":function(e){return"Measured voltage"},"metrics:i":function(e){return"Current"},"metrics:r":function(e){return"Resistance"},"metrics:p":function(e){return"Power"},"log:ORDER_CREATED":function(e){return"Starting a new order no <code>"+t.v(e,"orderNo")+"</code> (1/"+t.v(e,"quantity")+")..."},"log:ORDER_CONTINUED":function(e){return"Continuing an existing order no <code>"+t.v(e,"orderNo")+"</code> ("+t.v(e,"counter")+"/"+t.v(e,"quantity")+")..."},"log:PROGRAMMING_STARTED":function(e){return"Starting a programming of the 12NC <code>"+t.v(e,"nc12")+"</code>..."},"log:COUNTDOWN_STARTED":function(e){return"Counting down <code>"+t.v(e,"delay")+"</code> "+t.p(e,"delay",0,"en",{one:"second",other:"seconds"})+"..."},"log:READING_WORKFLOW_FILE":function(e){return"Reading contents of the programmer configuration file: <code>"+t.v(e,"workflowFile")+"</code>"},"log:WORKFLOW_FILE_READ":function(e){return"Read <code>"+t.v(e,"length")+"B</code> of the programmer configuration file."},"log:WRITING_WORKFLOW_FILE":function(e){return"Writing contents of the programmer configuratino file: <code>"+t.v(e,"workflowFile")+"</code> (<code>"+t.v(e,"workflowOptions")+"</code>)"},"log:WORKFLOW_FILE_WRITTEN":function(e){return"Written <code>"+t.v(e,"length")+"B</code> of the programmer configuration file."},"log:USING_LAST_FEATURE_FILE":function(e){return"Skipping searching for a driver configuration file: the last file will be used."},"log:SEARCHING_FEATURE_FILE":function(e){return"Searching for a driver configuration file in path: <code>"+t.v(e,"featurePath")+"</code>"},"log:SEARCHING_FEATURE_FILE_FAILURE":function(e){return"Driver configuration file searching failed: <code>"+t.v(e,"error")+"</code>"},"log:SEARCHING_FEATURE_FILE_TIMEOUT":function(e){return"Driver configuration file searching timed out."},"log:MISSING_FEATURE_FILE_1":function(e){return"Driver configuration file was not found in the first path."},"log:MISSING_FEATURE_FILE_2":function(e){return"Driver configuration file was not found in the backup path."},"log:DUPLICATE_FEATURE_FILE_1":function(e){return"Found "+t.v(e,"fileCount")+" driver configuration "+t.p(e,"fileCount",0,"en",{one:"file",other:"files"})+" for the specified 12NC in the first path."},"log:DUPLICATE_FEATURE_FILE_2":function(e){return"Found "+t.v(e,"fileCount")+" driver configuration "+t.p(e,"fileCount",0,"en",{one:"file",other:"files"})+" for the specified 12NC in the backup path."},"log:FEATURE_FILE_FOUND":function(e){return"Found the driver configuration file: <code>"+t.v(e,"featureFile")+"</code>"},"log:SKIPPING_FEATURE_FILE_2":function(e){return"Skipping searching for the driver configuration file in the backup path..."},"log:CANCELLING":function(e){return"Cancelling..."},"log:GENERIC_FAILURE":function(e){return"Unsuccessfully finished in <code>"+t.v(e,"duration")+"</code> with an error: <code>"+t.v(e,"error")+"</code>"},"log:PROGRAMMING_SUCCESS":function(e){return"Successfully finished the programming of the 12NC <code>"+t.v(e,"nc12")+"</code> in <code>"+t.v(e,"duration")+"</code>."},"log:PROGRAMMING_FAILURE":function(e){return"Unsuccessfully finished the programming of the 12NC <code>"+t.v(e,"nc12")+"</code> in <code>"+t.v(e,"duration")+"</code> with an error: <code>"+t.v(e,"error")+"</code>"},"log:LED_SCANNING_SUCCESS":function(e){return"Successfully finished the LED boards scanning in <code>"+t.v(e,"duration")+"</code>."},"log:LED_SCANNING_FAILURE":function(e){return"Unsuccessfully finished the LED boards scanning in <code>"+t.v(e,"duration")+"</code> with an error: <code>"+t.v(e,"error")+"</code>"},"log:TESTING_SUCCESS":function(e){return"Successfully finished the testing in <code>"+t.v(e,"duration")+"</code>."},"log:TESTING_FAILURE":function(e){return"Unsuccessfully finished the testing in <code>"+t.v(e,"duration")+"</code> with an error: <code>"+t.v(e,"error")+"</code>"},"log:READING_FEATURE_FILE":function(e){return"Reading contents of the driver configuration file..."},"log:READING_FEATURE_FILE_FAILURE":function(e){return"Reading contents of the driver configuration file failed: <code>"+t.v(e,"error")+"</code>"},"log:READING_FEATURE_FILE_TIMEOUT":function(e){return"Reading contents of the driver configuration file timed out."},"log:FEATURE_FILE_READ":function(e){return"Read <code>"+t.v(e,"length")+"B</code> of the driver configuration file."},"log:STARTING_PROGRAMMER":function(e){return"Starting the programmer using the <code>"+t.s(e,"interface",{d:"USB2DALI",s:"SimpleSet®",z:"ZigBee",i:"IP",other:"?"})+"</code> interface: <code>"+t.v(e,"programmerFile")+"</code>"},"log:SOL_STARTED":function(e){return"Starting a Fortimo Solar programming..."},"log:SOL_PARSE_ERROR":function(e){return"Error during a parsing of the program file in line <code>"+t.v(e,"i")+"</code>: <code>"+t.v(e,"line")+"</code>"},"log:SOL_SEARCHING_COM":function(e){return"Searching for a serial port using matching the pattern: <code>"+t.v(e,"pattern")+"</code>..."},"log:SOL_OPENING_COM":function(e){return"Opening the <code>"+t.v(e,"comPort")+"</code> serial port..."},"log:SOL_EXECUTING_SET_COMMANDS":function(e){return"Executing "+t.p(e,"count",0,"en",{one:"<code>1</code> SET parameter value command",other:"<code>"+t.v(e,"count")+"</code> SET parameter value commands"})+"..."},"log:SOL_RESETTING":function(e){return"Resetting the device..."},"log:SOL_EXECUTING_GET_COMMANDS":function(e){return"Comparing the programmed parameter values..."},"log:SOL_INVALID_OPTION":function(e){return"Read parameter value of option <code>"+t.v(e,"option")+"</code> differs from the programmed value (expected <code>"+t.v(e,"expected")+"</code>; got <code>"+t.v(e,"actual")+"</code>)."},"log:LPT_STARTING":function(e){return"(LPT) Waiting for a signal to start the programmer..."},"log:LPT_FINISHING":function(e){return"(LPT) Setting the result value..."},"log:TESTING_WITH_PROGRAM_STARTED":function(e){return"Starting the testing process..."},"log:TESTING_STARTED":function(e){return"Starting <code>"+t.v(e,"program")+"</code> program..."},"log:TESTING_SEARCHING_COM":function(e){return"Searching for a serial port using matching the pattern: <code>"+t.v(e,"pattern")+"</code>..."},"log:TESTING_OPENING_COM":function(e){return"Opening the <code>"+t.v(e,"comPort")+"</code> serial port..."},"log:TESTING_SDP_SETUP":function(e){return"Setting up the SDP..."},"log:TESTING_SDP_TEARDOWN":function(e){return"Tearing down the SDP..."},"log:TESTING_PLC_SETUP":function(e){return"Setting up the PLC..."},"log:TESTING_PLC_TEARDOWN":function(e){return"Tearing down the PLC..."},"log:TESTING_EXECUTING_STEP":function(e){return t.s(e,"type",{wait:"Waiting",pe:"Executing the protective earth test",iso:"Executing the isolation resistance test",sol:"Executing the Fortimo Solar programming",program:"Executing the programming step",fn:"Executing the functional test",vis:"Executing the visual test",other:"Executing the <em>"+t.v(e,"type")+"</em> program step"})+"..."},"log:TESTING_SKIPPING_PROGRAMMING":function(e){return"Skipping the programming step..."},"log:ACQUIRING_SERVICE_TAG":function(e){return"Acquiring a new Service Tag..."},"log:SERVICE_TAG_ACQUIRED":function(e){return"Acquired Service Tag: <code>"+t.v(e,"serviceTag")+"</code>"},"log:ACQUIRING_SERVICE_TAG_FAILURE":function(e){return"Failed to acquire a new Service Tag: <code>"+t.v(e,"error")+"</code>"},"log:SKIPPING_SERVICE_TAG_ACQUIRING":function(e){return"Skipping acquiring a new Service Tag..."},"log:PRINTING_SERVICE_TAG":function(e){return"Printing a Service Tag label on the <code>"+t.v(e,"printerName")+"</code> printer..."},"log:PRINTING_SERVICE_TAG_FAILURE":function(e){return"Failed to print a Service Tag label: <code>"+t.v(e,"error")+"</code>"},"log:LED_CHECKING_STARTED":function(e){return"Starting the LED boards check..."},"log:WAITING_FOR_LEDS":function(e){return"Waiting for "+t.v(e,"ledCount")+" LED "+t.p(e,"ledCount",0,"en",{one:"board",other:"boards"})+"..."},"log:ADDING_LAST_LEDS":function(e){return"Adding "+t.v(e,"ledCount")+" LED "+t.p(e,"ledCount",0,"en",{one:"board",other:"boards"})+" from the last failed programming..."},"log:WAITING_FOR_CONTINUE":function(e){return"Waiting for the Continue button to be pressed..."},"log:GENERATING_SERVICE_TAG":function(e){return"Generating a new Service Tag..."},"log:SERVICE_TAG_GENERATED":function(e){return"Generated Service Tag: <code>"+t.v(e,"serviceTag")+"</code>"},"error:WORKFLOW_FILE_ERROR":function(e){return"Error during the reading of the programmer configuration file contents."},"error:WORKFLOW_FILE_WRITE_ERROR":function(e){return"Error during the writing of the programmer configuration file contents."},"error:FEATURE_FILE_ERROR":function(e){return"Error during the reading of the driver configuration file contents."},"error:UNSET_WORKFLOW_FILE":function(e){return"Path to the programmer configuration file was not set."},"error:UNSET_FEATURE_PATH_1":function(e){return"First path to the driver configuration files was not set."},"error:UNSET_PROGRAMMER_FILE":function(e){return"Path to the programmer executable file was not set."},"error:MISSING_WORKFLOW_FILE":function(e){return"Programmer configuration file was not found."},"error:MISSING_FEATURE_FILE":function(e){return"Driver configuration file was not found."},"error:DUPLICATE_FEATURE_FILE":function(e){return"Detected multiple driver configuration files for the specified 12NC."},"error:CANCELLED":function(e){return"Programming cancelled."},"error:READING_FEATURE_FILE_TIMEOUT":function(e){return"Reading the contents of the driver configuration file timed out."},"error:MISSING_PROGRAMMER_FILE":function(e){return"Programmer executable file was not found."},"error:PROGRAMMER_FILE_ERROR":function(e){return"Error during running of the programmer executable file."},"error:EXIT_CODE:-1":function(e){return"MultiOneWorkflow (-1): general application failure."},"error:EXIT_CODE:1":function(e){return"MultiOneWorkflow (1): user software key not activated."},"error:EXIT_CODE:4":function(e){return"MultiOneWorkflow (4): verification failed."},"error:EXIT_CODE:5":function(e){return"MultiOneWorkflow (5): the protocol provided as argument to the command line is wrong."},"error:EXIT_CODE:6":function(e){return"MultiOneWorkflow (6): multiple interfaces connected, making a choice is required (look at the /id argument)."},"error:EXIT_CODE:7":function(e){return"MultiOneWorkflow (7): specified interface (/id) is not connected."},"error:EXIT_CODE:9":function(e){return"MultiOneWorkflow (9): workflow configuration file not found."},"error:EXIT_CODE:10":function(e){return"MultiOneWorkflow (10): workflow configuration file not valid."},"error:EXIT_CODE:11":function(e){return"MultiOneWorkflow (11): Workflow configuration file not specified."},"error:EXIT_CODE:12":function(e){return"MultiOneWorkflow (12): the default template is used as Workflow configuration file."},"error:EXIT_CODE:13":function(e){return"MultiOneWorkflow (13): mandatory settings are missing in the Workflow configuration file."},"error:EXIT_CODE:14":function(e){return"MultiOneWorkflow (14): a Workflow configuration file is used which is located in the installation directory."},"error:EXIT_CODE:20":function(e){return"MultiOneWorkflow (20): supported devices file not found."},"error:EXIT_CODE:21":function(e){return"MultiOneWorkflow (21): supported devices file not valid."},"error:EXIT_CODE:30":function(e){return"MultiOneWorkflow (30): label data folder could not be created."},"error:EXIT_CODE:31":function(e){return"MultiOneWorkflow (31): label data could not be generated."},"error:EXIT_CODE:32":function(e){return"MultiOneWorkflow (32): label data could not be exported."},"error:EXIT_CODE:101":function(e){return"MultiOneWorkflow (101): there are no features to write."},"error:EXIT_CODE:102":function(e){return"MultiOneWorkflow (102): writing failed."},"error:EXIT_CODE:150":function(e){return"MultiOneWorkflow (150): resetting the short address of the device failed."},"error:EXIT_CODE:151":function(e){return"MultiOneWorkflow (151): the DALI factory new operation failed."},"error:EXIT_CODE:200":function(e){return"MultiOneWorkflow (200): feature file not present."},"error:EXIT_CODE:201":function(e){return"MultiOneWorkflow (201): invalid feature configuration file."},"error:EXIT_CODE:202":function(e){return"MultiOneWorkflow (202): feature configuration file is null or empty."},"error:EXIT_CODE:203":function(e){return"MultiOneWorkflow (203): feature configuration file contains duplicate features.";
},"error:EXIT_CODE:255":function(e){return"MultiOneWorkflow (255): programming under Linux unavailable."},"error:EXIT_CODE:300":function(e){return"MultiOneWorkflow (300): the device does not support all features from the feature configuration file."},"error:EXIT_CODE:301":function(e){return"MultiOneWorkflow (301): the device is not of the model specified in the feature file."},"error:EXIT_CODE:302":function(e){return"MultiOneWorkflow (302): configuration mismatch, the device was configured incorrectly. Please use MultiOne to identify and resolve the problem.."},"error:EXIT_CODE:349":function(e){return"MultiOneWorkflow (349): the OEM Write Protection password stored in the feature file is not required to program the device. Remove the stored OEM Write Protection password from the feature file."},"error:EXIT_CODE:350":function(e){return"MultiOneWorkflow (350): the OEM Write Protection password stored in the feature file does not correspond with the password in the device."},"error:EXIT_CODE:351":function(e){return"MultiOneWorkflow (351): the ALO min value stored in the device is higher than the ALO value in the feature file."},"error:EXIT_CODE:400":function(e){return"MultiOneWorkflow (400): writing traceability information failed."},"error:EXIT_CODE:500":function(e){return"MultiOneWorkflow (500): no device found."},"error:EXIT_CODE:501":function(e){return"MultiOneWorkflow (501): too many devices found."},"error:EXIT_CODE:502":function(e){return"MultiOneWorkflow (502): unable to execute discover."},"error:EXIT_CODE:503":function(e){return"MultiOneWorkflow (503): multiple devices share the same short address."},"error:EXIT_CODE:504":function(e){return"MultiOneWorkflow (504): unsupported device detected."},"error:EXIT_CODE:600":function(e){return"MultiOneWorkflow (600): no features to convert."},"error:EXIT_CODE:650":function(e){return"MultiOneWorkflow (650): there are no features to read (there are no features in the feature file matching the features in the device)."},"error:EXIT_CODE:651":function(e){return"MultiOneWorkflow (651): reading feature data failed."},"error:EXIT_CODE:700":function(e){return"MultiOneWorkflow (700): no interface connected."},"error:EXIT_CODE:800":function(e){return"MultiOneWorkflow (800): convert feature data is not possible."},"error:EXIT_CODE:900":function(e){return"MultiOneWorkflow (900): the provided scheduler file is invalid and could not be loaded."},"error:EXIT_CODE:1000":function(e){return"MultiOneWorkflow (1000): the database file is not found. Please re-install MultiOne Workflow."},"error:EXIT_CODE:1100":function(e){return"MultiOneWorkflow (1100): the supplied location of the data logging is not a valid location."},"error:EXIT_CODE:1101":function(e){return"MultiOneWorkflow (1101): data logging tried to create a file but it already exists."},"error:EXIT_CODE:1102":function(e){return"MultiOneWorkflow (1102): data logging tried to append a file, but the file was not a valid xml file."},"error:EXIT_CODE:1103":function(e){return"MultiOneWorkflow (1103): data logging is not supported with multidevice configuring, disable either one of the settings."},"error:SOL_PARSE_ERROR":function(e){return"SOL: Error during parsing of the program file."},"error:SOL_NO_COMMANDS":function(e){return"SOL: No SET commands were found in the program file."},"error:SOL_SEARCHING_COM_FAILURE":function(e){return"SOL: Error while searching for a serial port."},"error:SOL_COM_NOT_FOUND":function(e){return"SOL: Serial port was not found."},"error:SOL_OPENING_COM_FAILURE":function(e){return"SOL: Error while opening the serial port."},"error:SOL_SERIAL_PORT_FAILURE":function(e){return"SOL: Serial port error."},"error:SOL_INVALID_OPTION":function(e){return"SOL: Read value differs from the programmed one."},"error:SOL_NO_CONNECTION":function(e){return"SOL: No response from the device. Check the serial port connection."},"error:SOL_FEATURE_DISABLED":function(e){return"The current license doesn't have the Fortimo Solar programming option."},"error:LPT_FILE_ERROR":function(e){return"Error during LPT communication."},"error:LPT_START_TIMEOUT":function(e){return"Waiting for a signal to start the programmer timed out."},"error:T24VDC_FEATURE_DISABLED":function(e){return"The current license doesn't have the Tester 24V DC option."},"error:TESTING_DISABLED":function(e){return"T24VDC: Testing option is disabled."},"error:TESTING_NOT_SOL":function(e){return"T24VDC: The found driver configuration has an invalid type."},"error:TESTING_SEARCHING_COM_FAILURE":function(e){return"T24VDC: Error while searching for a serial port."},"error:TESTING_COM_NOT_FOUND":function(e){return"T24VDC: Serial port was not found."},"error:TESTING_OPENING_COM_FAILURE":function(e){return"T24VDC: Error while opening the serial port."},"error:TESTING_SERIAL_PORT_FAILURE":function(e){return"T24VDC: Serial port error."},"error:TESTING_PLC_FAILURE":function(e){return"T24VDC: PLC error."},"error:TESTING_PLC_NO_CONNECTION":function(e){return"T24VDC: Failed to connect to the PLC. Check the Modbus settings."},"error:TESTING_SDP_TIMEOUT":function(e){return"T24VDC: Waiting for a response from the SDP timed out."},"error:TESTING_SDP_INVALID_RESPONSE":function(e){return"T24VDC: Received an invalid response from the SDP."},"error:TESTING_MAX_RESISTANCE":function(e){return"T24VDC: Exceeded the maximum resistance value."},"error:TESTING_MIN_POWER":function(e){return"T24VDC: Exceeded the minimum power value."},"error:TESTING_MAX_POWER":function(e){return"T24VDC: Exceeded the maximum power value."},"error:REMOTE_SERVICE_TAG_FAILURE":function(e){return"Error during acquisition of a new Service Tag."},"error:INVALID_ITEM_QUANTITY":function(e){return"Detected invalid component quantities in the current order."},"error:NOTHING_DONE":function(e){return"Nothing was done (empty order?)"},"log:GPRS:READING_ORDER_FILE":function(e){return"Reading contents of the order file: <code>"+t.v(e,"orderFile")+"</code>"},"log:GPRS:ORDER_FILE_READ":function(e){return"Read <code>"+t.v(e,"length")+"B</code> of the order file."},"log:GPRS:READING_INPUT_TEMPLATE_FILE":function(e){return"Reading the programmer input template file: <code>"+t.v(e,"inputTemplateFile")+"</code>"},"log:GPRS:INPUT_TEMPLATE_FILE_READ":function(e){return"Read <code>"+t.v(e,"length")+"B</code> of the programmer input template file."},"log:GPRS:PARSING_INPUT_TEMPLATE":function(e){return"Parsing the programmer input template file..."},"log:GPRS:PARSING_INPUT_TEMPLATE_SUCCESS":function(e){return"Successfully parsed the programmer input template file."},"log:GPRS:PREPARING_INPUT_FILE":function(e){return"Preparing the programmer input file..."},"log:GPRS:PREPARING_INPUT_FILE_SUCCESS":function(e){return"Successfully prepared the programmer input file."},"log:GPRS:PROGRAMMER_FILE_STARTED":function(e){return"Starting the programmer using the <code>"+t.v(e,"daliPort")+"</code> DALI port: <code>"+t.v(e,"programmerFile")+"</code>"},"log:GPRS:READING_OUTPUT_FILE":function(e){return"Reading the programmer output file: <code>"+t.v(e,"outputFile")+"</code>"},"log:GPRS:READING_OUTPUT_FILE_SUCCESS":function(e){return"Read <code>"+t.v(e,"length")+"B</code> of the programmer input template file."},"log:GPRS:COPYING_OUTPUT_FILE":function(e){return"Copying the programmer output file.."},"log:GPRS:COPYING_OUTPUT_FILE_SUCCESS":function(e){return"Successfully copied the programmer output file."},"log:GPRS:VERIFICATION_STARTED":function(e){return"Starting the verification process..."},"log:GPRS:VERIFICATION_SKIPPED":function(e){return"Skipping the verification process..."},"error:GPRS:READING_ORDER_FILE_FAILURE":function(e){return"GPRS: Reading contents of the order file failed."},"error:GPRS:READING_ORDER_FILE_TIMEOUT":function(e){return"GPRS: Reading the contents of the order file timed out."},"error:GPRS:READING_INPUT_TEMPLATE_FILE_FAILURE":function(e){return"GPRS: Reading contents of the programmer input template file failed."},"error:GPRS:READING_INPUT_TEMPLATE_FILE_TIMEOUT":function(e){return"GPRS: Reading the contents of the programmer input template file timed out."},"error:GPRS:PARSING_INPUT_TEMPLATE_FAILURE":function(e){return"GPRS: Error during parsing of the programmer input template file."},"error:GPRS:PREPARING_INPUT_FILE_FAILURE":function(e){return"GPRS: Error during saving of the programmer input configuration file."},"error:GPRS:INVALID_OPTION":function(e){return"GPRS: Invalid configuration option."},"error:GPRS:PARSING_DRIVER_FILE_FAILURE":function(e){return"GPRS: Error during parsing of the driver configuration file."},"error:GPRS:PROGRAMMER_FILE_UNSET":function(e){return"GPRS: Path to the programmer executable file was not set."},"error:GPRS:PROGRAMMER_FILE_MISSING":function(e){return"GPRS: Programmer executable file was not found."},"error:GPRS:PROGRAMMER_FILE_FAILURE":function(e){return"GPRS: Error during execution of the programmer executable."},"error:GPRS:OUTPUT_FILE_MISSING":function(e){return"GPRS: Programmer output file was not found."},"error:GPRS:COPYING_OUTPUT_FILE_FAILURE":function(e){return"GPRS: Error during copying of the programmer output file."},"error:GPRS:VERIFICATION_INPUT_FAILURE":function(e){return"GPRS: Error during copying of the programmer output file for verification."},"error:GPRS:VERIFICATION_ERROR":function(e){return"GPRS: Programmer output file didn't pass the verification."},"error:GPRS:VERIFICATION_TIMEOUT":function(e){return"GPRS: Programmer output file verification timed out."},"error:GPRS:EXIT_CODE:-1":function(e){return"CityTouchIPT (-1): general application failure."},"error:GPRS:EXIT_CODE:255":function(e){return"CityTouchIPT (255): programming under Linux unavailable."},"log:GLP2:RESETTING_TESTER":function(e){return"Resetting the GLP2-I tester..."},"log:GLP2:TEST_STEP_FAILURE":function(e){return"Exceeded set value 1 <code>"+t.v(e,"setValue")+"</code>: <code>"+t.v(e,"actualValue")+"</code> or set value 2: <code>"+t.v(e,"setValue2")+"</code>: <code>"+t.v(e,"actualValue2")+"</code>"},"error:GLP2:SETTING_DISABLED":function(e){return"GLP2: Option is disabled in the settings."},"error:GLP2:FEATURE_DISABLED":function(e){return"The current license doesn't have the Tester GLP2-I option."},"error:GLP2:TESTER_NOT_READY":function(e){return"GLP2: Tester is not ready."},"error:GLP2:RESETTING_TESTER_FAILURE":function(e){return"GLP2: Resetting the tester failed."},"error:GLP2:PROGRAM_NOT_RECOGNIZED":function(e){return"GLP2: Program not recognized."},"error:GLP2:UNEXPECTED_RESPONSE":function(e){return"GLP2: Unexpected response from the tester."},"error:GLP2:TEST_STEP_FAILURE":function(e){return"GLP2: Test step failed."},"error:GLP2:BUSY_TESTER":function(e){return"GLP2: Tester is busy or requires a BlackBox test."},"error:GLP2:INVALID_CHECKSUM":function(e){return"GLP2: Invalid response checksum from the tester."},"error:GLP2:INVALID_PARAMETERS":function(e){return"GLP2: Invalid tester parameters."},"error:GLP2:INVALID_RESPONSE":function(e){return"GLP2: Invalid response from the tester."},"error:GLP2:NO_CONNECTION":function(e){return"GLP2: No connection to the tester."},"error:GLP2:RESPONSE_TIMEOUT":function(e){return"GLP2: Response timed out."},"error:GLP2:FAULT:1":function(e){return"GLP2 (1): Safety contact interrupted."},"error:GLP2:FAULT:2":function(e){return"GLP2 (2): Fuse defective."},"error:GLP2:FAULT:3":function(e){return"GLP2 (3): No test step defined."},"error:GLP2:FAULT:4":function(e){return"GLP2 (4): Voltage substitute leakage current not OK."},"error:GLP2:FAULT:5":function(e){return"GLP2 (5): Short circuit at test object."},"error:GLP2:FAULT:6":function(e){return"GLP2 (6): Error at voltage control."},"error:GLP2:FAULT:7":function(e){return"GLP2 (7): Data error."},"error:GLP2:FAULT:8":function(e){return"GLP2 (8): Below minimum current at LKC."},"error:GLP2:FAULT:9":function(e){return"GLP2 (9): Cancelled."},"error:GLP2:FAULT:10":function(e){return"GLP2 (10): Below minimum voltage HV."},"error:GLP2:FAULT:11":function(e){return"GLP2 (11): Maximum voltage HV exceeded."},"error:GLP2:FAULT:12":function(e){return"GLP2 (12): Below minimum current HV."},"error:GLP2:FAULT:13":function(e){return"GLP2 (13): Communication error at HV electronics."},"error:GLP2:FAULT:14":function(e){return"GLP2 (14): HV voltage check failed."},"error:GLP2:FAULT:15":function(e){return"GLP2 (15): Test program doesn't exist."},"error:GLP2:FAULT:16":function(e){return"GLP2 (16): Adjusting error at high-voltage test."},"error:GLP2:FAULT:17":function(e){return"GLP2 (17): U max fuse of leakage-current test EN60601 has triggered."},"error:GLP2:FAULT:18":function(e){return"GLP2 (18): Test object is still under voltage (between L-N)"},"error:GLP2:FAULT:19":function(e){return"GLP2 (19): Mains plug twisted (when testing without isolating transformer)."},"error:GLP2:FAULT:20":function(e){return"GLP2 (20): PE of mains lead is missing."},"error:GLP2:FAULT:21":function(e){return"GLP2 (21): Printer at the parallel port (LPT1) not ready!"},"error:GLP2:FAULT:22":function(e){return"GLP2 (22): High voltage disabled (key switch)."},"error:GLP2:FAULT:23":function(e){return"GLP2 (23): Thermo switch of high voltage has triggered."},"error:GLP2:FAULT:24":function(e){return"GLP2 (24): The device is not enabled for operation."},"error:GLP2:FAULT:25":function(e){return"GLP2 (25): Maximum primary current of the HV-test."},"error:GLP2:FAULT:26":function(e){return"GLP2 (26): The phase of the external FCT voltage is not existing or is polarized incorrectly."},"error:GLP2:FAULT:27":function(e){return"GLP2 (27): Automatic closing of the protection cover error."},"error:GLP2:FAULT:28":function(e){return"GLP2 (28): No test object."},"error:GLP2:FAULT:29":function(e){return"GLP2 (29): Test sequence has reported an error."},"error:GLP2:FAULT:30":function(e){return"GLP2 (30): Temperature regulation error (test step TMP)."},"error:GLP2:FAULT:31":function(e){return"GLP2 (31): FI reference test error."},"log:FL:MONITORING":function(e){return"Monitoring the lighting time of <code>"+t.v(e,"count")+"</code> "+t.p(e,"count",0,"en",{one:"lamp",other:"lamps"})+"..."},"log:FL:LIGHTING_TIME":function(e){return t.v(e,"no")+". lamp shone continuously for <code>"+t.v(e,"duration")+"</code> ms."},"error:FL:FEATURE_DISABLED":function(e){return"The current license doesn't have the Fluorescent Lamps option."},"error:FL:LIGHTING_TIME_TOO_SHORT":function(e){return"FL: Lighting time too short."},"log:FT:STARTED":function(e){return"Starting a frame test..."},"log:FT:SUCCESS":function(e){return"Successfully finished the frame test in <code>"+t.v(e,"duration")+"</code>."},"log:FT:FAILURE":function(e){return"Unsuccessfully finished the frame test in <code>"+t.v(e,"duration")+"</code> with an error: <code>"+t.v(e,"error")+"</code>"},"log:FT:CONNECTING":function(e){return"Connecting to the tester..."},"log:FT:RESETTING":function(e){return"Resetting the tester..."},"log:FT:PROGRAMMING":function(e){return"Programming the tester..."},"log:FT:CHECKING":function(e){return"Checking the PE..."},"error:FT:INVALID_SERIAL_PROXY_ADDRESS":function(e){return"FT: Invalid ser2net server address."},"error:FT:CONNECTING_FAILURE":function(e){return"FT: Tester connection failure."},"error:FT:SDP_TIMEOUT":function(e){return"FT: Waiting for a response from the SDP timed out."},"error:FT:SDP_INVALID_RESPONSE":function(e){return"FT: Received an invalid response from the SDP."},"error:FT:PE_FAILURE":function(e){return"FT: PE failure."},"log:HID:STARTED":function(e){return"Starting a HID lamp check..."},"log:HID:SUCCESS":function(e){return"Successfully finished the HID lamp check in <code>"+t.v(e,"duration")+"</code>."},"log:HID:FAILURE":function(e){return"Unsuccessfully finished the HID lamp check in <code>"+t.v(e,"duration")+"</code> with an error: <code>"+t.v(e,"error")+"</code>"},"log:HID:WAITING":function(e){return"Waiting for "+t.v(e,"hidLampCount")+" HID "+t.p(e,"hidLampCount",0,"en",{one:"lamp",other:"lamps"})+"..."},"log:WEIGHT:STARTED":function(e){return"Starting a component weighing..."},"log:WEIGHT:SUCCESS":function(e){return"Successfully finished the component weighing in <code>"+t.v(e,"duration")+"</code>."},"log:WEIGHT:FAILURE":function(e){return"Unsuccessfully finished the component weighing in <code>"+t.v(e,"duration")+"</code> with an error: <code>"+t.v(e,"error")+"</code>"},"log:WEIGHT:SCANNING":function(e){return"Waiting for the component code scan..."},"log:WEIGHT:SCANNED":function(e){return"Scanned: <code>"+t.v(e,"scanValue")+"</code>"},"log:WEIGHT:CHECKING_COMPONENT":function(e){return"Checking component <code>"+t.v(e,"nc12")+"</code>..."},"log:WEIGHT:SELECTING_COMPONENT":function(e){return"Waiting for the selection of 1 of "+t.v(e,"count")+" components with 12NC <code>"+t.v(e,"nc12")+"</code>..."},"log:WEIGHT:COMPONENT_SELECTED:AUTO":function(e){return"Selected component basing on the last result: <code>"+t.v(e,"description")+"</code>"},"log:WEIGHT:COMPONENT_SELECTED:MANUAL":function(e){return"Selected component: <code>"+t.v(e,"description")+"</code>"},"log:WEIGHT:WEIGHING":function(e){return"Weighing component <code>"+t.v(e,"component")+"</code>. Required weight: <code>"+t.v(e,"weight")+"</code>g"},"log:WEIGHT:WEIGHED":function(e){return"Actual weight: <code>"+t.v(e,"weight")+"</code>g"},"error:WEIGHT:SCAN_FAILURE":function(e){return"The scanned component code was invalid."},"error:WEIGHT:DB_FAILURE":function(e){return"Remote database error while checking the component."},"error:WEIGHT:ORDER_NOT_FOUND":function(e){return"The scanned component does not exist in the selected order."},"error:WEIGHT:WEIGHT_NOT_FOUND":function(e){return"No weight is defined for the scanned component."},"error:WEIGHT:SN_ALREADY_USED":function(e){return"The component's serial number was already used."},"error:WEIGHT:BAD_RESPONSE":function(e){return"Invalid response from the remote server."},"error:WEIGHT:TIMEOUT":function(e){return"Waiting for the component weight timed out."},"error:WEIGHT:NO_CONNECTION":function(e){return"No connection to the scales."}},pl:!0}}),define("app/nls/pl/history",["app/nls/locale/pl"],function(e){var t={lc:{pl:function(t){return e(t)},en:function(t){return e(t)}},c:function(e,t){if(!e)throw new Error("MessageFormat: Data required for '"+t+"'.")},n:function(e,t,n){if(isNaN(e[t]))throw new Error("MessageFormat: '"+t+"' isn't a number.");return e[t]-(n||0)},v:function(e,n){return t.c(e,n),e[n]},p:function(e,n,r,i,o){return t.c(e,n),e[n]in o?o[e[n]]:(n=t.lc[i](e[n]-r),n in o?o[n]:o.other)},s:function(e,n,r){return t.c(e,n),e[n]in r?r[e[n]]:r.other}};return{"BREADCRUMBS:browse":function(e){return"Historia"},"BREADCRUMBS:details":function(e){return"Szczegóły"},"MSG:LOADING_FAILURE":function(e){return"Ładowanie historii nie powiodło się :("},"MSG:LOADING_SINGLE_FAILURE":function(e){return"Ładowanie danych wpisu historii nie powiodło się :("},"PANEL:TITLE:details:order":function(e){return"Szczegóły lokalnego zlecenia"},"PANEL:TITLE:details:entry":function(e){return"Szczegóły programowania"},"PAGE_ACTION:cancel":function(e){return"Anuluj wynik"},"PAGE_ACTION:restore":function(e){return"Przywróć wynik"},"PAGE_ACTION:export":function(e){return"Eksportuj historię"},"PAGE_ACTION:download":function(e){return"Pobierz konfigurację"},"PAGE_ACTION:download:workflow":function(e){return"Konfiguracja MultiOneWorkflow"},"PAGE_ACTION:download:feature":function(e){return"Konfiguracja drivera"},"PAGE_ACTION:download:gprsOrderFile":function(e){return"Zlecenie"},"PAGE_ACTION:download:gprsInputFile":function(e){return"Konfiguracja CityTouchIPT"},"PAGE_ACTION:download:gprsOutputFile":function(e){return"Wynik CityTouchIPT"},"toggleResultDialog:title:cancel":function(e){return"Anulowanie wyniku"},"toggleResultDialog:title:restore":function(e){return"Przywracanie wyniku"},"toggleResultDialog:message:cancel":function(e){return"Czy na pewno chcesz anulować wybrany wynik?"},"toggleResultDialog:message:restore":function(e){return"Czy na pewno chcesz przywrócić wybrany wynik?"},"toggleResultDialog:action:cancel":function(e){return"Anuluj wynik"},"toggleResultDialog:action:restore":function(e){return"Przywróć wynik"},"toggleResultDialog:cancel":function(e){return"Nie podejmuj akcji"},"toggleResultDialog:msg:success":function(e){return"Wynik został "+t.s(e,"action",{cancel:"anulowany",other:"przywrócony"})+" :-)"},"toggleResultDialog:msg:failure":function(e){return"Nie udało się "+t.s(e,"action",{cancel:"anulować",other:"przywrócić"})+" wyniku: "+t.v(e,"error")},"PROPERTY:no":function(e){return"Nr zlecenia"},"PROPERTY:totalCounter":function(e){return"Całkowita ilość programowań"},"PROPERTY:successCounter":function(e){return"Ilość pomyślnych programowań"},"PROPERTY:failureCounter":function(e){return"Ilość błędnych programowań"},"PROPERTY:order":function(e){return"Zlecenie"},"PROPERTY:quantity":function(e){return"Ilość"},"PROPERTY:counter":function(e){return"Licznik"},"PROPERTY:nc12":function(e){return"12NC programu"},"PROPERTY:gprsNc12":function(e){return"12NC GPRS"},"PROPERTY:startedAt":function(e){return"Czas rozpoczęcia"},"PROPERTY:finishedAt":function(e){return"Czas zakończenia"},"PROPERTY:duration":function(e){return"Czas trwania"},"PROPERTY:log":function(e){return"Log"},"PROPERTY:result":function(e){return"Wynik"},"PROPERTY:errorCode":function(e){return"Błąd"},"PROPERTY:exception":function(e){return"Szczegóły błędu"},"PROPERTY:featureFile":function(e){return"Plik konfiguracyjny drivera"},"PROPERTY:featureFileName":function(e){return"Nazwa pliku konfiguracyjnego drivera"},"PROPERTY:feature":function(e){return"Zawartość pliku konfiguracyjego drivera"},"PROPERTY:workflowFile":function(e){return"Plik konfiguracyjny programatora"},"PROPERTY:workflow":function(e){return"Zawartość pliku konfiguracyjnego programatora"},"PROPERTY:programName":function(e){return"Nazwa programu"},"PROPERTY:programSteps":function(e){return"Kroki programu"},"PROPERTY:serviceTag":function(e){return"Service Tag"},"PROPERTY:prodLine":function(e){return"Linia produkcyjna"},"FILTER:from":function(e){return"Od"},"FILTER:to":function(e){return"Do"},"FILTER:result:success":function(e){return"Sukces"},"FILTER:result:failure":function(e){return"Porażka"},"FILTER:limit":function(e){return"Limit"},"FILTER:submit":function(e){return"Filtruj historię"},"tab:log":function(e){return"Przebieg programowania"},"tab:output":function(e){return"Przebieg komunikacji"},"tab:workflow":function(e){return"Konfiguracja MultiOneWorkflow"},"tab:feature":function(e){return"Konfiguracja drivera"},"tab:leds":function(e){return"Płytki LED"},"tab:hidLamps":function(e){return"Lampy HID"},"tab:program":function(e){return"Program"},"tab:gprsOrderFile":function(e){return"Zlecenie"},"tab:gprsInputFile":function(e){return"Konfiguracja CityTouchIPT"},"tab:gprsOutputFile":function(e){return"Wynik CityTouchIPT"},"metrics:title":function(e){return"Zmierzone wartości"},"metrics:u":function(e){return"Napięcie"},"metrics:uSet":function(e){return"Napięcie ustawione"},"metrics:uGet":function(e){return"Napięcie zmierzone"},"metrics:i":function(e){return"Natężenie"},"metrics:r":function(e){return"Rezystancja"},"metrics:p":function(e){return"Moc"},"log:ORDER_CREATED":function(e){return"Rozpoczynanie zlecenia nr <code>"+t.v(e,"orderNo")+"</code> (1/"+t.v(e,"quantity")+")..."},"log:ORDER_CONTINUED":function(e){return"Kontynuacja zlecenia nr <code>"+t.v(e,"orderNo")+"</code> ("+t.v(e,"counter")+"/"+t.v(e,"quantity")+")..."},"log:PROGRAMMING_STARTED":function(e){return"Rozpoczynanie programowania 12NC <code>"+t.v(e,"nc12")+"</code>..."},"log:COUNTDOWN_STARTED":function(e){return"Odliczanie <code>"+t.v(e,"delay")+"</code> "+t.p(e,"delay",0,"pl",{one:"sekundy",other:"sekund"})+"..."},"log:READING_WORKFLOW_FILE":function(e){return"Odczytywanie pliku konfiguracyjnego programatora: <code>"+t.v(e,"workflowFile")+"</code>"},"log:WORKFLOW_FILE_READ":function(e){return"Odczytano <code>"+t.v(e,"length")+"B</code> pliku konfiguracyjnego programatora."},"log:WRITING_WORKFLOW_FILE":function(e){return"Zapisywanie pliku konfiguracyjnego programatora: <code>"+t.v(e,"workflowFile")+"</code> (<code>"+t.v(e,"workflowOptions")+"</code>)"},"log:WORKFLOW_FILE_WRITTEN":function(e){return"Zapisano <code>"+t.v(e,"length")+"B</code> pliku konfiguracyjnego programatora."},"log:USING_LAST_FEATURE_FILE":function(e){return"Pomijanie wyszukiwania pliku konfiguracyjnego drivera: wykorzystany zostanie ostatni plik."},"log:SEARCHING_FEATURE_FILE":function(e){return"Wyszukiwanie pliku konfiguracyjnego drivera w ścieżce: <code>"+t.v(e,"featurePath")+"</code>"},"log:SEARCHING_FEATURE_FILE_FAILURE":function(e){return"Nieudane wyszukiwanie pliku: <code>"+t.v(e,"error")+"</code>"},"log:SEARCHING_FEATURE_FILE_TIMEOUT":function(e){return"Upłynął limit czasu wyszukiwania pliku konfiguracyjnego drivera."},"log:MISSING_FEATURE_FILE_1":function(e){return"Nie znaleziono pliku konfiguracyjnego drivera w pierwszej ścieżce."},"log:MISSING_FEATURE_FILE_2":function(e){return"Nie znaleziono pliku konfiguracyjnego drivera w ścieżce zapasowej."},"log:DUPLICATE_FEATURE_FILE_1":function(e){return"W pierwszej ścieżce wykryto "+t.v(e,"fileCount")+" "+t.p(e,"fileCount",0,"pl",{one:"plik konfiguracyjny drivera",few:"pliki konfiguracje driverów",other:"plików konfiguracyjnych driverów"})+" dla danego kodu 12NC."},"log:DUPLICATE_FEATURE_FILE_2":function(e){return"W ścieżce zapasowej wykryto "+t.v(e,"fileCount")+" "+t.p(e,"fileCount",0,"pl",{one:"plik konfiguracyjny drivera",few:"pliki konfiguracje driverów",other:"plików konfiguracyjnych driverów"})+" dla danego kodu 12NC."},"log:FEATURE_FILE_FOUND":function(e){return"Znaleziono plik konfiguracyjny drivera: <code>"+t.v(e,"featureFile")+"</code>"},"log:SKIPPING_FEATURE_FILE_2":function(e){return"Pomijanie wyszukiwania pliku konfiguracyjnego drivera w ścieżce zapasowej..."},"log:CANCELLING":function(e){return"Anulowanie..."},"log:GENERIC_FAILURE":function(e){return"Zakończono w ciągu <code>"+t.v(e,"duration")+"</code> z powodu błędu: <code>"+t.v(e,"error")+"</code>"},"log:PROGRAMMING_SUCCESS":function(e){return"Pomyślnie ukończono programowanie 12NC <code>"+t.v(e,"nc12")+"</code> w ciągu <code>"+t.v(e,"duration")+"</code>."},"log:PROGRAMMING_FAILURE":function(e){return"Zakończono programowanie 12NC <code>"+t.v(e,"nc12")+"</code> w ciągu <code>"+t.v(e,"duration")+"</code> z powodu błędu: <code>"+t.v(e,"error")+"</code>"},"log:LED_SCANNING_SUCCESS":function(e){return"Pomyślnie ukończono sprawdzanie płytek LED w ciągu <code>"+t.v(e,"duration")+"</code>."},"log:LED_SCANNING_FAILURE":function(e){return"Zakończono sprawdzanie płytek LED w ciągu <code>"+t.v(e,"duration")+"</code> z powodu błędu: <code>"+t.v(e,"error")+"</code>"},"log:TESTING_SUCCESS":function(e){return"Pomyślnie ukończono testowanie w ciągu <code>"+t.v(e,"duration")+"</code>."},"log:TESTING_FAILURE":function(e){return"Zakończono testowanie w ciągu <code>"+t.v(e,"duration")+"</code> z powodu błędu: <code>"+t.v(e,"error")+"</code>"},"log:READING_FEATURE_FILE":function(e){return"Odczytywanie pliku konfiguracyjnego drivera..."},"log:READING_FEATURE_FILE_FAILURE":function(e){return"Błąd podczas odczytywania pliku: <code>"+t.v(e,"error")+"</code>"},"log:READING_FEATURE_FILE_TIMEOUT":function(e){return"Upłynął limit czasu odczytywania pliku."},"log:FEATURE_FILE_READ":function(e){return"Odczytano <code>"+t.v(e,"length")+"B</code> pliku konfiguracyjnego drivera."},"log:STARTING_PROGRAMMER":function(e){return"Uruchamianie programatora przez interfejs <code>"+t.s(e,"interface",{d:"USB2DALI",s:"SimpleSet®",z:"ZigBee",i:"IP",other:"?"})+"</code>: <code>"+t.v(e,"programmerFile")+"</code>"},"log:SOL_STARTED":function(e){return"Rozpoczynanie programowania Fortimo Solar..."},"log:SOL_PARSE_ERROR":function(e){return"Błąd parsowania pliku programu w linii <code>"+t.v(e,"i")+"</code>: <code>"+t.v(e,"line")+"</code>"},"log:SOL_SEARCHING_COM":function(e){return"Wyszukiwanie portu szeregowego wg wzrorca <code>"+t.v(e,"pattern")+"</code>..."},"log:SOL_OPENING_COM":function(e){return"Otwieranie portu szeregowego <code>"+t.v(e,"comPort")+"</code>..."},"log:SOL_EXECUTING_SET_COMMANDS":function(e){return"Wykonywanie "+t.p(e,"count",0,"pl",{one:"<code>1</code> komendy ustawiającej",other:"<code>"+t.v(e,"count")+"</code> komend ustawiających"})+" wartości parametrów..."},"log:SOL_RESETTING":function(e){return"Resetowanie urządzenia..."},"log:SOL_EXECUTING_GET_COMMANDS":function(e){return"Porównywanie zaprogramowanych wartości parametrów..."},"log:SOL_INVALID_OPTION":function(e){return"Odczytana wartość parametru <code>"+t.v(e,"option")+"</code> różni się od wartości zaprogramowanej (oczekiwano <code>"+t.v(e,"expected")+"</code>; otrzymano <code>"+t.v(e,"actual")+"</code>)."},"log:LPT_STARTING":function(e){return"(LPT) Oczekiwanie na sygnał uruchomienia programatora..."},"log:LPT_FINISHING":function(e){return"(LPT) Ustawianie wartości wynikowej..."},"log:TESTING_WITH_PROGRAM_STARTED":function(e){return"Rozpoczynanie testowania..."},"log:TESTING_STARTED":function(e){return"Rozpoczynanie programu <code>"+t.v(e,"program")+"</code>..."},"log:TESTING_SEARCHING_COM":function(e){return"Wyszukiwanie portu szeregowego wg wzrorca <code>"+t.v(e,"pattern")+"</code>..."},"log:TESTING_OPENING_COM":function(e){return"Otwieranie portu szeregowego <code>"+t.v(e,"comPort")+"</code>..."},"log:TESTING_SDP_SETUP":function(e){return"Przygotowywanie zasilacza..."},"log:TESTING_SDP_TEARDOWN":function(e){return"Wyłączanie zasilacza..."},"log:TESTING_PLC_SETUP":function(e){return"Przygotowywanie sterownika..."},"log:TESTING_PLC_TEARDOWN":function(e){return"Wyłączanie sterownika..."},"log:TESTING_EXECUTING_STEP":function(e){return t.s(e,"type",{wait:"Przerwa",pe:"Wykonywanie testu obwodu ochronnego",iso:"Wykonywanie testu rezystancji izolacji",sol:"Programowanie Fortimo Solar",program:"Wykonywanie kroku programowania",fn:"Wykonywanie testu funkcjonalnego",vis:"Wykonywanie testu wizualnego",other:"Wykonywanie kroku programu <em>"+t.v(e,"type")+"</em>"})+"..."},"log:TESTING_SKIPPING_PROGRAMMING":function(e){return"Pomijanie kroku programowania..."},"log:ACQUIRING_SERVICE_TAG":function(e){return"Pobieranie nowego Service Taga..."},"log:ACQUIRING_SERVICE_TAG_FAILURE":function(e){return"Nie udało się pobrać nowego Service Taga: <code>"+t.v(e,"error")+"</code>"},"log:SERVICE_TAG_ACQUIRED":function(e){return"Otrzymano Service Tag: <code>"+t.v(e,"serviceTag")+"</code>"},"log:SKIPPING_SERVICE_TAG_ACQUIRING":function(e){return"Pomijanie pobierania nowego Service Taga..."},"log:PRINTING_SERVICE_TAG":function(e){return"Drukowanie etykiety Service Tag na drukarce <code>"+t.v(e,"printerName")+"</code>..."},"log:PRINTING_SERVICE_TAG_FAILURE":function(e){return"Nie udało się wydrukować etykiety Service Tag: <code>"+t.v(e,"error")+"</code>"},"log:LED_CHECKING_STARTED":function(e){return"Rozpoczynanie sprawdzania płytek LED..."},"log:WAITING_FOR_LEDS":function(e){return"Oczekiwanie na "+t.v(e,"ledCount")+" "+t.p(e,"ledCount",0,"pl",{one:"płytkę",few:"płytki",other:"płytek"})+" LED..."},"log:ADDING_LAST_LEDS":function(e){return"Dodawanie "+t.v(e,"ledCount")+" "+t.p(e,"ledCount",0,"pl",{one:"płytki",other:"płytek"})+" LED z ostatniego nieudanego programowania..."},"log:WAITING_FOR_CONTINUE":function(e){return"Oczekiwanie na kontynuację..."},"log:GENERATING_SERVICE_TAG":function(e){return"Generowanie nowego Service Taga..."},"log:SERVICE_TAG_GENERATED":function(e){return"Wygenerowano Service Tag: <code>"+t.v(e,"serviceTag")+"</code>"},"error:WORKFLOW_FILE_ERROR":function(e){return"Błąd podczas odczytywania pliku konfiguracyjnego programatora."},"error:WORKFLOW_FILE_WRITE_ERROR":function(e){return"Błąd podczas zapisywania pliku konfiguracyjnego programatora."},"error:FEATURE_FILE_ERROR":function(e){return"Błąd podczas odczytywania pliku konfiguracyjnego drivera."},"error:UNSET_WORKFLOW_FILE":function(e){return"Nie ustawiono ścieżki do pliku konfiguracyjnego programatora."},"error:UNSET_FEATURE_PATH_1":function(e){return"Nie ustawiono pierwszej ścieżki do plików konfiguracyjnych driverów."},"error:UNSET_PROGRAMMER_FILE":function(e){
return"Nie ustawiono ścieżki do pliku wykonywalnego programatora."},"error:MISSING_WORKFLOW_FILE":function(e){return"Nie znaleziono pliku konfiguracyjnego programatora."},"error:MISSING_FEATURE_FILE":function(e){return"Nie znaleziono pliku konfiguracyjnego drivera."},"error:DUPLICATE_FEATURE_FILE":function(e){return"Wykryto kilka plików konfiguracyjnych driverów dla danego kodu 12NC."},"error:CANCELLED":function(e){return"Anulowanie procesu."},"error:READING_FEATURE_FILE_TIMEOUT":function(e){return"Upłynięcie limitu czasu odczytywania pliku konfiguracyjnego drivera."},"error:MISSING_PROGRAMMER_FILE":function(e){return"Nie znaleziono pliku wykonywalnego programatora."},"error:PROGRAMMER_FILE_ERROR":function(e){return"Błąd podczas uruchamiania pliku wykonywalnego programatora."},"error:EXIT_CODE:-1":function(e){return"MultiOneWorkflow (-1): błąd aplikacji."},"error:EXIT_CODE:1":function(e){return"MultiOneWorkflow (1): klucz oprogramowania nie aktywowany."},"error:EXIT_CODE:4":function(e){return"MultiOneWorkflow (4): błąd weryfikacji."},"error:EXIT_CODE:5":function(e){return"MultiOneWorkflow (5): protokół podany jako argument do pliku wykonywalnego programatora jest nieprawidłowy."},"error:EXIT_CODE:6":function(e){return"MultiOneWorkflow (6): podłączono kilka interfejsów, wybór jest wymagany (sprawdź argument /id)."},"error:EXIT_CODE:7":function(e){return"MultiOneWorkflow (7): dany interfejs (/id) nie jest podłączony."},"error:EXIT_CODE:9":function(e){return"MultiOneWorkflow (9): nie znaleziono pliku konfiguracyjnego programatora."},"error:EXIT_CODE:10":function(e){return"MultiOneWorkflow (10): nieprawidłowy plik konfiguracyjny programatora."},"error:EXIT_CODE:11":function(e){return"MultiOneWorkflow (11): nie określono pliku konfiguracyjnego programatora."},"error:EXIT_CODE:12":function(e){return"MultiOneWorkflow (12): użyto domyślnego szablonu jako pliku konfiguracyjnego programatora."},"error:EXIT_CODE:13":function(e){return"MultiOneWorkflow (13): brak wymaganych opcji w pliku konfiguracyjnym programatora."},"error:EXIT_CODE:14":function(e){return"MultiOneWorkflow (14): plik konfiguracyjny programatora nie może znajdować się w katalogu instalacyjnym."},"error:EXIT_CODE:20":function(e){return"MultiOneWorkflow (20): nie znaleziono pliku wspieranych urządzeń."},"error:EXIT_CODE:21":function(e){return"MultiOneWorkflow (21): nieprawidłowy plik wspieranych urządzeń."},"error:EXIT_CODE:30":function(e){return"MultiOneWorkflow (30): nie udało się stworzyć katalogu etykiet."},"error:EXIT_CODE:31":function(e){return"MultiOneWorkflow (31): nie udało się wygenerować danych etykiety."},"error:EXIT_CODE:32":function(e){return"MultiOneWorkflow (32): nie udało się wyeksportować danych etykiety."},"error:EXIT_CODE:101":function(e){return"MultiOneWorkflow (101): brak opcji drivera do zapisu."},"error:EXIT_CODE:102":function(e){return"MultiOneWorkflow (102): zapisywanie opcji drivera nie powiodło się."},"error:EXIT_CODE:150":function(e){return"MultiOneWorkflow (150): resetowanie krótkiego adresu urządzenia nie powiodło się."},"error:EXIT_CODE:151":function(e){return"MultiOneWorkflow (151): przywracanie ustawień fabrycznych DALI nie powiodło się (dalifactorynew)."},"error:EXIT_CODE:200":function(e){return"MultiOneWorkflow (200): nie znaleziono pliku konfiguracyjnego drivera."},"error:EXIT_CODE:201":function(e){return"MultiOneWorkflow (201): nieprawidłowy plik konfiguracyjny drivera."},"error:EXIT_CODE:202":function(e){return"MultiOneWorkflow (202): pusty plik konfiguracyjny drivera."},"error:EXIT_CODE:203":function(e){return"MultiOneWorkflow (203): wykryto zduplikowane opcje drivera."},"error:EXIT_CODE:255":function(e){return"MultiOneWorkflow (255): programowanie pod Linuxem niemożliwe."},"error:EXIT_CODE:300":function(e){return"MultiOneWorkflow (300): urządzenie nie obsługuje wszystkich opcji z pliku konfiguracyjnego."},"error:EXIT_CODE:301":function(e){return"MultiOneWorkflow (301): model urządzenia różni się od tego w pliku konfiguracyjnym drivera."},"error:EXIT_CODE:302":function(e){return"MultiOneWorkflow (302): niezgodność konfiguracji, urządzenie został skonfigurowane nieprawidłowo."},"error:EXIT_CODE:349":function(e){return"MultiOneWorkflow (349): hasło OEM Write Protection w pliku opcji drivera nie jest wymagane do zaprogramowania urządzenia. Usuń hasło z pliku opcji drivera."},"error:EXIT_CODE:350":function(e){return"MultiOneWorkflow (350): hasło OEM Write Protection w pliku opcji drivera nie pasuje do hasła w urządzeniu."},"error:EXIT_CODE:351":function(e){return"MultiOneWorkflow (351): min. wartość ALO w urządzeniu jest większa niż wartość ALO w pliku opcji drivera."},"error:EXIT_CODE:400":function(e){return"MultiOneWorkflow (400): zapisywanie informacji identyfikacyjnych nie powiodło się."},"error:EXIT_CODE:500":function(e){return"MultiOneWorkflow (500): nie znaleziono urządzenia."},"error:EXIT_CODE:501":function(e){return"MultiOneWorkflow (501): znaleziono za dużo urządzeń."},"error:EXIT_CODE:502":function(e){return"MultiOneWorkflow (502): nie można wykonać wyszukiwania urządzeń."},"error:EXIT_CODE:503":function(e){return"MultiOneWorkflow (503): kilka urządzeń ma taki sam krótki adres."},"error:EXIT_CODE:504":function(e){return"MultiOneWorkflow (504): wykryto niewspierane urządzenie."},"error:EXIT_CODE:600":function(e){return"MultiOneWorkflow (600): brak opcji drivera do konwersji."},"error:EXIT_CODE:650":function(e){return"MultiOneWorkflow (650): brak opcji drivera do odczytu (nie ma opcji w pliku drivera pasujących do opcji w urządzeniu)."},"error:EXIT_CODE:651":function(e){return"MultiOneWorkflow (651): odczytywanie pliku opcji drivera nie powiodło się."},"error:EXIT_CODE:700":function(e){return"MultiOneWorkflow (700): nie podłączono interfejsu."},"error:EXIT_CODE:800":function(e){return"MultiOneWorkflow (800): niemożliwa konwersja danych opcji drivera."},"error:EXIT_CODE:900":function(e){return"MultiOneWorkflow (900): dany plik z harmonogramem jest nieprawidłowy i nie udało się go wczytać."},"error:EXIT_CODE:1000":function(e){return"MultiOneWorkflow (1000): nie znaleziono pliku bazy danych. Przeinstaluj MultiOne Workflow."},"error:EXIT_CODE:1100":function(e){return"MultiOneWorkflow (1100): lokalizacja rejestru danych nie jest prawidłowa."},"error:EXIT_CODE:1101":function(e){return"MultiOneWorkflow (1101): rejestrator danych próbował utworzyć plik, który już istnieje."},"error:EXIT_CODE:1102":function(e){return"MultiOneWorkflow (1102): rejestrator danych próbował dopisać dane do pliku, który nie jest prawidłowym plikiem XML."},"error:EXIT_CODE:1103":function(e){return"MultiOneWorkflow (1103): rejestracja danych nie jest wspierana z opcją multidevice, wyłącz jedną z opcji."},"error:SOL_PARSE_ERROR":function(e){return"SOL: Błąd podczas parsowania pliku programu."},"error:SOL_NO_COMMANDS":function(e){return"SOL: Brak komend ustawiających wartości parametrów."},"error:SOL_SEARCHING_COM_FAILURE":function(e){return"SOL: Błąd podczas wyszukiwania portu szeregowego."},"error:SOL_COM_NOT_FOUND":function(e){return"SOL: Nie znaleziono portu szeregowego."},"error:SOL_OPENING_COM_FAILURE":function(e){return"SOL: Błąd podczas otwierania portu szeregowego."},"error:SOL_SERIAL_PORT_FAILURE":function(e){return"SOL: Błąd portu szeregowego."},"error:SOL_INVALID_OPTION":function(e){return"SOL: Odczytana wartość różni się od wartości zaprogramowanej."},"error:SOL_NO_CONNECTION":function(e){return"SOL: Brak odpowiedzi od urządzenia. Sprawdź połączenie portu szeregowego."},"error:SOL_FEATURE_DISABLED":function(e){return"Ustawiona licencja nie ma opcji programowania Fortimo Solar."},"error:LPT_FILE_ERROR":function(e){return"Błąd podczas komunikacji LPT."},"error:LPT_START_TIMEOUT":function(e){return"Upłynięcie limitu czasu oczekiwania na sygnał uruchomienia programatora."},"error:T24VDC_FEATURE_DISABLED":function(e){return"Ustawiona licencja nie ma opcji testera 24V DC."},"error:TESTING_DISABLED":function(e){return"T24VDC: Opcja testowania jest wyłączona."},"error:TESTING_NOT_SOL":function(e){return"T24VDC: Znaleziono konfigurację drivera nieprawidłowego typu."},"error:TESTING_SEARCHING_COM_FAILURE":function(e){return"T24VDC: Błąd podczas wyszukiwania portu szeregowego."},"error:TESTING_COM_NOT_FOUND":function(e){return"T24VDC: Nie znaleziono portu szeregowego."},"error:TESTING_OPENING_COM_FAILURE":function(e){return"T24VDC: Błąd podczas otwierania portu szeregowego."},"error:TESTING_SERIAL_PORT_FAILURE":function(e){return"T24VDC: Błąd portu szeregowego."},"error:TESTING_PLC_FAILURE":function(e){return"T24VDC: Błąd PLC."},"error:TESTING_PLC_NO_CONNECTION":function(e){return"T24VDC: Nie udało się połączyć ze sterownikiem. Sprawdź ustawienia Modbus."},"error:TESTING_SDP_TIMEOUT":function(e){return"T24VDC: Upłynięcie limitu czasu oczekiwania na odpowiedź testera."},"error:TESTING_SDP_INVALID_RESPONSE":function(e){return"T24VDC: Otrzymano nieprawidłową odpowiedź od testera."},"error:TESTING_MAX_RESISTANCE":function(e){return"T24VDC: Przekroczono maksymalną wartość rezystancji."},"error:TESTING_MIN_POWER":function(e){return"T24VDC: Przekroczono minimalną wartość mocy."},"error:TESTING_MAX_POWER":function(e){return"T24VDC: Przekroczono maksymalną wartość mocy."},"error:REMOTE_SERVICE_TAG_FAILURE":function(e){return"Błąd podczas pobierania nowego Service Taga."},"error:INVALID_ITEM_QUANTITY":function(e){return"Wykryto nieprawidłowe ilości komponentów w aktualnym zleceniu."},"error:NOTHING_DONE":function(e){return"Nie wykonano żadnej operacji (puste zlecenie?)"},"log:GPRS:READING_ORDER_FILE":function(e){return"Odczytywanie pliku zlecenia: <code>"+t.v(e,"orderFile")+"</code>"},"log:GPRS:ORDER_FILE_READ":function(e){return"Odczytano <code>"+t.v(e,"length")+"B</code> pliku zlecenia."},"log:GPRS:READING_INPUT_TEMPLATE_FILE":function(e){return"Odczytywanie pliku szablonu konfiguracji programatora: <code>"+t.v(e,"inputTemplateFile")+"</code>"},"log:GPRS:INPUT_TEMPLATE_FILE_READ":function(e){return"Odczytano <code>"+t.v(e,"length")+"B</code> pliku szablonu konfiguracji programatora."},"log:GPRS:PARSING_INPUT_TEMPLATE":function(e){return"Przetwarzanie szablonu konfiguracji programatora..."},"log:GPRS:PARSING_INPUT_TEMPLATE_SUCCESS":function(e){return"Pomyślnie przetworzono szablon konfiguracji programatora."},"log:GPRS:PREPARING_INPUT_FILE":function(e){return"Przygotowywanie konfiguracji programatora..."},"log:GPRS:PREPARING_INPUT_FILE_SUCCESS":function(e){return"Pomyślnie przygotowano konfigurację programatora."},"log:GPRS:PROGRAMMER_FILE_STARTED":function(e){return"Uruchamianie programatora na porcie DALI <code>"+t.v(e,"daliPort")+"</code>: <code>"+t.v(e,"programmerFile")+"</code>"},"log:GPRS:READING_OUTPUT_FILE":function(e){return"Odczytywanie pliku wynikowego programatora: <code>"+t.v(e,"outputFile")+"</code>"},"log:GPRS:READING_OUTPUT_FILE_SUCCESS":function(e){return"Odczytano <code>"+t.v(e,"length")+"B</code> pliku wynikowego programatora."},"log:GPRS:COPYING_OUTPUT_FILE":function(e){return"Kopiowanie pliku wynikowego programatora..."},"log:GPRS:COPYING_OUTPUT_FILE_SUCCESS":function(e){return"Pomyślnie skopiowano plik wynikowy programatora."},"log:GPRS:VERIFICATION_STARTED":function(e){return"Rozpoczynanie weryfikacji..."},"log:GPRS:VERIFICATION_SKIPPED":function(e){return"Pomijanie weryfikacji..."},"error:GPRS:READING_ORDER_FILE_FAILURE":function(e){return"GPRS: Błąd podczas odczytywania pliku zlecenia."},"error:GPRS:READING_ORDER_FILE_TIMEOUT":function(e){return"GPRS: Upłynął limit czasu odczytywania pliku zlecenia."},"error:GPRS:READING_INPUT_TEMPLATE_FILE_FAILURE":function(e){return"GPRS: Błąd podczas odczytywania pliku szablonu konfiguracji programatora."},"error:GPRS:READING_INPUT_TEMPLATE_FILE_TIMEOUT":function(e){return"GPRS: Upłynął limit czasu odczytywania pliku szablonu konfiguracji programatora."},"error:GPRS:PARSING_INPUT_TEMPLATE_FAILURE":function(e){return"GPRS: Błąd podczas przetwarzania szablonu konfiguracji programatora."},"error:GPRS:PREPARING_INPUT_FILE_FAILURE":function(e){return"GPRS: Błąd podczas przygotowywania pliku konfiguracji programatora."},"error:GPRS:INVALID_OPTION":function(e){return"GPRS: Nieprawidłowa opcja konfiguracyjna."},"error:GPRS:PARSING_DRIVER_FILE_FAILURE":function(e){return"GPRS: Błąd podczas przetwarzania pliku konfiguracji drivera."},"error:GPRS:PROGRAMMER_FILE_UNSET":function(e){return"GPRS: Nie ustawiono ścieżki do pliku wykonywalnego programatora."},"error:GPRS:PROGRAMMER_FILE_MISSING":function(e){return"GPRS: Nie znaleziono pliku wykonywalnego programatora."},"error:GPRS:PROGRAMMER_FILE_FAILURE":function(e){return"GPRS: Błąd podczas uruchamiania pliku wykonywalnego programatora."},"error:GPRS:OUTPUT_FILE_MISSING":function(e){return"GPRS: Nie znaleziono pliku wynikowego programatora."},"error:GPRS:COPYING_OUTPUT_FILE_FAILURE":function(e){return"GPRS: Błąd podczas zapisywania pliku wynikowego programatora."},"error:GPRS:VERIFICATION_INPUT_FAILURE":function(e){return"GPRS: Błąd poczas kopiowania pliku wynikowego programatora do weryfikacji."},"error:GPRS:VERIFICATION_ERROR":function(e){return"GPRS: Plik wynikowy programatora nie przeszedł weryfikacji."},"error:GPRS:VERIFICATION_TIMEOUT":function(e){return"GPRS: Upłynął limit czasu weryfikacji pliku wynikowego programatora."},"error:GPRS:EXIT_CODE:-1":function(e){return"CityTouchIPT (-1): błąd aplikacji."},"error:GPRS:EXIT_CODE:255":function(e){return"CityTouchIPT (255): programowanie pod Linuxem niemożliwe."},"log:GLP2:RESETTING_TESTER":function(e){return"Resetowanie testera GLP2-I..."},"log:GLP2:TEST_STEP_FAILURE":function(e){return"Przekroczono wartość graniczną 1 <code>"+t.v(e,"setValue")+"</code>: <code>"+t.v(e,"actualValue")+"</code> lub wartość graniczną 2: <code>"+t.v(e,"setValue2")+"</code>: <code>"+t.v(e,"actualValue2")+"</code>"},"error:GLP2:SETTING_DISABLED":function(e){return"GLP2: Opcja jest wyłączona w ustawieniach."},"error:GLP2:FEATURE_DISABLED":function(e){return"Aktualna licencja nie ma opcji testera GLP2-I."},"error:GLP2:TESTER_NOT_READY":function(e){return"GLP2: Tester nie jest gotowy."},"error:GLP2:RESETTING_TESTER_FAILURE":function(e){return"GLP2: Resetowanie testera nie powiodło się."},"error:GLP2:PROGRAM_NOT_RECOGNIZED":function(e){return"GLP2: Program nie został rozpoznany."},"error:GLP2:UNEXPECTED_RESPONSE":function(e){return"GLP2: Nieoczekiwana odpowiedź testera."},"error:GLP2:TEST_STEP_FAILURE":function(e){return"GLP2: Krok testowy zakończony niepowodzeniem."},"error:GLP2:BUSY_TESTER":function(e){return"GLP2: Tester jest zajęty lub wymaga testu BlackBox."},"error:GLP2:INVALID_CHECKSUM":function(e){return"GLP2: Nieprawidłowa suma kontrolna odpowiedzi testera."},"error:GLP2:INVALID_PARAMETERS":function(e){return"GLP2: Nieprawidłowe parametry testera."},"error:GLP2:INVALID_RESPONSE":function(e){return"GLP2: Nieprawidłowa odpowiedź testera."},"error:GLP2:NO_CONNECTION":function(e){return"GLP2: Brak połączenia z testerem."},"error:GLP2:RESPONSE_TIMEOUT":function(e){return"GLP2: Upłynął limit czasu oczekiwania na odpowiedź testera."},"error:GLP2:FAULT:1":function(e){return"GLP2 (1): Styk bezpieczeństwa przerwany."},"error:GLP2:FAULT:2":function(e){return"GLP2 (2): Uszkodzony bezpiecznik."},"error:GLP2:FAULT:3":function(e){return"GLP2 (3): Brak zdefiniowanego kroku testowego."},"error:GLP2:FAULT:4":function(e){return"GLP2 (4): Nieprawidłowe napięcie substitute-LKC."},"error:GLP2:FAULT:5":function(e){return"GLP2 (5): Zwarcie na badanym obiekcie."},"error:GLP2:FAULT:6":function(e){return"GLP2 (6): Błąd kontroli napięcia."},"error:GLP2:FAULT:7":function(e){return"GLP2 (7): Błąd danych."},"error:GLP2:FAULT:8":function(e){return"GLP2 (8): Przekroczono minimalne natężenie w teście LKC."},"error:GLP2:FAULT:9":function(e){return"GLP2 (9): Testowanie przerwane."},"error:GLP2:FAULT:10":function(e){return"GLP2 (10): Przekroczono minimalne napięcie w teście HV."},"error:GLP2:FAULT:11":function(e){return"GLP2 (11): Przekroczono maksymalne napięcie w teście HV."},"error:GLP2:FAULT:12":function(e){return"GLP2 (12): Przekroczono minimalne natężenie w teście HV."},"error:GLP2:FAULT:13":function(e){return"GLP2 (13): Błąd komunikacji z elektroniką HV."},"error:GLP2:FAULT:14":function(e){return"GLP2 (14): Kontrola napięcia HV nie powiodła się."},"error:GLP2:FAULT:15":function(e){return"GLP2 (15): Program nie istnieje."},"error:GLP2:FAULT:16":function(e){return"GLP2 (16): Błąd regulacji w teście HV."},"error:GLP2:FAULT:17":function(e){return"GLP2 (17): Aktywowano bezpiecznik maksymalnego napięcia testu LKC EN60601."},"error:GLP2:FAULT:18":function(e){return"GLP2 (18): Badany obiekt nadal pod napięciem (L-N)"},"error:GLP2:FAULT:19":function(e){return"GLP2 (19): Skręcona wtyczka sieciowa (podczas testowania bez transformatora izolującego)."},"error:GLP2:FAULT:20":function(e){return"GLP2 (20): Brak PE w przewodzie sieciowym."},"error:GLP2:FAULT:21":function(e){return"GLP2 (21): Drukarka na porcie LPT1 nie jest gotowa!"},"error:GLP2:FAULT:22":function(e){return"GLP2 (22): Wysokie napięcie wyłączone (włącznik z kluczykiem)."},"error:GLP2:FAULT:23":function(e){return"GLP2 (23): Przełącznik termiczny wysokiego napięcia został załączony."},"error:GLP2:FAULT:24":function(e){return"GLP2 (24): Urządzenie nie jest włączone do pracy."},"error:GLP2:FAULT:25":function(e){return"GLP2 (25): Maksymalny prąd pierwotny testu HV."},"error:GLP2:FAULT:26":function(e){return"GLP2 (26): Brak fazy zewnętrznego napięcia FCT lub jest nieprawidłowo spolaryzowana."},"error:GLP2:FAULT:27":function(e){return"GLP2 (27): Otwarta pokrywa ochronna."},"error:GLP2:FAULT:28":function(e){return"GLP2 (28): Brak obiektu do badania."},"error:GLP2:FAULT:29":function(e){return"GLP2 (29): Sekwencja testowa zgłosiła błąd."},"error:GLP2:FAULT:30":function(e){return"GLP2 (30): Błąd regulacji temperatury (krok testowy TMP)."},"error:GLP2:FAULT:31":function(e){return"GLP2 (31): Błąd testu referencji FI."},"log:FL:MONITORING":function(e){return"Monitorowanie czasu świecenia <code>"+t.v(e,"count")+"</code> "+t.p(e,"count",0,"pl",{one:"świetlówki",other:"świetlówek"})+"..."},"log:FL:LIGHTING_TIME":function(e){return t.v(e,"no")+". świetlówka świeciła nieprzerwanie przez <code>"+t.v(e,"duration")+"</code> ms."},"error:FL:FEATURE_DISABLED":function(e){return"Aktualna licencja nie ma opcji sprawdzania świetlówek."},"error:FL:LIGHTING_TIME_TOO_SHORT":function(e){return"FL: Zbyt krótki czas świecenia."},"log:FT:STARTED":function(e){return"Rozpoczynanie testowania ramki..."},"log:FT:SUCCESS":function(e){return"Pomyślnie ukończono testowanie ramki w ciągu <code>"+t.v(e,"duration")+"</code>."},"log:FT:FAILURE":function(e){return"Zakończono testowanie ramki w ciągu <code>"+t.v(e,"duration")+"</code> z powodu błędu: <code>"+t.v(e,"error")+"</code>"},"log:FT:CONNECTING":function(e){return"Nawiązywanie połączenia z testerem..."},"log:FT:RESETTING":function(e){return"Resetowanie testera..."},"log:FT:PROGRAMMING":function(e){return"Programowanie testera..."},"log:FT:CHECKING":function(e){return"Sprawdzanie obwodu ochronnego..."},"error:FT:INVALID_SERIAL_PROXY_ADDRESS":function(e){return"FT: Nieprawidłowy adres serwera ser2net."},"error:FT:CONNECTING_FAILURE":function(e){return"FT: Błąd połączenia z testerem."},"error:FT:SDP_TIMEOUT":function(e){return"FT: Upłynięcie limitu czasu oczekiwania na odpowiedź testera."},"error:FT:SDP_INVALID_RESPONSE":function(e){return"FT: Otrzymano nieprawidłową odpowiedź od testera."},"error:FT:PE_FAILURE":function(e){return"FT: Nieprawidłowy obwód ochronny."},"log:HID:STARTED":function(e){return"Rozpoczynanie sprawdzania lamp HID..."},"log:HID:SUCCESS":function(e){return"Pomyślnie ukończono sprawdzanie lamp HID w ciągu <code>"+t.v(e,"duration")+"</code>."},"log:HID:FAILURE":function(e){return"Zakończono sprawdzanie lamp HID w ciągu <code>"+t.v(e,"duration")+"</code> z powodu błędu: <code>"+t.v(e,"error")+"</code>"},"log:HID:WAITING":function(e){return"Oczekiwanie na "+t.v(e,"hidLampCount")+" "+t.p(e,"hidLampCount",0,"pl",{one:"lampę",few:"lampy",other:"lamp"})+" HID..."},"log:WEIGHT:STARTED":function(e){return"Rozpoczynanie ważenia komponentu..."},"log:WEIGHT:SUCCESS":function(e){return"Pomyślnie ukończono ważenie komponentu w ciągu <code>"+t.v(e,"duration")+"</code>."},"log:WEIGHT:FAILURE":function(e){return"Zakończono ważenie komponentu w ciągu <code>"+t.v(e,"duration")+"</code> z powodu błędu: <code>"+t.v(e,"error")+"</code>"},"log:WEIGHT:SCANNING":function(e){return"Oczekiwanie na zeskanowanie kodu komponentu..."},"log:WEIGHT:SCANNED":function(e){return"Zeskanowano: <code>"+t.v(e,"scanValue")+"</code>"},"log:WEIGHT:CHECKING_COMPONENT":function(e){return"Sprawdzanie komponentu <code>"+t.v(e,"nc12")+"</code>..."},"log:WEIGHT:SELECTING_COMPONENT":function(e){return"Oczekiwanie na wybranie 1 z "+t.v(e,"count")+" komponentów o 12NC <code>"+t.v(e,"nc12")+"</code>..."},"log:WEIGHT:COMPONENT_SELECTED:AUTO":function(e){return"Wybrano komponent na podstawie ostatniego wyniku: <code>"+t.v(e,"description")+"</code>"},"log:WEIGHT:COMPONENT_SELECTED:MANUAL":function(e){return"Wybrano komponent: <code>"+t.v(e,"description")+"</code>"},"log:WEIGHT:WEIGHING":function(e){return"Ważenie komponentu <code>"+t.v(e,"component")+"</code>. Oczekiwana waga: <code>"+t.v(e,"weight")+"</code>g"},"log:WEIGHT:WEIGHED":function(e){return"Rzeczywista waga: <code>"+t.v(e,"weight")+"</code>g"},"error:WEIGHT:SCAN_FAILURE":function(e){return"Zeskanowano nieprawidłowy kod komponentu."},"error:WEIGHT:DB_FAILURE":function(e){return"Błąd bazy danych podczas sprawdzania komponentu przez zewnętrzny serwer."},"error:WEIGHT:ORDER_NOT_FOUND":function(e){return"Zeskanowany komponent nie istnieje w wybranym zleceniu."},"error:WEIGHT:WEIGHT_NOT_FOUND":function(e){return"Brak zdefiniowanej wagi komponentu."},"error:WEIGHT:SN_ALREADY_USED":function(e){return"Numer seryjny komponentu został już użyty."},"error:WEIGHT:BAD_RESPONSE":function(e){return"Nieprawidłowa odpowiedź z serwera zewnętrznego."},"error:WEIGHT:TIMEOUT":function(e){return"Upłynięcie limitu czasu oczekiwania na zważenie komponentu."},"error:WEIGHT:NO_CONNECTION":function(e){return"Brak połączenia z wagą."}}}),define("app/history/routes",["app/broker","app/router","app/viewport","./pages/HistoryEntryListPage","./pages/HistoryEntryDetailsPage","i18n!app/nls/history"],function(e,t,n,r,i){"use strict";e.subscribe("hotkeys.showHistoryPage",function(){e.publish("router.navigate",{url:"/history",trigger:!0,replace:!1})}),t.map("/history",function(e){n.showPage(new r({rql:e.rql}))}),t.map("/history/:id",function(e){n.showPage(new i({modelId:e.params.id,tab:e.query.tab}))})}),define("app/settings/templates/form",["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<form class="settings-form" method="post" action="/settings" autocomplete="off">\n  <div class="list-group">\n    '),["settings","remote","mow","gprs","lpt","sol","testing","glp2","ft","fl","weight","hotkeys","license","import"].forEach(function(e){__append('\n    <a data-tab="'),__append(e),__append('" class="list-group-item" href="#settings?tab='),__append(e),__append('">'),__append(t("settings","form:"+e)),__append("</a>\n    ")}),__append('\n  </div>\n  <div class="panel panel-primary">\n    '),function(){__append('<div id="'),__append(idPrefix),__append('-settings" class="panel-body active settings-hasRowLast">\n  <div class="row">\n    <div class="form-group col-md-4">\n      <label for="'),__append(idPrefix),__append('-title" class="control-label">'),__append(t("settings","setting:title")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-title" class="form-control" name="title" type="text" maxlength="20">\n    </div>\n    <div class="form-group col-md-4">\n      <label for="'),__append(idPrefix),__append('-password1" class="control-label">'),__append(t("settings","setting:password1")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-password1" class="form-control" name="password1" type="password">\n    </div>\n    <div class="form-group col-md-4">\n      <label for="'),__append(idPrefix),__append('-password2" class="control-label">'),__append(t("settings","setting:password2")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-password2" class="form-control" name="password2" type="password">\n    </div>\n  </div>\n  <div class="row">\n    <div class="form-group col-md-4">\n      <label for="'),__append(idPrefix),__append('-protectInputMode" class="control-label">'),__append(t("settings","setting:protectInputMode")),__append('</label>\n      <div>\n        <label class="radio-inline">\n          <input id="'),__append(idPrefix),__append('-protectInputMode" name="protectInputMode" type="radio" value="1" required> '),__append(t("settings","setting:protectInputMode:on")),__append('\n        </label>\n        <label class="radio-inline">\n          <input name="protectInputMode" type="radio" value="0" required> '),__append(t("settings","setting:protectInputMode:off")),__append('\n        </label>\n      </div>\n    </div>\n    <div class="form-group col-md-4">\n      <label for="'),__append(idPrefix),__append('-orders" class="control-label">'),__append(t("settings","setting:orders")),__append('</label>\n      <div>\n        <label class="radio-inline">\n          <input id="'),__append(idPrefix),__append('-orders" name="orders" type="radio" value="disabled" required> '),__append(t("settings","setting:orders:disabled")),__append('\n        </label>\n        <label class="radio-inline">\n          <input name="orders" type="radio" value="optional" required> '),__append(t("settings","setting:orders:optional")),__append('\n        </label>\n        <label class="radio-inline">\n          <input name="orders" type="radio" value="required" required> '),__append(t("settings","setting:orders:required")),__append('\n        </label>\n      </div>\n    </div>\n    <div class="form-group col-md-4">\n      <label for="'),__append(idPrefix),__append('-imWorkin" class="control-label">'),__append(t("settings","setting:imWorkin")),__append('</label>\n      <div>\n        <label class="radio-inline">\n          <input id="'),__append(idPrefix),__append('-imWorkin" name="imWorkin" type="radio" value="1" required> '),__append(t("settings","setting:imWorkin:on")),__append('\n        </label>\n        <label class="radio-inline">\n          <input name="imWorkin" type="radio" value="0" required> '),__append(t("settings","setting:imWorkin:off")),__append('\n        </label>\n      </div>\n    </div>\n  </div>\n  <div class="row">\n    <div class="form-group col-md-4">\n      <label for="'),__append(idPrefix),__append('-bgScanner" class="control-label">'),__append(t("settings","setting:bgScanner")),__append('</label>\n      <div>\n        <label class="radio-inline">\n          <input id="'),__append(idPrefix),__append('-bgScanner" name="bgScanner" type="radio" value="1" required> '),__append(t("settings","setting:bgScanner:on")),__append('\n        </label>\n        <label class="radio-inline">\n          <input name="bgScanner" type="radio" value="0" required> '),__append(t("settings","setting:bgScanner:off")),__append('\n        </label>\n      </div>\n    </div>\n    <div class="form-group col-md-8">\n      <label for="'),__append(idPrefix),__append('-bgScannerFilter" class="control-label">'),__append(t("settings","setting:bgScannerFilter")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-bgScannerFilter" class="form-control" name="bgScannerFilter" type="text">\n    </div>\n  </div>\n  <div class="row">\n    <div class="form-group col-md-4">\n      <label for="'),__append(idPrefix),__append('-bgScannerBeepGood" class="control-label">'),__append(t("settings","setting:bgScannerBeepGood")),__append('</label>\n      <select id="'),__append(idPrefix),__append('-bgScannerBeepGood" class="form-control" name="bgScannerBeepGood">\n        '),function(){__append('<option value="-1">'),__append(t("settings","setting:bgScannerBeep:off")),__append('\n<option value="0">1 SHORT HIGH\n<option value="1">2 SHORT HIGH\n<option value="2">3 SHORT HIGH\n<option value="3">4 SHORT HIGH\n<option value="4">5 SHORT HIGH\n<option value="5">1 SHORT LOW\n<option value="6">2 SHORT LOW\n<option value="7">3 SHORT LOW\n<option value="8">4 SHORT LOW\n<option value="9">5 SHORT LOW\n<option value="10">1 LONG HIGH\n<option value="11">2 LONG HIGH\n<option value="12">3 LONG HIGH\n<option value="13">4 LONG HIGH\n<option value="14">5 LONG HIGH\n<option value="15">1 LONG LOW\n<option value="16">2 LONG LOW\n<option value="17">3 LONG LOW\n<option value="18">4 LONG LOW\n<option value="19">5 LONG LOW\n<option value="20">FAST HIGH LOW HIGH LOW\n<option value="21">SLOW HIGH LOW HIGH LOW\n<option value="22">HIGH LOW\n<option value="23">LOW HIGH\n<option value="24">HIGH LOW HIGH\n<option value="25">LOW HIGH LOW\n<option value="26">HIGH HIGH LOW LOW')}.call(this),__append('\n      </select>\n    </div>\n    <div class="form-group col-md-4">\n      <label for="'),__append(idPrefix),__append('-bgScannerBeepBad" class="control-label">'),__append(t("settings","setting:bgScannerBeepBad")),__append('</label>\n      <select id="'),__append(idPrefix),__append('-bgScannerBeepBad" class="form-control" name="bgScannerBeepBad">\n        '),function(){__append('<option value="-1">'),__append(t("settings","setting:bgScannerBeep:off")),__append('\n<option value="0">1 SHORT HIGH\n<option value="1">2 SHORT HIGH\n<option value="2">3 SHORT HIGH\n<option value="3">4 SHORT HIGH\n<option value="4">5 SHORT HIGH\n<option value="5">1 SHORT LOW\n<option value="6">2 SHORT LOW\n<option value="7">3 SHORT LOW\n<option value="8">4 SHORT LOW\n<option value="9">5 SHORT LOW\n<option value="10">1 LONG HIGH\n<option value="11">2 LONG HIGH\n<option value="12">3 LONG HIGH\n<option value="13">4 LONG HIGH\n<option value="14">5 LONG HIGH\n<option value="15">1 LONG LOW\n<option value="16">2 LONG LOW\n<option value="17">3 LONG LOW\n<option value="18">4 LONG LOW\n<option value="19">5 LONG LOW\n<option value="20">FAST HIGH LOW HIGH LOW\n<option value="21">SLOW HIGH LOW HIGH LOW\n<option value="22">HIGH LOW\n<option value="23">LOW HIGH\n<option value="24">HIGH LOW HIGH\n<option value="25">LOW HIGH LOW\n<option value="26">HIGH HIGH LOW LOW')}.call(this),__append('\n      </select>\n    </div>\n    <div class="form-group col-md-4">\n      <label for="'),__append(idPrefix),__append('-bgScannerBeepDone" class="control-label">'),__append(t("settings","setting:bgScannerBeepDone")),__append('</label>\n      <select id="'),__append(idPrefix),__append('-bgScannerBeepDone" class="form-control" name="bgScannerBeepDone">\n        '),function(){__append('<option value="-1">'),__append(t("settings","setting:bgScannerBeep:off")),__append('\n<option value="0">1 SHORT HIGH\n<option value="1">2 SHORT HIGH\n<option value="2">3 SHORT HIGH\n<option value="3">4 SHORT HIGH\n<option value="4">5 SHORT HIGH\n<option value="5">1 SHORT LOW\n<option value="6">2 SHORT LOW\n<option value="7">3 SHORT LOW\n<option value="8">4 SHORT LOW\n<option value="9">5 SHORT LOW\n<option value="10">1 LONG HIGH\n<option value="11">2 LONG HIGH\n<option value="12">3 LONG HIGH\n<option value="13">4 LONG HIGH\n<option value="14">5 LONG HIGH\n<option value="15">1 LONG LOW\n<option value="16">2 LONG LOW\n<option value="17">3 LONG LOW\n<option value="18">4 LONG LOW\n<option value="19">5 LONG LOW\n<option value="20">FAST HIGH LOW HIGH LOW\n<option value="21">SLOW HIGH LOW HIGH LOW\n<option value="22">HIGH LOW\n<option value="23">LOW HIGH\n<option value="24">HIGH LOW HIGH\n<option value="25">LOW HIGH LOW\n<option value="26">HIGH HIGH LOW LOW')}.call(this),__append('\n      </select>\n    </div>\n  </div>\n  <div class="row">\n    <div class="form-group col-md-4">\n      <label for="'),
__append(idPrefix),__append('-programDelay" class="control-label">'),__append(t("settings","setting:programDelay")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-programDelay" class="form-control" name="programDelay" type="number" min="0" max="60">\n    </div>\n    <div class="form-group col-md-4">\n      <label for="'),__append(idPrefix),__append('-cancelDelay" class="control-label">'),__append(t("settings","setting:cancelDelay")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-cancelDelay" class="form-control" name="cancelDelay" type="number" min="0" max="60000">\n    </div>\n  </div>\n  <div class="row">\n    <div class="form-group col-md-4">\n      <label for="'),__append(idPrefix),__append('-blockageInterval" class="control-label">'),__append(t("settings","setting:blockageInterval")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-blockageInterval" class="form-control" name="blockageInterval" type="number" min="0" max="1000">\n    </div>\n    <div class="form-group col-md-4">\n      <label for="'),__append(idPrefix),__append('-blockageDuration" class="control-label">'),__append(t("settings","setting:blockageDuration")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-blockageDuration" class="form-control" name="blockageDuration" type="number" min="0" max="999">\n    </div>\n  </div>\n  <div class="row">\n    <div class="form-group col-md-8">\n      <label for="'),__append(idPrefix),__append('-featurePath1" class="control-label">'),__append(t("settings","setting:featurePath1")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-featurePath1" class="form-control" name="featurePath1" type="text" required>\n    </div>\n    <div class="form-group col-md-2">\n      <label for="'),__append(idPrefix),__append('-searchTimeout1" class="control-label">'),__append(t("settings","setting:searchTimeout1")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-searchTimeout1" class="form-control" name="searchTimeout1" type="number" required min="100">\n    </div>\n    <div class="form-group col-md-2">\n      <label for="'),__append(idPrefix),__append('-readTimeout1" class="control-label">'),__append(t("settings","setting:readTimeout1")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-readTimeout1" class="form-control" name="readTimeout1" type="number" required min="100">\n    </div>\n  </div>\n  <div class="row">\n    <div class="form-group col-md-8">\n      <label for="'),__append(idPrefix),__append('-featurePath2" class="control-label">'),__append(t("settings","setting:featurePath2")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-featurePath2" class="form-control" name="featurePath2" type="text">\n    </div>\n    <div class="form-group col-md-2">\n      <label for="'),__append(idPrefix),__append('-searchTimeout2" class="control-label">'),__append(t("settings","setting:searchTimeout2")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-searchTimeout2" class="form-control" name="searchTimeout2" type="number" required min="100">\n    </div>\n    <div class="form-group col-md-2">\n      <label for="'),__append(idPrefix),__append('-readTimeout2" class="control-label">'),__append(t("settings","setting:readTimeout2")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-readTimeout2" class="form-control" name="readTimeout2" type="number" required min="100">\n    </div>\n  </div>\n  <div class="row">\n    <div class="form-group col-md-4">\n      <label for="'),__append(idPrefix),__append('-backupDelay" class="control-label">'),__append(t("settings","setting:backupDelay")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-backupDelay" class="form-control" name="backupDelay" type="number" min="5" max="3600" step="1" required>\n    </div>\n    <div class="form-group col-md-8">\n      <div class="radio">\n        <label>\n          <input name="backupPath" type="radio" value="1"> '),__append(t("settings","setting:backupPath:1")),__append('\n        </label>\n      </div>\n      <div class="radio">\n        <label>\n          <input name="backupPath" type="radio" value="2"> '),__append(t("settings","setting:backupPath:2")),__append("\n        </label>\n      </div>\n    </div>\n  </div>\n</div>\n")}.call(this),__append("\n    "),function(){__append('<div id="'),__append(idPrefix),__append('-remote" class="panel-body">\n  <div class="form-group">\n    <label for="'),__append(idPrefix),__append('-prodLine" class="control-label">'),__append(t("settings","setting:prodLine")),__append('</label>\n    <input id="'),__append(idPrefix),__append('-prodLine" class="form-control" name="prodLine" type="text">\n  </div>\n  <div class="form-group">\n    <label for="'),__append(idPrefix),__append('-forceLatestOrder" class="control-label">'),__append(t("settings","setting:forceLatestOrder")),__append('</label>\n    <div>\n      <label class="radio-inline">\n        <input id="'),__append(idPrefix),__append('-forceLatestOrder" name="forceLatestOrder" type="radio" value="0" required> '),__append(t("settings","setting:forceLatestOrder:off")),__append('\n      </label>\n      <label class="radio-inline">\n        <input name="forceLatestOrder" type="radio" value="1" required> '),__append(t("settings","setting:forceLatestOrder:on")),__append('\n      </label>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-md-3 form-group">\n      <label for="'),__append(idPrefix),__append('-programming" class="control-label">'),__append(t("settings","setting:programming")),__append('</label>\n      <div>\n        <label class="radio-inline">\n          <input id="'),__append(idPrefix),__append('-programming" name="programming" type="radio" value="0" required> '),__append(t("settings","setting:programming:off")),__append('\n        </label>\n        <label class="radio-inline">\n          <input name="programming" type="radio" value="1" required> '),__append(t("settings","setting:programming:on")),__append('\n        </label>\n      </div>\n    </div>\n    <div class="col-md-3 form-group">\n      <label for="'),__append(idPrefix),__append('-hidEnabled" class="control-label">'),__append(t("settings","setting:hidEnabled")),__append('</label>\n      <div>\n        <label class="radio-inline">\n          <input id="'),__append(idPrefix),__append('-hidEnabled" name="hidEnabled" type="radio" value="0" required> '),__append(t("settings","setting:hidEnabled:off")),__append('\n        </label>\n        <label class="radio-inline">\n          <input name="hidEnabled" type="radio" value="1" required> '),__append(t("settings","setting:hidEnabled:on")),__append('\n        </label>\n      </div>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-md-3 form-group">\n      <label for="'),__append(idPrefix),__append('-ledsEnabled" class="control-label">'),__append(t("settings","setting:ledsEnabled")),__append('</label>\n      <div>\n        <label class="radio-inline">\n          <input id="'),__append(idPrefix),__append('-ledsEnabled" name="ledsEnabled" type="radio" value="0" required> '),__append(t("settings","setting:ledsEnabled:off")),__append('\n        </label>\n        <label class="radio-inline">\n          <input name="ledsEnabled" type="radio" value="1" required> '),__append(t("settings","setting:ledsEnabled:auto")),__append('\n        </label>\n        <label class="radio-inline">\n          <input name="ledsEnabled" type="radio" value="2" required> '),__append(t("settings","setting:ledsEnabled:manual")),__append('\n        </label>\n      </div>\n    </div>\n    <div class="col-md-6 form-group">\n      <label for="'),__append(idPrefix),__append('-ledsCheckingMode" class="control-label">'),__append(t("settings","setting:ledsCheckingMode")),__append('</label>\n      <div>\n        <label class="radio-inline">\n          <input id="'),__append(idPrefix),__append('-ledsCheckingMode" name="ledsCheckingMode" type="radio" value="pass" required> '),__append(t("settings","setting:ledsCheckingMode:pass")),__append('\n        </label>\n        <label class="radio-inline">\n          <input name="ledsCheckingMode" type="radio" value="recent" required> '),__append(t("settings","setting:ledsCheckingMode:recent")),__append('\n        </label>\n        <label class="radio-inline">\n          <input name="ledsCheckingMode" type="radio" value="remote" required> '),__append(t("settings","setting:ledsCheckingMode:remote")),__append('\n        </label>\n      </div>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-md-3 form-group">\n      <label for="'),__append(idPrefix),__append('-serviceTagInLocalMode" class="control-label">'),__append(t("settings","setting:serviceTagInLocalMode")),__append('</label>\n      <div>\n        <label class="radio-inline">\n          <input id="'),__append(idPrefix),__append('-serviceTagInLocalMode" name="serviceTagInLocalMode" type="radio" value="disabled" required> '),__append(t("settings","setting:serviceTagInLocalMode:disabled")),__append('\n        </label>\n        <label class="radio-inline">\n          <input name="serviceTagInLocalMode" type="radio" value="optional" required> '),__append(t("settings","setting:serviceTagInLocalMode:optional")),__append('\n        </label>\n        <label class="radio-inline">\n          <input name="serviceTagInLocalMode" type="radio" value="required" required> '),__append(t("settings","setting:serviceTagInLocalMode:required")),__append('\n        </label>\n      </div>\n    </div>\n    <div class="col-md-3 form-group">\n      <label for="'),__append(idPrefix),__append('-serviceTagPrint" class="control-label">'),__append(t("settings","setting:serviceTagPrint")),__append('</label>\n      <div>\n        <label class="radio-inline">\n          <input id="'),__append(idPrefix),__append('-serviceTagPrint" name="serviceTagPrint" type="radio" value="1" required> '),__append(t("settings","setting:serviceTagPrint:on")),__append('\n        </label>\n        <label class="radio-inline">\n          <input name="serviceTagPrint" type="radio" value="0" required> '),__append(t("settings","setting:serviceTagPrint:off")),__append('\n        </label>\n      </div>\n    </div>\n  </div>\n  <div class="form-group">\n    <label for="'),__append(idPrefix),__append('-serviceTagPrinter" class="control-label">'),__append(t("settings","setting:serviceTagPrinter")),__append('</label>\n    <input id="'),__append(idPrefix),__append('-serviceTagPrinter" class="form-control" name="serviceTagPrinter" type="text">\n  </div>\n  <div class="form-group">\n    <label for="'),__append(idPrefix),__append('-serviceTagLabelType" class="control-label">'),__append(t("settings","setting:serviceTagLabelType")),__append('</label>\n    <div>\n      <label class="radio-inline">\n        <input id="'),__append(idPrefix),__append('-serviceTagLabelType" name="serviceTagLabelType" type="radio" value="zpl" required> '),__append(t("settings","setting:serviceTagLabelType:zpl")),__append('\n      </label>\n      <label class="radio-inline">\n        <input name="serviceTagLabelType" type="radio" value="dpl" required> '),__append(t("settings","setting:serviceTagLabelType:dpl")),__append('\n      </label>\n    </div>\n  </div>\n  <div class="form-group">\n    <label for="'),__append(idPrefix),__append('-serviceTagLabelCode" class="control-label">'),__append(t("settings","setting:serviceTagLabelCode")),__append('</label>\n    <textarea id="'),__append(idPrefix),__append('-serviceTagLabelCode" class="form-control" name="serviceTagLabelCode" rows="10"></textarea>\n  </div>\n</div>\n')}.call(this),__append("\n    "),function(){__append('<div id="'),__append(idPrefix),__append('-mow" class="panel-body">\n  <div class="form-group">\n    <label class="control-label">'),__append(t("settings","mowVersion:supported")),__append('</label>\n    <p class="form-control-static">3.3</p>\n  </div>\n  <div class="form-group">\n    <label class="control-label">'),__append(t("settings","mowVersion:installed")),__append('</label>\n    <p id="'),__append(idPrefix),__append('-mowVersion" class="form-control-static">'),__append(multiOneWorkflowVersion),__append('</p>\n  </div>\n  <div class="form-group">\n    <label for="'),__append(idPrefix),__append('-workflow" class="control-label">'),__append(t("settings","setting:workflow")),__append('</label>\n    <div>\n      <label class="checkbox-inline">\n        <input id="'),__append(idPrefix),__append('-workflow" name="workflowVerify" type="checkbox" value="1"> '),__append(t("settings","setting:workflowVerify")),__append('\n      </label>\n      <label class="checkbox-inline">\n        <input name="workflowIdentifyAlways" type="checkbox" value="1"> '),__append(t("settings","setting:workflowIdentifyAlways")),__append('\n      </label>\n      <label class="checkbox-inline">\n        <input name="workflowMultiDevice" type="checkbox" value="1"> '),__append(t("settings","setting:workflowMultiDevice")),__append('\n      </label>\n      <label class="checkbox-inline">\n        <input name="workflowCheckDeviceModel" type="checkbox" value="1"> '),__append(t("settings","setting:workflowCheckDeviceModel")),__append('\n      </label>\n      <label class="checkbox-inline">\n        <input name="workflowCheckDevicePresent" type="checkbox" value="1"> '),__append(t("settings","setting:workflowCheckDevicePresent")),__append('\n      </label>\n      <label class="checkbox-inline">\n        <input name="workflowCommissionAll" type="checkbox" value="1"> '),__append(t("settings","setting:workflowCommissionAll")),__append('\n      </label>\n      <label class="checkbox-inline">\n        <input name="workflowDaliFactoryNew" type="checkbox" value="1"> '),__append(t("settings","setting:workflowDaliFactoryNew")),__append('\n      </label>\n    </div>\n  </div>\n  <div class="row">\n    <div class="form-group col-md-4">\n      <label for="'),__append(idPrefix),__append('-interface" class="control-label">'),__append(t("settings","setting:interface")),__append('</label>\n      <select id="'),__append(idPrefix),__append('-interface" class="form-control" name="interface" required>\n        <option value="d">'),__append(t("settings","setting:interface:d")),__append('</option>\n        <option value="s">'),__append(t("settings","setting:interface:s")),__append('</option>\n      </select>\n    </div>\n    <div class="form-group col-md-4">\n      <label for="'),__append(idPrefix),__append('-mowUniqueId" class="control-label">'),__append(t("settings","setting:mowUniqueId")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-mowUniqueId" class="form-control" name="mowUniqueId" type="text">\n    </div>\n  </div>\n  <div class="row">\n    <div class="form-group col-md-4">\n      <label for="'),__append(idPrefix),__append('-continueOnWarnings" class="control-label">'),__append(t("settings","setting:continueOnWarnings")),__append('</label>\n      <select id="'),__append(idPrefix),__append('-continueOnWarnings" class="form-control" name="continueOnWarnings" required>\n        <option value="continue">'),__append(t("settings","setting:continueOnWarnings:continue")),__append('</option>\n        <option value="halt">'),__append(t("settings","setting:continueOnWarnings:halt")),__append('</option>\n      </select>\n    </div>\n    <div class="form-group col-md-4">\n      <label for="'),__append(idPrefix),__append('-logVerbosity" class="control-label">'),__append(t("settings","setting:logVerbosity")),__append('</label>\n      <select id="'),__append(idPrefix),__append('-logVerbosity" class="form-control" name="logVerbosity" required>\n        <option value="info">'),__append(t("settings","setting:logVerbosity:info")),__append('</option>\n        <option value="error">'),__append(t("settings","setting:logVerbosity:error")),__append('</option>\n        <option value="fatal">'),__append(t("settings","setting:logVerbosity:fatal")),__append('</option>\n      </select>\n    </div>\n  </div>\n  <div class="form-group">\n    <label for="'),__append(idPrefix),__append('-programmerFile" class="control-label">'),__append(t("settings","setting:programmerFile")),__append('</label>\n    <input id="'),__append(idPrefix),__append('-programmerFile" class="form-control" name="programmerFile" type="text" required>\n  </div>\n  <div class="form-group">\n    <label class="control-label"><input type="checkbox" name="schedulerEnabled" value="1"> '),__append(t("settings","setting:schedulerFile")),__append('</label>\n    <input id="'),__append(idPrefix),__append('-schedulerFile" class="form-control" name="schedulerFile" type="text">\n  </div>\n  <div class="form-group">\n    <label class="control-label"><input type="checkbox" name="supportedDevicesEnabled" value="1"> '),__append(t("settings","setting:supportedDevicesFile")),__append('</label>\n    <input id="'),__append(idPrefix),__append('-supportedDevicesFile" class="form-control" name="supportedDevicesFile" type="text">\n  </div>\n  <div class="form-group">\n    <label class="control-label"><input type="checkbox" name="mowLabelDataLocationEnabled" value="1"> '),__append(t("settings","setting:mowLabelDataLocation")),__append('</label>\n    <input id="'),__append(idPrefix),__append('-mowLabelDataLocation" class="form-control" name="mowLabelDataLocation" type="text">\n  </div>\n</div>\n')}.call(this),__append("\n    "),function(){__append('<div id="'),__append(idPrefix),__append('-gprs" class="panel-body settings-hasRowLast">\n  <div class="form-group">\n    <label for="'),__append(idPrefix),__append('-gprsOrdersPath" class="control-label">'),__append(t("settings","setting:gprsOrdersPath")),__append('</label>\n    <input id="'),__append(idPrefix),__append('-gprsOrdersPath" class="form-control" name="gprsOrdersPath" type="text" required>\n  </div>\n  <div class="row">\n    <div class="form-group col-md-8">\n      <label for="'),__append(idPrefix),__append('-gprsProgrammerFile" class="control-label">'),__append(t("settings","setting:gprsProgrammerFile")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-gprsProgrammerFile" class="form-control" name="gprsProgrammerFile" type="text" required>\n    </div>\n    <div class="form-group col-md-4">\n      <label for="'),__append(idPrefix),__append('-gprsDaliPort" class="control-label">'),__append(t("settings","setting:gprsDaliPort")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-gprsDaliPort" class="form-control" name="gprsDaliPort" type="number" min="0" max="256">\n    </div>\n  </div>\n  <div class="form-group">\n    <label for="'),__append(idPrefix),__append('-gprsInputTemplateFile" class="control-label">'),__append(t("settings","setting:gprsInputTemplateFile")),__append('</label>\n    <input id="'),__append(idPrefix),__append('-gprsInputTemplateFile" class="form-control" name="gprsInputTemplateFile" type="text" required>\n  </div>\n  <div class="row">\n    <div class="form-group col-md-4">\n      <label for="'),__append(idPrefix),__append('-gprsVerification" class="control-label">'),__append(t("settings","setting:gprsVerification")),__append('</label>\n      <div>\n        <label class="radio-inline">\n          <input id="'),__append(idPrefix),__append('-gprsVerification" name="gprsVerification" type="radio" value="1" required> '),__append(t("settings","setting:gprsVerification:on")),__append('\n        </label>\n        <label class="radio-inline">\n          <input name="gprsVerification" type="radio" value="0" required> '),__append(t("settings","setting:gprsVerification:off")),__append('\n        </label>\n      </div>\n    </div>\n    <div class="form-group col-md-8">\n      <label for="'),__append(idPrefix),__append('-gprsVerificationTimeout" class="control-label">'),__append(t("settings","setting:gprsVerificationTimeout")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-gprsVerificationTimeout" class="form-control" name="gprsVerificationTimeout" type="number" min="5000" max="3600000">\n    </div>\n  </div>\n  <div class="row">\n    <div class="form-group col-md-4">\n      <label for="'),__append(idPrefix),__append('-gprsVerificationInputPath" class="control-label">'),__append(t("settings","setting:gprsVerificationInputPath")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-gprsVerificationInputPath" class="form-control" name="gprsVerificationInputPath" type="text" required>\n    </div>\n    <div class="form-group col-md-4">\n      <label for="'),__append(idPrefix),__append('-gprsVerificationSuccessPath" class="control-label">'),__append(t("settings","setting:gprsVerificationSuccessPath")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-gprsVerificationSuccessPath" class="form-control" name="gprsVerificationSuccessPath" type="text" required>\n    </div>\n    <div class="form-group col-md-4">\n      <label for="'),__append(idPrefix),__append('-gprsVerificationErrorPath" class="control-label">'),__append(t("settings","setting:gprsVerificationErrorPath")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-gprsVerificationErrorPath" class="form-control" name="gprsVerificationErrorPath" type="text" required>\n    </div>\n  </div>\n</div>\n')}.call(this),__append("\n    "),function(){__append('<div id="'),__append(idPrefix),__append('-lpt" class="panel-body settings-hasRowLast">\n  <div class="form-group">\n    <label for="'),__append(idPrefix),__append('-lptEnabled" class="control-label">'),__append(t("settings","setting:lptEnabled")),__append('</label>\n    <div>\n      <label class="radio-inline">\n        <input id="'),__append(idPrefix),__append('-lptEnabled" name="lptEnabled" type="radio" value="1" required> '),__append(t("settings","setting:lptEnabled:on")),__append('\n      </label>\n      <label class="radio-inline">\n        <input name="lptEnabled" type="radio" value="0" required> '),__append(t("settings","setting:lptEnabled:off")),__append('\n      </label>\n    </div>\n  </div>\n  <div class="form-group">\n    <label for="'),__append(idPrefix),__append('-lptFilePattern" class="control-label">'),__append(t("settings","setting:lptFilePattern")),__append('</label>\n    <input id="'),__append(idPrefix),__append('-lptFilePattern" class="form-control" name="lptFilePattern" type="text">\n  </div>\n  <div class="form-group">\n    <label for="'),__append(idPrefix),__append('-lptStartTimeout" class="control-label">'),__append(t("settings","setting:lptStartTimeout")),__append('</label>\n    <input id="'),__append(idPrefix),__append('-lptStartTimeout" class="form-control" name="lptStartTimeout" type="number" required min="1000">\n  </div>\n  <div class="row">\n    <div class="form-group col-md-4">\n      <label for="'),__append(idPrefix),__append('-lptReadPort" class="control-label">'),__append(t("settings","setting:lptReadPort")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-lptReadPort" class="form-control" name="lptReadPort" type="number" required min="0" max="32767">\n    </div>\n    <div class="form-group col-md-4">\n      <label for="'),__append(idPrefix),__append('-lptReadBit" class="control-label">'),__append(t("settings","setting:lptReadBit")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-lptReadBit" class="form-control" name="lptReadBit" type="number" required min="0" max="15">\n    </div>\n    <div class="form-group col-md-4">\n      <label for="'),__append(idPrefix),__append('-lptReadInverted" class="control-label">'),__append(t("settings","setting:lptReadInverted")),__append('</label>\n      <div>\n        <label class="radio-inline">\n          <input id="'),__append(idPrefix),__append('-lptReadInverted" name="lptReadInverted" type="radio" value="1" required> '),__append(t("settings","setting:lptReadInverted:on")),__append('\n        </label>\n        <label class="radio-inline">\n          <input name="lptReadInverted" type="radio" value="0" required> '),__append(t("settings","setting:lptReadInverted:off")),__append('\n        </label>\n      </div>\n    </div>\n  </div>\n  <div class="row">\n    <div class="form-group col-md-4">\n      <label for="'),__append(idPrefix),__append('-lptWritePort" class="control-label">'),__append(t("settings","setting:lptWritePort")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-lptWritePort" class="form-control" name="lptWritePort" type="number" required min="0" max="32767">\n    </div>\n    <div class="form-group col-md-4">\n      <label for="'),__append(idPrefix),__append('-lptWriteBit" class="control-label">'),__append(t("settings","setting:lptWriteBit")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-lptWriteBit" class="form-control" name="lptWriteBit" type="number" required min="0" max="15">\n    </div>\n  </div>\n</div>\n')}.call(this),__append("\n    "),function(){__append('<div id="'),__append(idPrefix),__append('-sol" class="panel-body">\n  <div class="form-group">\n    <label for="'),__append(idPrefix),__append('-solComPattern" class="control-label">'),__append(t("settings","setting:solComPattern")),__append('</label>\n    <input id="'),__append(idPrefix),__append('-solComPattern" class="form-control" name="solComPattern" type="text" required>\n  </div>\n  <div class="form-group">\n    <label for="'),__append(idPrefix),__append('-solFilePattern" class="control-label">'),__append(t("settings","setting:solFilePattern")),__append('</label>\n    <input id="'),__append(idPrefix),__append('-solFilePattern" class="form-control" name="solFilePattern" type="text" required>\n  </div>\n  <div class="form-group">\n    <label for="'),__append(idPrefix),__append('-solReset" class="control-label">'),__append(t("settings","setting:solReset")),__append('</label>\n    <div>\n      <label class="radio-inline">\n        <input id="'),__append(idPrefix),__append('-solReset" name="solReset" type="radio" value="1" required> '),__append(t("settings","setting:solReset:on")),__append('\n      </label>\n      <label class="radio-inline">\n        <input name="solReset" type="radio" value="0" required> '),__append(t("settings","setting:solReset:off")),__append('\n      </label>\n    </div>\n  </div>\n  <div class="form-group">\n    <label for="'),__append(idPrefix),__append('-solResetDelay" class="control-label">'),__append(t("settings","setting:solResetDelay")),__append('</label>\n    <input id="'),__append(idPrefix),__append('-solResetDelay" class="form-control" name="solResetDelay" type="number" required min="333">\n  </div>\n</div>\n')}.call(this),__append("\n    "),function(){__append('<div id="'),__append(idPrefix),__append('-testing" class="panel-body settings-hasRowLast">\n  <div class="form-group">\n    <label for="'),__append(idPrefix),__append('-testingEnabled" class="control-label">'),__append(t("settings","setting:testingEnabled")),__append('</label>\n    <div>\n      <label class="radio-inline">\n        <input id="'),__append(idPrefix),__append('-testingEnabled" name="testingEnabled" type="radio" value="1" required> '),__append(t("settings","setting:testingEnabled:on")),__append('\n      </label>\n      <label class="radio-inline">\n        <input name="testingEnabled" type="radio" value="0" required> '),__append(t("settings","setting:testingEnabled:off")),__append('\n      </label>\n    </div>\n  </div>\n  <div class="row">\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-testingComPattern" class="control-label">'),__append(t("settings","setting:testingComPattern")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-testingComPattern" class="form-control" name="testingComPattern" type="text" required>\n    </div>\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-testingComAddress" class="control-label">'),__append(t("settings","setting:testingComAddress")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-testingComAddress" class="form-control" name="testingComAddress" type="number" required min="0" max="255">\n    </div>\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-testingComTimeout" class="control-label">'),__append(t("settings","setting:testingComTimeout")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-testingComTimeout" class="form-control" name="testingComTimeout" type="number" required min="100" max="5000">\n    </div>\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-testingCurrent" class="control-label">'),__append(t("settings","setting:testingCurrent")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-testingCurrent" class="form-control" name="testingCurrent" type="number" required min="0.01" max="10" step="0.01">\n    </div>\n  </div>\n  <div class="row">\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-testingModbusEnabled" class="control-label">'),__append(t("settings","setting:testingModbusEnabled")),__append('</label>\n      <div>\n        <label class="radio-inline">\n          <input id="'),__append(idPrefix),__append('-testingModbusEnabled" name="testingModbusEnabled" type="radio" value="1" required> '),__append(t("settings","setting:testingModbusEnabled:on")),__append('\n        </label>\n        <label class="radio-inline">\n          <input name="testingModbusEnabled" type="radio" value="0" required> '),__append(t("settings","setting:testingModbusEnabled:off")),__append('\n        </label>\n      </div>\n    </div>\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-testingModbusHost" class="control-label">'),__append(t("settings","setting:testingModbusHost")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-testingModbusHost" class="form-control" name="testingModbusHost" type="text" required pattern="[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}">\n    </div>\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-testingModbusPort" class="control-label">'),__append(t("settings","setting:testingModbusPort")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-testingModbusPort" class="form-control" name="testingModbusPort" type="number" required min="1" max="65535">\n    </div>\n  </div>\n</div>\n')}.call(this),__append("\n    "),function(){__append('<div id="'),__append(idPrefix),__append('-glp2" class="panel-body settings-hasRowLast">\n  <div class="row">\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-glp2Enabled" class="control-label">'),__append(t("settings","setting:glp2Enabled")),__append('</label>\n      <div>\n        <label class="radio-inline">\n          <input id="'),__append(idPrefix),__append('-glp2Enabled" name="glp2Enabled" type="radio" value="1" required> '),__append(t("settings","setting:glp2Enabled:on")),__append('\n        </label>\n        <label class="radio-inline">\n          <input name="glp2Enabled" type="radio" value="0" required> '),__append(t("settings","setting:glp2Enabled:off")),__append('\n        </label>\n      </div>\n    </div>\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-glp2AllInOne" class="control-label">'),__append(t("settings","setting:glp2AllInOne")),__append('</label>\n      <div>\n        <label class="radio-inline">\n          <input id="'),__append(idPrefix),__append('-glp2AllInOne" name="glp2AllInOne" type="radio" value="1" required> '),__append(t("settings","setting:glp2AllInOne:on")),__append('\n        </label>\n        <label class="radio-inline">\n          <input name="glp2AllInOne" type="radio" value="0" required> '),__append(t("settings","setting:glp2AllInOne:off")),__append('\n        </label>\n      </div>\n    </div>\n  </div>\n  <div class="row">\n    <div class="form-group col-md-3">\n      <label for="'),
__append(idPrefix),__append('-glp2ComPattern" class="control-label">'),__append(t("settings","setting:glp2ComPattern")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-glp2ComPattern" class="form-control" name="glp2ComPattern" type="text" required>\n    </div>\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-glp2ComAddress" class="control-label">'),__append(t("settings","setting:glp2ComAddress")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-glp2ComAddress" class="form-control" name="glp2ComAddress" type="number" required min="1" max="255">\n    </div>\n  </div>\n  <div class="row">\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-glp2ProgrammingDelay" class="control-label">'),__append(t("settings","setting:glp2ProgrammingDelay")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-glp2ProgrammingDelay" class="form-control" name="glp2ProgrammingDelay" type="number" required min="0" max="60000">\n    </div>\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-glp2CancelDelay" class="control-label">'),__append(t("settings","setting:glp2CancelDelay")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-glp2CancelDelay" class="form-control" name="glp2CancelDelay" type="number" required min="1" max="10000">\n    </div>\n  </div>\n</div>\n')}.call(this),__append("\n    "),function(){__append('<div id="'),__append(idPrefix),__append('-ft" class="panel-body">\n  <div class="form-group">\n    <label for="'),__append(idPrefix),__append('-ftEnabled" class="control-label">'),__append(t("settings","setting:ftEnabled")),__append('</label>\n    <div>\n      <label class="radio-inline">\n        <input id="'),__append(idPrefix),__append('-ftEnabled" name="ftEnabled" type="radio" value="1" required> '),__append(t("settings","setting:ftEnabled:on")),__append('\n      </label>\n      <label class="radio-inline">\n        <input name="ftEnabled" type="radio" value="0" required> '),__append(t("settings","setting:ftEnabled:off")),__append('\n      </label>\n    </div>\n  </div>\n  <div class="row">\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-ftSerialProxyAddress" class="control-label">'),__append(t("settings","setting:ftSerialProxyAddress")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-ftSerialProxyAddress" class="form-control" name="ftSerialProxyAddress" type="text" placeholder="0.0.0.0">\n    </div>\n  </div>\n  <div class="row">\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-ftStartResource1" class="control-label">'),__append(t("settings","setting:ftStartResource1")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-ftStartResource1" class="form-control" name="ftStartResource1" type="url" placeholder="coap://">\n    </div>\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-ftStartResource2" class="control-label">'),__append(t("settings","setting:ftStartResource2")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-ftStartResource2" class="form-control" name="ftStartResource2" type="url" placeholder="coap://">\n    </div>\n  </div>\n  <div class="row">\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-ftDuration" class="control-label">'),__append(t("settings","setting:ftDuration")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-ftDuration" class="form-control" name="ftDuration" type="number" required min="1000" max="60000" step="1">\n    </div>\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-ftSetCurrent" class="control-label">'),__append(t("settings","setting:ftSetCurrent")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-ftSetCurrent" class="form-control" name="ftSetCurrent" type="number" required min="0.01" max="10" step="0.01">\n    </div>\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-ftSetVoltage" class="control-label">'),__append(t("settings","setting:ftSetVoltage")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-ftSetVoltage" class="form-control" name="ftSetVoltage" type="number" required min="0.1" max="99.9" step="0.1">\n    </div>\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-ftMaxResistance" class="control-label">'),__append(t("settings","setting:ftMaxResistance")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-ftMaxResistance" class="form-control" name="ftMaxResistance" type="number" required min="0.001" step="0.001">\n    </div>\n  </div>\n  <div class="form-group">\n    <label for="'),__append(idPrefix),__append('-ftOrderPattern" class="control-label">'),__append(t("settings","setting:ftOrderPattern")),__append('</label>\n    <textarea id="'),__append(idPrefix),__append('-ftOrderPattern" class="form-control" name="ftOrderPattern" rows="7"></textarea>\n  </div>\n</div>\n')}.call(this),__append("\n    "),function(){__append('<div id="'),__append(idPrefix),__append('-fl" class="panel-body settings-hasRowLast">\n  <div class="row">\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-flResource1" class="control-label">'),__append(t("settings","setting:flResource1")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-flResource1" class="form-control" name="flResource1" type="url" placeholder="coap://">\n    </div>\n  </div>\n  <div class="row">\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-flResource2" class="control-label">'),__append(t("settings","setting:flResource2")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-flResource2" class="form-control" name="flResource2" type="url" placeholder="coap://">\n    </div>\n  </div>\n</div>\n')}.call(this),__append("\n    "),function(){__append('<div id="'),__append(idPrefix),__append('-weight" class="panel-body">\n  <div class="form-group">\n    <label class="control-label">'),__append(t("settings","setting:weightEnabled")),__append('</label>\n    <div>\n      <label class="radio-inline">\n        <input name="weightEnabled" type="radio" value="1" required> '),__append(t("settings","setting:weightEnabled:on")),__append('\n      </label>\n      <label class="radio-inline">\n        <input name="weightEnabled" type="radio" value="0" required> '),__append(t("settings","setting:weightEnabled:off")),__append('\n      </label>\n    </div>\n  </div>\n  <div class="form-group">\n    <label class="control-label">'),__append(t("settings","setting:weightRequireComponent")),__append('</label>\n    <div>\n      <label class="radio-inline">\n        <input name="weightRequireComponent" type="radio" value="1" required> '),__append(t("settings","setting:weightRequireComponent:on")),__append('\n      </label>\n      <label class="radio-inline">\n        <input name="weightRequireComponent" type="radio" value="0" required> '),__append(t("settings","setting:weightRequireComponent:off")),__append('\n      </label>\n    </div>\n  </div>\n  <div class="form-group">\n    <label class="control-label">'),__append(t("settings","setting:weightCheckScope")),__append("</label>\n    <div>\n      "),["none","current","all"].forEach(function(e){__append('\n      <label class="radio-inline">\n        <input name="weightCheckScope" type="radio" value="'),__append(e),__append('" required> '),__append(t("settings","setting:weightCheckScope:"+e)),__append("\n      </label>\n      ")}),__append('\n    </div>\n  </div>\n  <div class="row">\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-weightHost" class="control-label">'),__append(t("settings","setting:weightHost")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-weightHost" class="form-control" name="weightHost" type="text" placeholder="0.0.0.0">\n    </div>\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-weightPort" class="control-label">'),__append(t("settings","setting:weightPort")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-weightPort" class="form-control" name="weightPort" type="number" required min="1" max="65535" step="1">\n    </div>\n  </div>\n  <div class="form-group">\n    <label class="control-label">'),__append(t("settings","setting:weightStabilized")),__append('</label>\n    <div>\n      <label class="radio-inline">\n        <input name="weightStabilized" type="radio" value="1" required> '),__append(t("settings","setting:weightStabilized:on")),__append('\n      </label>\n      <label class="radio-inline">\n        <input name="weightStabilized" type="radio" value="0" required> '),__append(t("settings","setting:weightStabilized:off")),__append('\n      </label>\n    </div>\n  </div>\n  <div class="row">\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-weightTolerance" class="control-label">'),__append(t("settings","setting:weightTolerance")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-weightTolerance" class="form-control" name="weightTolerance" type="number" required min="0" max="9999" step="1">\n    </div>\n  </div>\n  <div class="row">\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-weightTimeout" class="control-label">'),__append(t("settings","setting:weightTimeout")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-weightTimeout" class="form-control" name="weightTimeout" type="number" required min="0" max="600" step="1">\n    </div>\n  </div>\n  <div class="row">\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-weightRefUnit" class="control-label">'),__append(t("settings","setting:weightRefUnit")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-weightRefUnit" class="form-control" name="weightRefUnit" type="number" required min="1" step="0.001">\n    </div>\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-weightCurrentValue" class="control-label">'),__append(t("settings","setting:weightCurrentValue")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-weightCurrentValue" class="form-control" readonly>\n    </div>\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-weightWeighedValue" class="control-label">'),__append(t("settings","setting:weightWeighedValue")),__append('</label>\n      <div class="input-group">\n        <input id="'),__append(idPrefix),__append('-weightWeighedValue" class="form-control" type="number" min="1">\n        <span class="input-group-btn">\n          <button id="'),__append(idPrefix),__append('-weightRefUnitCalc" class="btn btn-default" type="button">'),__append(t("settings","setting:weightRefUnitCalc")),__append('</button>\n          <button id="'),__append(idPrefix),__append('-weightTare" class="btn btn-default" type="button">'),__append(t("settings","setting:weightTare")),__append("</button>\n        </span>\n      </div>\n    </div>\n  </div>\n  "),t.has("settings","weight:help")&&__append("\n  <ol>\n    <li>Upewnij się, że waga jest pusta.</li>\n    <li>Wpisz <em>Hasło</em> i wciśnij przycisk <em>Taruj.</em></li>\n    <li>Włóż do wagi przedmiot o znanej wadze (np. 1 kg).</li>\n    <li>Wpisz wagę włożonego przedmiotu do pola <em>Referencyjna waga</em> (np. <code>1000</code>).</li>\n    <li>Kliknij przycisk <em>Oblicz</em> i <em>Zapisz ustawienia</em>.</li>\n  </ol>\n  "),__append("\n</div>\n")}.call(this),__append("\n    "),function(){__append('<div id="'),__append(idPrefix),__append('-hotkeys" class="panel-body settings-hasRowLast">\n  <div class="row">\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-showDashboardPage" class="control-label">'),__append(t("settings","hotkey:showDashboardPage")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-showDashboardPage" class="form-control" name="hotkeys.showDashboardPage" type="text" pattern="'),__append(hotkeyPattern),__append('">\n    </div>\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-showHistoryPage" class="control-label">'),__append(t("settings","hotkey:showHistoryPage")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-showHistoryPage" class="form-control" name="hotkeys.showHistoryPage" type="text" pattern="'),__append(hotkeyPattern),__append('">\n    </div>\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-showProgramsPage" class="control-label">'),__append(t("settings","hotkey:showProgramsPage")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-showProgramsPage" class="form-control" name="hotkeys.showProgramsPage" type="text" pattern="'),__append(hotkeyPattern),__append('">\n    </div>\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-showSettingsPage" class="control-label">'),__append(t("settings","hotkey:showSettingsPage")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-showSettingsPage" class="form-control" name="hotkeys.showSettingsPage" type="text" pattern="'),__append(hotkeyPattern),__append('">\n    </div>\n  </div>\n  <div class="row">\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-focusOrderNo" class="control-label">'),__append(t("settings","hotkey:focusOrderNo")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-focusOrderNo" class="form-control" name="hotkeys.focusOrderNo" type="text" pattern="'),__append(hotkeyPattern),__append('">\n    </div>\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-focusQuantity" class="control-label">'),__append(t("settings","hotkey:focusQuantity")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-focusQuantity" class="form-control" name="hotkeys.focusQuantity" type="text" pattern="'),__append(hotkeyPattern),__append('">\n    </div>\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-focusNc12" class="control-label">'),__append(t("settings","hotkey:focusNc12")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-focusNc12" class="form-control" name="hotkeys.focusNc12" type="text" pattern="'),__append(hotkeyPattern),__append('">\n    </div>\n  </div>\n  <div class="row">\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-focusLog" class="control-label">'),__append(t("settings","hotkey:focusLog")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-focusLog" class="form-control" name="hotkeys.focusLog" type="text" pattern="'),__append(hotkeyPattern),__append('">\n    </div>\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-focusHistory" class="control-label">'),__append(t("settings","hotkey:focusHistory")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-focusHistory" class="form-control" name="hotkeys.focusHistory" type="text" pattern="'),__append(hotkeyPattern),__append('">\n    </div>\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-toggleInputMode" class="control-label">'),__append(t("settings","hotkey:toggleInputMode")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-toggleInputMode" class="form-control" name="hotkeys.toggleInputMode" type="text" pattern="'),__append(hotkeyPattern),__append('">\n    </div>\n  </div>\n  <div class="row">\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-reload" class="control-label">'),__append(t("settings","hotkey:reload")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-reload" class="form-control" name="hotkeys.reload" type="text" pattern="'),__append(hotkeyPattern),__append('">\n    </div>\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-reset" class="control-label">'),__append(t("settings","hotkey:reset")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-reset" class="form-control" name="hotkeys.reset" type="text" pattern="'),__append(hotkeyPattern),__append('">\n    </div>\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-setProgram" class="control-label">'),__append(t("settings","hotkey:setProgram")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-setProgram" class="form-control" name="hotkeys.setProgram" type="text" pattern="'),__append(hotkeyPattern),__append('">\n    </div>\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-printServiceTag" class="control-label">'),__append(t("settings","hotkey:printServiceTag")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-printServiceTag" class="form-control" name="hotkeys.printServiceTag" type="text" pattern="'),__append(hotkeyPattern),__append('">\n    </div>\n  </div>\n  <div class="row">\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-start" class="control-label">'),__append(t("settings","hotkey:start")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-start" class="form-control" name="hotkeys.start" type="text" pattern="'),__append(hotkeyPattern),__append('">\n    </div>\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-cancel" class="control-label">'),__append(t("settings","hotkey:cancel")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-cancel" class="form-control" name="hotkeys.cancel" type="text" pattern="'),__append(hotkeyPattern),__append('">\n    </div>\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-toggleWorkMode" class="control-label">'),__append(t("settings","hotkey:toggleWorkMode")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-toggleWorkMode" class="form-control" name="hotkeys.toggleWorkMode" type="text" pattern="'),__append(hotkeyPattern),__append('">\n    </div>\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-continue" class="control-label">'),__append(t("settings","hotkey:continue")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-continue" class="form-control" name="hotkeys.continue" type="text" pattern="'),__append(hotkeyPattern),__append('">\n    </div>\n  </div>\n  <div class="row">\n    <div class="form-group col-md-3">\n      <label for="'),__append(idPrefix),__append('-closeDialog" class="control-label">'),__append(t("settings","hotkey:closeDialog")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-closeDialog" class="form-control" name="hotkeys.closeDialog" type="text" pattern="'),__append(hotkeyPattern),__append('">\n    </div>\n  </div>\n</div>\n')}.call(this),__append("\n    "),function(){__append('<div id="'),__append(idPrefix),__append('-license" class="panel-body">\n  <div class="form-group">\n    <label for="'),__append(idPrefix),__append('-id" class="control-label">'),__append(t("settings","setting:id")),__append('</label>\n    <div class="input-group">\n      <span class="input-group-addon">'),__append(computerName),__append('</span>\n      <input id="'),__append(idPrefix),__append('-id" class="form-control" name="id" type="text" pattern="^[a-zA-Z0-9-_]*$">\n    </div>\n  </div>\n  <div class="row">\n    <div class="form-group col-md-8">\n      <label for="'),__append(idPrefix),__append('-remoteServer" class="control-label">'),__append(t("settings","setting:remoteServer")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-remoteServer" class="form-control" name="remoteServer" type="url">\n    </div>\n    <div class="form-group col-md-4">\n      <label for="'),__append(idPrefix),__append('-syncInterval" class="control-label">'),__append(t("settings","setting:syncInterval")),__append('</label>\n      <input id="'),__append(idPrefix),__append('-syncInterval" class="form-control" name="syncInterval" type="number" min="1" max="480" step="1">\n    </div>\n  </div>\n  <div class="row">\n    <div class="form-group col-md-8">\n      <label for="'),__append(idPrefix),__append('-licenseKey" class="control-label">'),__append(t("settings","setting:licenseKey")),__append('</label>\n      <textarea id="'),__append(idPrefix),__append('-licenseKey" class="form-control" name="licenseKey" rows="8"></textarea>\n    </div>\n    <div class="col-md-4">\n      <div class="row">\n        <div class="form-group col-md-4">\n          <label for="'),__append(idPrefix),__append('-licenseInfo-appId" class="control-label">'),__append(t("settings","setting:licenseInfo:appId")),__append('</label>\n          <input id="'),__append(idPrefix),__append('-licenseInfo-appId" class="form-control" name="licenseInfo.appId" type="text" readonly>\n        </div>\n        <div class="form-group col-md-4">\n          <label for="'),__append(idPrefix),__append('-licenseInfo-appVersion" class="control-label">'),__append(t("settings","setting:licenseInfo:appVersion")),__append('</label>\n          <input id="'),__append(idPrefix),__append('-licenseInfo-appVersion" class="form-control" name="licenseInfo.appVersion" type="text" readonly>\n        </div>\n        <div class="form-group col-md-4">\n          <label for="'),__append(idPrefix),__append('-licenseInfo-date" class="control-label">'),__append(t("settings","setting:licenseInfo:date")),__append('</label>\n          <input id="'),__append(idPrefix),__append('-licenseInfo-date" class="form-control" name="licenseInfo.date" type="text" readonly>\n        </div>\n      </div>\n      <div class="form-group">\n        <label for="'),__append(idPrefix),__append('-licenseInfo-licensee" class="control-label">'),__append(t("settings","setting:licenseInfo:licensee")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-licenseInfo-licensee" class="form-control" name="licenseInfo.licensee" type="text" readonly>\n      </div>\n      <div class="form-group">\n        <label for="'),__append(idPrefix),__append('-licenseInfo-uuid" class="control-label">'),__append(t("settings","setting:licenseInfo:uuid")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-licenseInfo-uuid" class="form-control" name="licenseInfo.uuid" type="text" readonly>\n      </div>\n      <div class="form-group">\n        <label for="'),__append(idPrefix),__append('-licenseInfo-features" class="control-label">'),__append(t("settings","setting:licenseInfo:features")),__append('</label>\n        <input id="'),__append(idPrefix),__append('-licenseInfo-features" class="form-control" name="licenseInfo.features" type="text" readonly>\n      </div>\n    </div>\n  </div>\n  <div class="form-group">\n    <label for="'),__append(idPrefix),__append('-licenseError" class="control-label">'),__append(t("settings","setting:licenseError")),__append('</label>\n    <input id="'),__append(idPrefix),__append('-licenseError" class="form-control" name="licenseError" type="text" disabled>\n  </div>\n</div>\n')}.call(this),__append("\n    "),function(){__append('<div id="'),__append(idPrefix),__append('-import" class="panel-body settings-import">\n  <div class="form-group">\n    <label for="'),__append(idPrefix),__append('-importLine" class="control-label">'),__append(t("settings","import:line")),__append('</label>\n    <p class="help-block">'),__append(t("settings","import:line:help")),__append('</p>\n    <select id="'),__append(idPrefix),__append('-importLine" class="form-control"></select>\n  </div>\n  <div class="form-group">\n    <label for="'),__append(idPrefix),__append('-importClient" class="control-label">'),__append(t("settings","import:client")),__append('</label>\n    <p class="help-block">'),__append(t("settings","import:client:help")),__append('</p>\n    <select id="'),__append(idPrefix),__append('-importClient" class="form-control"></select>\n  </div>\n  <div id="'),__append(idPrefix),__append('-importFeatures" class="form-group">\n    <label class="control-label">'),__append(t("settings","import:features")),__append('</label>\n    <p class="help-block">'),__append(t("settings","import:features:help")),__append("</p>\n    "),availableFeatures.forEach(function(e){__append('\n    <label class="checkbox-inline">\n      <input id="'),__append(idPrefix),__append("-importFeatures-"),__append(e),__append('" type="checkbox" value="'),__append(e),__append('"> '),__append(t("settings","features:"+e)),__append("\n    </label>\n    <br>\n    ")}),__append('\n  </div>\n  <button id="'),__append(idPrefix),__append('-importSettings" class="btn btn-default btn-lg" type="button">\n    <i class="fa fa-download"></i><span>'),__append(t("settings","import:button")),__append("</span>\n  </button>\n</div>\n")}.call(this),__append('\n    <div class="panel-footer">\n      <input id="'),__append(idPrefix),__append('-password" class="form-control" name="password" type="password" required placeholder="'),__append(t("settings","form:password")),__append('"><input\n        type="submit" class="btn btn-primary settings-save" id="'),__append(idPrefix),__append('-submit" value="'),__append(t("settings","form:submit")),__append('"><input\n        type="button" class="btn btn-default settings-export" value="'),__append(t("settings","form:export")),__append('"><input\n        type="button" class="btn btn-danger settings-restart" value="'),__append(t("settings","form:restart")),__append('"><input\n        type="button" class="btn btn-warning settings-logs" value="'),__append(t("settings","form:logs")),__append('">\n    </div>\n  </div>\n</form>\n');return __output.join("")}}),define("app/settings/views/SettingsFormView",["jquery","underscore","js2form","form2js","app/i18n","app/broker","app/viewport","app/core/View","app/data/currentState","app/data/settings","../Settings","app/settings/templates/form"],function(e,t,n,r,i,o,a,s,l,p,c,u){"use strict";var d=new RegExp("^-----BEGIN LICENSE KEY-----\r?\n?([a-zA-Z0-9=+/\r\n]+)-----END LICENSE KEY-----$"),f={0:"NUL",1:"SOH",2:"STX",3:"ETX",4:"EOT",5:"ENQ",6:"ACK",7:"BEL",8:"BS",9:"TAB",11:"VT",12:"FF",14:"SO",15:"SI",16:"DLE",17:"DC1",18:"DC2",19:"DC3",20:"DC4",21:"NAK",22:"SYN",23:"ETB",24:"CAN",25:"EM",26:"SUB",27:"ESC",28:"FS",29:"GS",30:"RS",31:"US"};return s.extend({template:u,events:{"click a[data-tab]":function(e){e.preventDefault();var t=e.target.dataset.tab;this.broker.publish("router.navigate",{url:"/settings?tab="+t,trigger:!1,replace:!0}),this.changeTab(t)},"paste #-serviceTagLabelCode":function(e){e.preventDefault();for(var t=e.originalEvent.clipboardData.getData("text/plain"),n="",r=0;r<t.length;++r){var i=f[t.charCodeAt(r)];n+=void 0===i?t.charAt(r):"<"+i+">"}this.$id("serviceTagLabelCode").val(n)},"click .settings-export":function(){var e=this.$id("password").val();window.location.href="/settings;export?password="+e},"click #-weightRefUnitCalc":function(){var e=l.get("weight").value*p.get("weightRefUnit"),t=e/(parseFloat(this.$id("weightWeighedValue").val())||1);this.$id("weightRefUnit").val(Math.round(1e3*t)/1e3)},"click #-weightTare":function(){var e=this.$id("password").val();return e.length?void this.socket.emit("programmer.tareWeight",e):void this.$id("submit").click()},"click .settings-save":"onSaveClick","click .settings-restart":"onRestartClick","click .settings-logs":"onLogsClick",submit:"onSubmit","change #-importClient":"onImportClientChange","click #-importSettings":"onImportClick"},remoteTopics:{"programmer.barcodeScanned":function(e){if(e.scannerId&&!(parseInt(e.scannerId,10)<=255)&&document.activeElement&&"bgScannerFilter"===document.activeElement.name){var t={};this.$id("bgScannerFilter").val().split(/[^0-9A-Z]/).forEach(function(e){/^[0-9A-Z]{4,}$/.test(e)&&(t[e]=1)}),t[e.scannerId]=1,this.$id("bgScannerFilter").val(Object.keys(t).join(" "))}}},initialize:function(){this.idPrefix=t.uniqueId("settingsForm"),this.onDragEnter=this.onDragEnter.bind(this),this.onDragLeave=this.onDragLeave.bind(this),this.onDragOver=this.onDragOver.bind(this),this.onDrop=this.onDrop.bind(this),document.addEventListener("dragenter",this.onDragEnter,!1),document.addEventListener("dragleave",this.onDragLeave,!1),document.addEventListener("dragover",this.onDragOver,!1),document.addEventListener("drop",this.onDrop,!1),this.listenTo(p,"change",this.onSettingsChange),this.listenTo(l,"change:weight",this.onWeightChange)},destroy:function(){document.removeEventListener("dragenter",this.onDragEnter,!1),document.removeEventListener("dragleave",this.onDragLeave,!1),document.removeEventListener("dragover",this.onDragOver,!1),document.removeEventListener("drop",this.onDrop,!1)},serialize:function(){return{idPrefix:this.idPrefix,hotkeyPattern:"^([A-Z\\[\\];',./]|Space)$",computerName:window.COMPUTER_NAME||"",multiOneWorkflowVersion:p.get("multiOneWorkflowVersion"),availableFeatures:c.AVAILABLE_FEATURES}},afterRender:function(){this.importSettings(p.toJSON()),this.changeTab(this.options.tab||this.$(".list-group-item[data-tab]").first().attr("data-tab")),this.onWeightChange()},changeTab:function(e){var t=this.$(".list-group-item.active"),n=this.$('.list-group-item[data-tab="'+e+'"]');"import"===e&&this.loadImportTab(),t.removeClass("active"),n.addClass("active"),this.$(".panel-body.active").removeClass("active"),this.$id(e).addClass("active")},loadImportTab:function(){var t=this,n=t.$id("import").children().addClass("hidden"),r=e('<i class="fa fa-spinner fa-spin"></i>').appendTo(t.$id("import")),i=function(){r.removeClass("fa-spin").css("color","#E00")};t.import={remoteServer:null,prodLines:[],clients:[]},this.$id("importFeatures").find('input[type="checkbox"]').prop("checked",!1),t.resolveRemoteServer().fail(i).done(function(o){t.import.remoteServer=o,e.when(t.loadRemoteProdLines(),t.loadRemoteClients()).fail(i).done(function(e,i){t.import.prodLines=e,t.import.clients=i,r.remove(),n.removeClass("hidden"),t.prepareImportTab()})})},prepareImportTab:function(){var e,n,r="<option selected></option>",i=this.import.prodLines.reduce(function(e,t){return Math.max(e,t._id.length)},0);this.import.prodLines.forEach(function(o){var a=o._id;for(e=0,n=i-a.length;e<n;++e)a+="&nbsp;";r+='<option value="'+t.escape(o._id)+'">'+a+" | "+t.escape(o.description)+"</option>"}),this.$id("importLine").html(r);var o="<option selected></option>",a=this.import.clients.reduce(function(e,t){return Math.max(e,t.settings.prodLine.length)},0),s=this.import.clients.reduce(function(e,t){return Math.max(e,t._id.length)},0);this.import.clients.forEach(function(r){var i=r.settings.prodLine;for(e=0,n=a-r.settings.prodLine.length;e<n;++e)i+="&nbsp;";for(i+=" | "+r._id,e=0,n=s-r._id.length;e<n;++e)i+="&nbsp;";r.settings.licenseInfo&&(i+=" | "+p.getLabelsFromFeatures(r.settings.licenseInfo.features).join(", ")),o+='<option value="'+t.escape(r._id)+'">'+i+"</option>"}),this.$id("importClient").html(o)},resolveRemoteServer:function(){var n=e.Deferred(),r=[p.get("remoteServer")].concat(window.REMOTE_SERVERS,"http://localhost/").filter(function(e){return"string"==typeof e&&0===e.indexOf("http")}).map(function(e){return"/"!==e.charAt(e.length-1)&&(e+="/"),e});return this.resolveNextRemoteServer(t.uniq(r),n),n.promise()},resolveNextRemoteServer:function(e,t){var n=e.shift();if(!n)return t.reject();var r=this;r.ajax({url:n+"ping?"+Date.now(),dataType:"text",timeout:3e3}).always(function(i){
"pong"===i?t.resolve(n):r.resolveNextRemoteServer(e,t)})},loadRemoteProdLines:function(){var t=e.Deferred(),n=this.import.remoteServer+"prodLines?select(description)&sort(_id)&limit(0)&deactivatedAt=null";return this.ajax({url:n}).always(function(e){e&&Array.isArray(e.collection)&&e.collection.length?t.resolve(e.collection):t.reject()}),t.promise()},loadRemoteClients:function(){var t=e.Deferred(),n=this.import.remoteServer+"xiconf/clients;settings?select(settings.prodLine,settings.licenseInfo)&sort(settings.prodLine,-updatedAt)&limit(0)&settings.prodLine=ne=string:";return this.ajax({url:n}).always(function(e){e&&Array.isArray(e.collection)&&e.collection.length?t.resolve(e.collection):t.reject()}),t.promise()},importSettings:function(e){var t=e.licenseInfo;e.licenseError=t&&t.error?i("settings","license:"+t.error):null,this.$id("licenseError").parent().toggleClass("has-error",!!e.licenseError),n(this.el,e),this.$id("licenseInfo-features").val(p.getLicenseFeatures(t?t.features:0))},onImportClientChange:function(){var e=this.$id("importFeatures").find('input[type="checkbox"]').prop("checked",!1),n=t.findWhere(this.import.clients,{_id:this.$id("importClient").val()});if(n){var r=p.getLabelsFromFeatures((n.settings.licenseInfo||{}).features||0);r.forEach(function(t){e.filter('[value="'+t.toLowerCase()+'"]').prop("checked",!0)})}},onImportClick:function(){var n=this,r=n.$id("importLine").val(),o=n.$id("importClient").val(),s=n.$id("importFeatures").find("input:checked").get().map(function(e){return e.value.toUpperCase()});if(!r)return n.$id("importLine").focus();if(!o)return n.$id("importClient").focus();if(!s.length)return n.$id("importFeatures").find("input").first().focus();var l=n.$id("importSettings").prop("disabled",!0),c=l.find(".fa").removeClass("fa-download").addClass("fa-spinner fa-spin"),u=n.ajax({url:n.import.remoteServer+"xiconf/clients;licenses",data:{free:1}}),d=n.ajax({url:n.import.remoteServer+"xiconf/clients;settings",data:{_id:o}}),f=function(){c.removeClass("fa-spinner fa-spin").addClass("fa-download"),l.prop("disabled",!1),a.msg.show({type:"error",time:3e3,text:i("settings","import:failure")})},h=function(e){n.importSettings(e),c.removeClass("fa-spinner fa-spin").addClass("fa-download"),l.prop("disabled",!1),n.$('a[data-tab="license"]').click(),n.$id("submit").click()};e.when(u,d).fail(f).done(function(e,i){var o=n.resolveFreeLicense(e[0].collection,s),a=t.extend(i[0].collection[0].settings,{id:"",title:r,prodLine:r,remoteServer:n.import.remoteServer,licenseInfo:o?t.omit(o,"key"):null,licenseKey:o?o.key:"",password:""});return o?h(a):void n.ajax({method:"POST",url:n.import.remoteServer+"xiconf/clients;licenses",data:JSON.stringify({features:p.getFeaturesFromLabels(s)})}).fail(f).done(function(e){var r=n.resolveFreeLicense([e],s);a.licenseInfo=t.omit(r,"key"),a.licenseKey=r.key,h(a)})})},resolveFreeLicense:function(e,n){var r=e.filter(function(e){return e.featureLabels=p.getLabelsFromFeatures(e.features),t.every(n,function(n){return t.contains(e.featureLabels,n)})});if(!r.length)return null;r.sort(function(e,t){return e.featureLabels.length-t.featureLabels.length});var i=r[0];return{appId:i.appId,appVersion:i.appVersion,date:time.format(i.date,"YYYY-MM-DD"),uuid:i._id,licensee:i.licensee,features:i.features,error:null,key:i.key}},onSettingsChange:function(){this.importSettings(p.toJSON()),this.$id("mowVersion").text(p.get("multiOneWorkflowVersion"))},onWeightChange:function(){var e=l.get("weight"),t="?";e&&e.value>=0&&(t=e.value.toLocaleString()+" "+(e.stabilized?"S":"U")),this.$id("weightCurrentValue").val(t)},onRestartClick:function(){var e=this.$(".panel-footer > input").attr("disabled",!0),t=this.ajax({type:"POST",url:"/settings;restart",data:JSON.stringify({password:this.$id("password").val()})});this.$id("password").val(""),t.fail(function(t){var n=t&&t.responseJSON&&t.responseJSON.error&&t.responseJSON.error.message;a.msg.show({type:"error",time:2e3,text:i.has("settings","msg:restart:"+n)?i("settings","msg:restart:"+n):i("settings","msg:restart:failure")}),e.attr("disabled",!1)}),t.done(function(){o.subscribe("socket.connected",function(){e.attr("disabled",!1)})})},onLogsClick:function(){var e=this.$(".panel-footer > input").attr("disabled",!0),t=this.ajax({type:"POST",url:"/settings;logs",data:JSON.stringify({password:this.$id("password").val()})});this.$id("password").val(""),t.fail(function(e){var t=e&&e.responseJSON&&e.responseJSON.error&&e.responseJSON.error.message;a.msg.show({type:"error",time:2e3,text:i.has("settings","msg:logs:"+t)?i("settings","msg:logs:"+t):i("settings","msg:logs:failure")})}),t.done(function(e){window.location.href="/settings;logs?id="+e}),t.always(function(){e.attr("disabled",!1)})},onSaveClick:function(){if(!this.el.checkValidity())for(var e=0,t=this.el.elements.length;e<t;++e){var n=this.el.elements[e];if(!n.validity.valid){var r=this.$('a[href="#'+this.$(n).closest(".tab-pane").attr("id")+'"]');r.parent().hasClass("active")||r.click();break}}},onSubmit:function(e){e.preventDefault();var t=r(this.el,null,!1);if(t.password1!==t.password2)return this.$id("password1").focus().select(),a.msg.show({type:"error",time:2e3,text:i("settings","msg:passwords")});this.$("input[type=checkbox]").each(function(){t[this.name]=t[this.name]===this.value?1:0});var n=this.$(".panel-footer input").attr("disabled",!0),o=new c,s=this,l=this.promised(o.save(t,{wait:!0}));l.done(function(){s.$id("password").val(""),s.$id("licenseKey").val("")}),l.fail(function(e){if(e&&e.responseJSON&&e.responseJSON.error){var t=e.responseJSON.error.message;a.msg.show({type:"error",time:2e3,text:i.has("settings","msg:"+t)?i("settings","msg:"+t):i("settings","msg:failure")})}}),l.always(function(e){if(n.attr("disabled",!1).filter('input[name="password"]').val(""),e&&e.responseJSON&&e.responseJSON.error){var t=e.responseJSON.error.message;t&&"PASSWORD"===t.message&&n.filter('input[name="password"]').focus()}})},onDragEnter:function(e){e.preventDefault(),e.stopPropagation()},onDragLeave:function(e){e.preventDefault(),e.stopPropagation()},onDragOver:function(e){e.preventDefault(),e.stopPropagation()},onDrop:function(e){if(e.preventDefault(),e.stopPropagation(),!e.dataTransfer.files.length)return a.msg.show({type:"warning",time:3e3,text:i("settings","msg:filesOnly")});var n=t.find(e.dataTransfer.files,function(e){return"text/plain"===e.type});if(!n)return a.msg.show({type:"warning",time:3e3,text:i("settings","msg:textOnly")});var r=new FileReader,o=this;r.onload=function(e){var t=e.target.result.trim();return d.test(t)?o.importLicenseKeyFile(t):void o.importSettingsFile(t)},r.onerror=function(){a.msg.show({type:"error",time:3e3,text:i("settings","msg:readFailure")})},r.readAsText(n)},importLicenseKeyFile:function(e){this.$id("licenseKey").val(e);var t=this.$id("tab-license");t.parent().hasClass("active")||t.click()},importSettingsFile:function(e){var n;try{n=JSON.parse(e)}catch(e){return a.msg.show({type:"error",time:3e3,text:i("settings","msg:invalidFile")})}this.importSettings(t.extend(p.toJSON(),n)),a.msg.show({type:"success",time:1500,text:i("settings","msg:importSuccess")})}})}),define("app/settings/pages/SettingsFormPage",["app/i18n","app/core/View","../views/SettingsFormView"],function(e,t,n){"use strict";return t.extend({layoutName:"page",breadcrumbs:[e.bound("settings","breadcrumb")],initialize:function(){this.view=new n({tab:this.options.tab})}})}),define("app/nls/settings",["app/nls/locale/en"],function(e){return{root:{breadcrumb:function(e){return"Settings"},"msg:filesOnly":function(e){return"Only files can be dropped!"},"msg:textOnly":function(e){return"Only text files can be dropped!"},"msg:invalidFile":function(e){return"Invalid file contents!"},"msg:readFailure":function(e){return"Failed to read the contents of the file :("},"msg:importSuccess":function(e){return"Settings were read successfully :)"},"msg:passwords":function(e){return"The specified passwords do not match :("},"msg:PASSWORD":function(e){return"The specified password is invalid :("},"msg:INVALID_CHANGES":function(e){return"No changes were detected :("},"msg:LOCKED":function(e){return"Cannot change the settings while programming is in progress!"},"msg:failure":function(e){return"Failed to save the settings :("},"msg:success":function(e){return"Settings were changed successfully :)"},"msg:restart:failure":function(e){return"Failed to restart the server :("},"msg:restart:AUTH":function(e){return"Cannot restart the server: invalid password!"},"msg:restart:LOCKED":function(e){return"Cannot restart the server while programming is in progress!"},"msg:logs:failure":function(e){return"Failed to download the logs :("},"msg:logs:AUTH":function(e){return"Cannot download the logs: invalid password!"},"msg:logs:EMPTY":function(e){return"Cannot download the logs: not found!"},"form:settings":function(e){return"General settings"},"form:remote":function(e){return"Remote mode"},"form:mow":function(e){return"MultiOne Workflow"},"form:gprs":function(e){return"GPRS"},"form:sol":function(e){return"Fortimo Solar"},"form:lpt":function(e){return"Petrol Station"},"form:testing":function(e){return"Tester 24V DC"},"form:glp2":function(e){return"Tester GLP2-I"},"form:ft":function(e){return"Frame tester"},"form:fl":function(e){return"Fluorescent Lamps"},"form:weight":function(e){return"Component weight"},"form:hotkeys":function(e){return"Hotkeys"},"form:license":function(e){return"License settings"},"form:submit":function(e){return"Save settings"},"form:export":function(e){return"Export settings"},"form:restart":function(e){return"Restart server"},"form:password":function(e){return"Password"},"form:logs":function(e){return"Download logs"},"form:import":function(e){return"Import settings"},"mowVersion:supported":function(e){return"Supported Philips MultiOne Workflow version"},"mowVersion:installed":function(e){return"Installed Philips MultiOne Workflow version"},"setting:id":function(e){return"Installation ID"},"setting:title":function(e){return"Title"},"setting:password1":function(e){return"New password"},"setting:password2":function(e){return"Repeat password"},"setting:orders":function(e){return"Order no and Quantity"},"setting:orders:disabled":function(e){return"Disabled"},"setting:orders:optional":function(e){return"Optional"},"setting:orders:required":function(e){return"Required"},"setting:workflow":function(e){return"Programmer configuration"},"setting:workflowVerify":function(e){return"DALIverify"},"setting:workflowIdentifyAlways":function(e){return"DALIidentifyalways"},"setting:workflowMultiDevice":function(e){return"DALImultidevice"},"setting:workflowCheckDeviceModel":function(e){return"checkdevicemodel"},"setting:workflowCheckDevicePresent":function(e){return"DALIcheckdevicepresent"},"setting:workflowCommissionAll":function(e){return"DALIcommissionall"},"setting:workflowDaliFactoryNew":function(e){return"DALIfactorynew"},"setting:featurePath1":function(e){return"First path to the driver configuration files"},"setting:searchTimeout1":function(e){return"Search timeout [ms]"},"setting:readTimeout1":function(e){return"Read timeout [ms]"},"setting:featurePath2":function(e){return"Second path to the driver configuration files"},"setting:searchTimeout2":function(e){return"Search timeout [ms]"},"setting:readTimeout2":function(e){return"Read timeout [ms]"},"setting:schedulerFile":function(e){return"Path to the scheduler file"},"setting:supportedDevicesFile":function(e){return"Path to the supported devices file"},"setting:mowLabelDataLocation":function(e){return"Path to the label data directory"},"setting:mowUniqueId":function(e){return"Unique interface ID"},"setting:interface":function(e){return"Programmer interface"},"setting:interface:d":function(e){return"USB2DALI"},"setting:interface:s":function(e){return"SimpleSet®"},"setting:continueOnWarnings":function(e){return"On warnings..."},"setting:continueOnWarnings:continue":function(e){return"...continue programming"},"setting:continueOnWarnings:halt":function(e){return"...halt programming"},"setting:logVerbosity":function(e){return"Log verbosity"},"setting:logVerbosity:info":function(e){return"All info"},"setting:logVerbosity:error":function(e){return"All errors"},"setting:logVerbosity:fatal":function(e){return"Only fatal errors"},"setting:programmerFile":function(e){return"Path to the programmer executable file"},"setting:backupDelay":function(e){return"Driver configuration file backup delay [s]"},"setting:backupPath:1":function(e){return"Copy driver configuration files from the first path to the second"},"setting:backupPath:2":function(e){return"Copy driver configuration files from the second path to the first"},"setting:programDelay":function(e){return"Programming countdown [s]"},"setting:cancelDelay":function(e){return"Cancel action unlock delay [ms]"},"setting:blockageDuration":function(e){return"Blockage duration [s]"},"setting:blockageInterval":function(e){return"Blockage interval"},"setting:remoteServer":function(e){return"Remote server"},"setting:syncInterval":function(e){return"History synchronization interval [min]"},"setting:imWorkin":function(e){return"Screensaver blockage"},"setting:imWorkin:on":function(e){return"On"},"setting:imWorkin:off":function(e){return"Off"},"setting:solComPattern":function(e){return"Serial port pattern"},"setting:solFilePattern":function(e){return"Program file name pattern"},"setting:solReset":function(e){return"Device reset before execution of the GET commands"},"setting:solReset:on":function(e){return"On"},"setting:solReset:off":function(e){return"Off"},"setting:solResetDelay":function(e){return"Delay after device reset [ms]"},"setting:lptEnabled":function(e){return"Programming with LPT"},"setting:lptEnabled:on":function(e){return"Enabled"},"setting:lptEnabled:off":function(e){return"Disabled"},"setting:lptStartTimeout":function(e){return"Programming start timeout [ms]"},"setting:lptFilePattern":function(e){return"Program file name pattern"},"setting:lptReadPort":function(e){return"Port address (read)"},"setting:lptReadBit":function(e){return"Bit number (read)"},"setting:lptReadInverted":function(e){return"Inverted value (read)"},"setting:lptReadInverted:on":function(e){return"Yes"},"setting:lptReadInverted:off":function(e){return"No"},"setting:lptWritePort":function(e){return"Port address (write)"},"setting:lptWriteBit":function(e){return"Bit number (write)"},"setting:testingEnabled":function(e){return"Testing"},"setting:testingEnabled:on":function(e){return"Enabled"},"setting:testingEnabled:off":function(e){return"Disabled"},"setting:testingComPattern":function(e){return"Serial port pattern"},"setting:testingComAddress":function(e){return"Tester address"},"setting:testingComTimeout":function(e){return"Tester response timeout [ms]"},"setting:testingCurrent":function(e){return"Set current [A]"},"setting:testingModbusEnabled":function(e){return"Output control through Modbus"},"setting:testingModbusEnabled:on":function(e){return"Enabled"},"setting:testingModbusEnabled:off":function(e){return"Disabled"},"setting:testingModbusHost":function(e){return"Modbus controller IP"},"setting:testingModbusPort":function(e){return"Modbus controller port"},"setting:glp2Enabled":function(e){return"Testing"},"setting:glp2Enabled:on":function(e){return"Enabled"},"setting:glp2Enabled:off":function(e){return"Disabled"},"setting:glp2AllInOne":function(e){return"Testing mode"},"setting:glp2AllInOne:on":function(e){return"All steps at once"},"setting:glp2AllInOne:off":function(e){return"One step at a time"},"setting:glp2ComPattern":function(e){return"Serial port pattern"},"setting:glp2ComAddress":function(e){return"Tester address"},"setting:glp2ProgrammingDelay":function(e){return"Programming delay [ms]"},"setting:glp2CancelDelay":function(e){return"Cancel delay [ms]"},"setting:licenseKey":function(e){return"New license key"},"setting:licenseInfo:appId":function(e){return"Application"},"setting:licenseInfo:appVersion":function(e){return"Version"},"setting:licenseInfo:date":function(e){return"Date"},"setting:licenseInfo:uuid":function(e){return"Identifier"},"setting:licenseInfo:licensee":function(e){return"Licensee"},"setting:licenseInfo:features":function(e){return"Features"},"setting:licenseError":function(e){return"License error"},"setting:prodLine":function(e){return"Production line ID"},"setting:serviceTagPrinter":function(e){return"Service Tag label printer name"},"setting:serviceTagPrint":function(e){return"Service Tag label printing"},"setting:serviceTagPrint:on":function(e){return"Enabled"},"setting:serviceTagPrint:off":function(e){return"Disabled"},"setting:serviceTagLabelType":function(e){return"Service Tag label layout type"},"setting:serviceTagLabelType:zpl":function(e){return"ZPL"},"setting:serviceTagLabelType:dpl":function(e){return"DPL"},"setting:serviceTagLabelCode":function(e){return"Service Tag label layout code"},"setting:serviceTagInLocalMode":function(e){return"Service Tag in Local mode"},"setting:serviceTagInLocalMode:disabled":function(e){return"Disabled"},"setting:serviceTagInLocalMode:optional":function(e){return"Optional"},"setting:serviceTagInLocalMode:required":function(e){return"Required"},"setting:protectInputMode":function(e){return"Input mode change protection"},"setting:protectInputMode:on":function(e){return"Password required"},"setting:protectInputMode:off":function(e){return"No password"},"setting:bgScanner":function(e){return"Barcode scanner mode"},"setting:bgScanner:on":function(e){return"Server-side"},"setting:bgScanner:off":function(e){return"Client-side"},"setting:bgScannerBeepGood":function(e){return"Barcode scanner 'good' beep"},"setting:bgScannerBeepBad":function(e){return"Barcode scanner 'bad' beep"},"setting:bgScannerBeepDone":function(e){return"Barcode scanner 'LED board scanning done' beep"},"setting:bgScannerBeep:off":function(e){return"Disabled"},"setting:bgScannerFilter":function(e){return"Barcode scanner serial number filter"},"setting:ledsEnabled":function(e){return"LED boards checking"},"setting:ledsEnabled:off":function(e){return"Disabled"},"setting:ledsEnabled:auto":function(e){return"Auto"},"setting:ledsEnabled:manual":function(e){return"Manual"},"setting:ledsCheckingMode":function(e){return"LED board serial number checking"},"setting:ledsCheckingMode:pass":function(e){return"Disabled"},"setting:ledsCheckingMode:recent":function(e){return"In the recent results (local)"},"setting:ledsCheckingMode:remote":function(e){return"In the whole order (remote)"},"setting:programming":function(e){return"Programming"},"setting:programming:off":function(e){return"Disabled"},"setting:programming:on":function(e){return"Enabled"},"setting:forceLatestOrder":function(e){return"Force the latest order"},"setting:forceLatestOrder:off":function(e){return"Disabled"},"setting:forceLatestOrder:on":function(e){return"Enabled"},"setting:gprsOrdersPath":function(e){return"Path to the orders directory"},"setting:gprsVerificationTimeout":function(e){return"Verification timeout [ms]"},"setting:gprsVerification":function(e){return"Programming result verification"},"setting:gprsVerification:on":function(e){return"Enabled"},"setting:gprsVerification:off":function(e){return"Disabled"},"setting:gprsVerificationInputPath":function(e){return"Path to the verification input directory"},"setting:gprsVerificationSuccessPath":function(e){return"Path to the successful verification directory"},"setting:gprsVerificationErrorPath":function(e){return"Path to the failed verification directory"},"setting:gprsDaliPort":function(e){return"DALI port"},"setting:gprsInputTemplateFile":function(e){return"Path to the programmer input template file"},"setting:gprsProgrammerFile":function(e){return"Path to the programmer executable file"},"setting:flResource1":function(e){return"First lamp URL"},"setting:flResource2":function(e){return"Second lamp URL"},"setting:ftEnabled":function(e){return"Testing"},"setting:ftEnabled:on":function(e){return"Enabled"},"setting:ftEnabled:off":function(e){return"Disabled"},"setting:ftDuration":function(e){return"Test duration [ms]"},"setting:ftSetCurrent":function(e){return"Set current [A]"},"setting:ftSetVoltage":function(e){return"Set voltage [V]"},"setting:ftMaxResistance":function(e){return"Max resistance [Ω]"},"setting:ftStartResource1":function(e){return"First start button URL"},"setting:ftStartResource2":function(e){return"Second start button URL"},"setting:ftSerialProxyAddress":function(e){return"Ser2net server address"},"setting:ftOrderPattern":function(e){return"Frame test active for product names matching the following patterns"},"setting:hidEnabled":function(e){return"HID lamp checking"},"setting:hidEnabled:off":function(e){return"Disabled"},"setting:hidEnabled:on":function(e){return"Enabled"},"setting:weightEnabled":function(e){return"Component weight checking"},"setting:weightEnabled:off":function(e){return"Disabled"},"setting:weightEnabled:on":function(e){return"Enabled"},"setting:weightRequireComponent":function(e){return"Component existence checking"},"setting:weightRequireComponent:off":function(e){return"Disabled"},"setting:weightRequireComponent:on":function(e){return"Enabled"},"setting:weightStabilized":function(e){return"Measurement stabilization"},"setting:weightStabilized:off":function(e){return"Disabled"},"setting:weightStabilized:on":function(e){return"Enabled"},"setting:weightHost":function(e){return"Scale's IP address"},"setting:weightPort":function(e){return"Scale's TCP port"},"setting:weightTolerance":function(e){return"Measurement tolerance [g]"},"setting:weightTimeout":function(e){return"Weighing timeout [s]"},"setting:weightRefUnit":function(e){return"Reference unit"},"setting:weightCurrentValue":function(e){return"Current weight [g]"},"setting:weightWeighedValue":function(e){return"Reference weight [g]"},"setting:weightRefUnitCalc":function(e){return"Calculate"},"setting:weightTare":function(e){return"Tare"},"setting:weightCheckScope":function(e){return"Component serial number checking"},"setting:weightCheckScope:none":function(e){return"Disabled"},"setting:weightCheckScope:current":function(e){return"Current order only"},"setting:weightCheckScope:all":function(e){return"All orders"},"license:NO_KEY":function(e){return"No license key."},"license:INVALID_ED_PEM":function(e){return"Invalid license decryption key."},"license:APP_ID":function(e){return"Current license was not issued to the running application."},"license:APP_VERSION":function(e){return"Current license does not support the currently running version of the application."},"license:UNKNOWN_LICENSE":function(e){return"Current license was not recognized by the remote server."},"license:DUPLICATE_LICENSE":function(e){return"The remote server detected duplicate licenses in use."},"hotkey:showDashboardPage":function(e){return"Go to Programming"},"hotkey:showHistoryPage":function(e){return"Go to History"},"hotkey:showSettingsPage":function(e){return"Go to Settings"},"hotkey:showProgramsPage":function(e){return"Go to Programs"},"hotkey:focusOrderNo":function(e){return"Focus the Order no"},"hotkey:focusQuantity":function(e){return"Focus the Quantity"},"hotkey:focusNc12":function(e){return"Focus the 12NC"},"hotkey:focusLog":function(e){return"Focus the Programming log"},"hotkey:focusHistory":function(e){return"Focus the first History entry"},"hotkey:toggleInputMode":function(e){return"Toggle the input mode"},"hotkey:toggleWorkMode":function(e){return"Toggle the work mode"},"hotkey:reset":function(e){return"Reset the current state"},"hotkey:reload":function(e){return"Reload the last order"},"hotkey:start":function(e){return"Start"},"hotkey:cancel":function(e){return"Cancel"},"hotkey:continue":function(e){return"Continue"},"hotkey:setProgram":function(e){return"Select program"},"hotkey:printServiceTag":function(e){return"Print Service Tag"},"hotkey:closeDialog":function(e){return"Close modal dialog"},"import:line":function(e){return"Production line"},"import:line:help":function(e){return"Choose a production line for this installation."},"import:client":function(e){return"Settings source"},"import:client:help":function(e){return"Choose a client from which settings should be copied to this installation."},"import:features":function(e){return"License options"},"import:features:help":function(e){return"Choose license options for this installation."},"import:button":function(e){return"Import settings"},"import:failure":function(e){return"Failed to import settings :("},"features:wmes":function(e){return"Remote mode (WMES)"},"features:sol":function(e){return"Fortimo Solar (SOL)"},"features:t24vdc":function(e){return"24V DC Tester (T24VDC)"},"features:led":function(e){return"LED scanning (LED)"},"features:gprs":function(e){return"GPRS programing (GPRS)"},"features:glp2":function(e){return"Schleich GLP2-I Tester (GLP2)"},"features:fl":function(e){return"Fluorescent Lamps (FL)"},"features:ft":function(e){return"Frame Tester (FT)"},"features:hid":function(e){return"HID scanning (HID)"},"features:weight":function(e){return"Component weighing (WEIGHT)"}},pl:!0}}),define("app/nls/pl/settings",["app/nls/locale/pl"],function(e){return{breadcrumb:function(e){return"Ustawienia"},"msg:filesOnly":function(e){return"Upuszczać można tylko pliki!"},"msg:textOnly":function(e){return"Upuszczać można tylko pliki tekstowe!"},"msg:invalidFile":function(e){return"Nieprawidłowa zawartość pliku!"},"msg:readFailure":function(e){return"Nie udało się odczytać zawartości pliku :("},"msg:importSuccess":function(e){return"Wczytano ustawienia :)"},"msg:passwords":function(e){return"Podane hasła nie pasują do siebie :("},"msg:PASSWORD":function(e){return"Podane hasło jest nieprawidłowe :("},"msg:INVALID_CHANGES":function(e){return"Nie wykryto żadnych zmian :("},"msg:LOCKED":function(e){return"Nie można zmieniać ustawień w trakcie programowania!"},"msg:failure":function(e){return"Nie udało się zapisać ustawień :("},"msg:success":function(e){return"Ustawienia zostały zmienione :)"},"msg:restart:failure":function(e){return"Nie udało się zrestartować serwera :("},"msg:restart:AUTH":function(e){return"Nie można zrestartować serwera: nieprawidłowe hasło!"},"msg:restart:LOCKED":function(e){return"Nie można zrestartować serwera w trakcie programowania!"},"msg:logs:failure":function(e){return"Nie udało się pobrać logów :("},"msg:logs:AUTH":function(e){return"Nie można pobrać logów: nieprawidłowe hasło!"},"msg:logs:EMPTY":function(e){return"Nie można pobrać logów: nie znaleziono!"},"form:settings":function(e){return"Podstawowe ustawienia"},"form:remote":function(e){return"Tryb zdalny"},"form:mow":function(e){return"MultiOne Workflow"},"form:gprs":function(e){return"GPRS"},"form:sol":function(e){return"Fortimo Solar"},"form:lpt":function(e){return"Petrol Station"},"form:testing":function(e){return"Tester 24V DC"},"form:glp2":function(e){return"Tester GLP2-I"},"form:ft":function(e){return"Tester ramki"},"form:fl":function(e){return"Świetlówki"},"form:weight":function(e){return"Ważenie komponentów"},"form:hotkeys":function(e){return"Skróty klawiszowe"},"form:license":function(e){return"Ustawienia licencji"},"form:submit":function(e){return"Zapisz ustawienia"},"form:export":function(e){return"Eksportuj ustawienia"},"form:restart":function(e){return"Restartuj serwer"},"form:password":function(e){return"Hasło"},"form:logs":function(e){return"Pobierz logi"},"form:import":function(e){return"Import ustawień"},"mowVersion:supported":function(e){return"Wspierana wersja Philips MultiOne Workflow"},"mowVersion:installed":function(e){return"Zainstalowana wersja Philips MultiOne Workflow"},"setting:id":function(e){return"Identyfikator instalacji"},"setting:title":function(e){return"Tytuł"},"setting:password1":function(e){return"Nowe hasło"},"setting:password2":function(e){return"Powtórz nowe hasło"},"setting:orders":function(e){return"Nr zlecenia i Ilość"},"setting:orders:disabled":function(e){return"Zablokowane"},"setting:orders:optional":function(e){return"Opcjonalne"},"setting:orders:required":function(e){return"Wymagane"},"setting:workflow":function(e){return"Konfiguracja programatora"},"setting:workflowVerify":function(e){return"DALIverify"},"setting:workflowIdentifyAlways":function(e){return"DALIidentifyalways"},"setting:workflowMultiDevice":function(e){return"DALImultidevice"},"setting:workflowCheckDeviceModel":function(e){return"checkdevicemodel"},"setting:workflowCheckDevicePresent":function(e){return"DALIcheckdevicepresent"},"setting:workflowCommissionAll":function(e){return"DALIcommissionall"},"setting:workflowDaliFactoryNew":function(e){return"DALIfactorynew"},"setting:featurePath1":function(e){return"Pierwsza ścieżka do katalogu z plikami konfiguracyjnymi driverów"},"setting:searchTimeout1":function(e){return"Timeout wyszukiwania [ms]"},"setting:readTimeout1":function(e){return"Timeout odczytywania [ms]"},"setting:featurePath2":function(e){return"Druga ścieżka do katalogu z plikami konfiguracyjnymi driverów"},"setting:searchTimeout2":function(e){return"Timeout wyszukiwania [ms]"},"setting:readTimeout2":function(e){return"Timeout odczytywania [ms]"},"setting:schedulerFile":function(e){return"Ścieżka do pliku z harmonogramem"},"setting:supportedDevicesFile":function(e){return"Ścieżka do pliku ze wspieranymi urządzeniami"},"setting:mowLabelDataLocation":function(e){return"Ścieżka do katalogu etykiet"},"setting:mowUniqueId":function(e){return"Unikalne ID interfejsu"},"setting:interface":function(e){return"Interfejs programatora"},"setting:interface:d":function(e){return"USB2DALI"},"setting:interface:s":function(e){return"SimpleSet®"},"setting:continueOnWarnings":function(e){return"Po wystąpieniu ostrzeżenia..."},"setting:continueOnWarnings:continue":function(e){return"...kontynuuj programowanie"},"setting:continueOnWarnings:halt":function(e){return"...zatrzymaj programowanie"},"setting:logVerbosity":function(e){return"Poziom logowania"},"setting:logVerbosity:info":function(e){return"Wszystkie informacje"},"setting:logVerbosity:error":function(e){return"Wszystkie błędy"},"setting:logVerbosity:fatal":function(e){return"Tylko poważne błędy"},"setting:programmerFile":function(e){return"Ścieżka do pliku wykonywalnego programatora"},"setting:backupDelay":function(e){return"Opóźnienie kopiowania konfiguracji driverów [s]"},"setting:backupPath:1":function(e){return"Kopiuj konfiguracje driverów z pierwszej ścieżki do drugiej"},"setting:backupPath:2":function(e){return"Kopiuj konfiguracje driverów z drugiej ścieżki do pierwszej"},"setting:programDelay":function(e){return"Odliczanie do programowania [s]"},"setting:cancelDelay":function(e){return"Opóźnienie odblokowania akcji Anuluj [ms]"},"setting:blockageDuration":function(e){return"Czas trwania blokady [s]"},"setting:blockageInterval":function(e){return"Ilość programowań do blokady"},"setting:remoteServer":function(e){return"Zewnętrzny serwer"},"setting:syncInterval":function(e){return"Odstęp synchronizacji historii [min]"},"setting:imWorkin":function(e){return"Blokada wygaszania ekranu"},"setting:imWorkin:on":function(e){return"Włączona"},"setting:imWorkin:off":function(e){return"Wyłączona"},"setting:solComPattern":function(e){return"Wzorzec dopasowania portu szeregowego"},"setting:solFilePattern":function(e){return"Wzorzec dopasowania nazwy pliku programu"},"setting:solReset":function(e){return"Resetowanie urządzenia przed wykonaniem komend odczytujących"},"setting:solReset:on":function(e){return"Włączone"},"setting:solReset:off":function(e){return"Wyłączone"},"setting:solResetDelay":function(e){return"Czas opóźnienia po resecie urządzenia [ms]"},"setting:lptEnabled":function(e){return"Programowanie z wykorzystaniem LPT"},"setting:lptEnabled:on":function(e){return"Włączone"},"setting:lptEnabled:off":function(e){return"Wyłączone"},"setting:lptStartTimeout":function(e){return"Timeout rozpoczęcia programowania [ms]"},"setting:lptFilePattern":function(e){return"Wzorzec dopasowania nazwy pliku programu"},"setting:lptReadPort":function(e){return"Adres portu (odczytywanie)";
},"setting:lptReadBit":function(e){return"Bit wartości (odczytywanie)"},"setting:lptReadInverted":function(e){return"Negacja wartości (odczytywanie)"},"setting:lptReadInverted:on":function(e){return"Tak"},"setting:lptReadInverted:off":function(e){return"Nie"},"setting:lptWritePort":function(e){return"Adres portu (zapisywanie)"},"setting:lptWriteBit":function(e){return"Bit wartości (zapisywanie)"},"setting:testingEnabled":function(e){return"Testowanie"},"setting:testingEnabled:on":function(e){return"Włączone"},"setting:testingEnabled:off":function(e){return"Wyłączone"},"setting:testingComPattern":function(e){return"Wzorzec dopasowania portu szeregowego"},"setting:testingComAddress":function(e){return"Adres testera"},"setting:testingComTimeout":function(e){return"Timeout odpowiedzi testera [ms]"},"setting:testingCurrent":function(e){return"Nastawa natężenia [A]"},"setting:testingModbusEnabled":function(e){return"Sterowanie wyjść przez Modbus"},"setting:testingModbusEnabled:on":function(e){return"Włączone"},"setting:testingModbusEnabled:off":function(e){return"Wyłączone"},"setting:testingModbusHost":function(e){return"Adres IP sterownika Modbus"},"setting:testingModbusPort":function(e){return"Port TCP sterownika Modbus"},"setting:glp2Enabled":function(e){return"Testowanie"},"setting:glp2Enabled:on":function(e){return"Włączone"},"setting:glp2Enabled:off":function(e){return"Wyłączone"},"setting:glp2AllInOne":function(e){return"Tryb testowania"},"setting:glp2AllInOne:on":function(e){return"Wszystkie kroki naraz"},"setting:glp2AllInOne:off":function(e){return"Jeden krok naraz"},"setting:glp2ComPattern":function(e){return"Wzorzec dopasowania portu szeregowego"},"setting:glp2ComAddress":function(e){return"Adres testera"},"setting:glp2ProgrammingDelay":function(e){return"Opóźnienie przed programowaniem [ms]"},"setting:glp2CancelDelay":function(e){return"Opóźnienie po anulowaniu [ms]"},"setting:licenseKey":function(e){return"Nowy klucz licencji"},"setting:licenseInfo:appId":function(e){return"Aplikacja"},"setting:licenseInfo:appVersion":function(e){return"Wersja"},"setting:licenseInfo:date":function(e){return"Data"},"setting:licenseInfo:uuid":function(e){return"Identyfikator"},"setting:licenseInfo:licensee":function(e){return"Licencjobiorca"},"setting:licenseInfo:features":function(e){return"Opcje"},"setting:licenseError":function(e){return"Opis błędu licencji"},"setting:prodLine":function(e){return"ID linii produkcyjnej"},"setting:serviceTagPrinter":function(e){return"Nazwa drukarki etykiet Service Tag"},"setting:serviceTagPrint":function(e){return"Drukowanie etykiety Service Tag"},"setting:serviceTagPrint:on":function(e){return"Włączone"},"setting:serviceTagPrint:off":function(e){return"Wyłączone"},"setting:serviceTagLabelType":function(e){return"Typ szablonu etykiety Service Tag"},"setting:serviceTagLabelType:zpl":function(e){return"ZPL"},"setting:serviceTagLabelType:dpl":function(e){return"DPL"},"setting:serviceTagLabelCode":function(e){return"Kod szablonu etykiety Service Tag"},"setting:serviceTagInLocalMode":function(e){return"Service Tagi w Trybie lokalnym"},"setting:serviceTagInLocalMode:disabled":function(e){return"Wyłączone"},"setting:serviceTagInLocalMode:optional":function(e){return"Opcjonalne"},"setting:serviceTagInLocalMode:required":function(e){return"Wymagane"},"setting:protectInputMode":function(e){return"Zabezpieczenie zmiany trybu wprowadzania"},"setting:protectInputMode:on":function(e){return"Hasło wymagane"},"setting:protectInputMode:off":function(e){return"Hasło niewymagane"},"setting:bgScanner":function(e){return"Tryb pracy czytnika kodów"},"setting:bgScanner:on":function(e){return"Po stronie serwera"},"setting:bgScanner:off":function(e){return"Po stronie klienta"},"setting:bgScannerBeepGood":function(e){return"Brzęczenie czytnika dla dobrych kodów"},"setting:bgScannerBeepBad":function(e){return"Brzęczenie czytnika dla złych kodów"},"setting:bgScannerBeepDone":function(e){return"Brzęczenie czytnika po sczytaniu płytek LED"},"setting:bgScannerBeep:off":function(e){return"Wyłączone"},"setting:bgScannerFilter":function(e){return"Filtr numerów seryjnych czytników kodów"},"setting:ledsEnabled":function(e){return"Sprawdzanie płytek LED"},"setting:ledsEnabled:off":function(e){return"Wyłączone"},"setting:ledsEnabled:auto":function(e){return"Automatyczne"},"setting:ledsEnabled:manual":function(e){return"Manualne"},"setting:ledsCheckingMode":function(e){return"Sprawdzanie numerów seryjnych płytek LED"},"setting:ledsCheckingMode:pass":function(e){return"Wyłączone"},"setting:ledsCheckingMode:recent":function(e){return"W ostatnich wynikach zlecenia (lokalne)"},"setting:ledsCheckingMode:remote":function(e){return"W całym zleceniu (zdalne)"},"setting:programming":function(e){return"Programowanie"},"setting:programming:off":function(e){return"Wyłączone"},"setting:programming:on":function(e){return"Włączone"},"setting:forceLatestOrder":function(e){return"Wymuszenie najnowszego zlecenia"},"setting:forceLatestOrder:off":function(e){return"Wyłączone"},"setting:forceLatestOrder:on":function(e){return"Włączone"},"setting:gprsOrdersPath":function(e){return"Ścieżka do katalogu ze zleceniami"},"setting:gprsVerificationTimeout":function(e){return"Timeout weryfikacji [ms]"},"setting:gprsVerification":function(e){return"Weryfikacja wyniku programatora"},"setting:gprsVerification:on":function(e){return"Włączona"},"setting:gprsVerification:off":function(e){return"Wyłączona"},"setting:gprsVerificationInputPath":function(e){return"Ścieżka do wejściowego katalogu weryfikacji"},"setting:gprsVerificationSuccessPath":function(e){return"Ścieżka do katalogu pomyślnej weryfikacji"},"setting:gprsVerificationErrorPath":function(e){return"Ścieżka do katalogu niepomyślnej weryfikacji"},"setting:gprsDaliPort":function(e){return"Port DALI programatora"},"setting:gprsInputTemplateFile":function(e){return"Ścieżka do pliku z szablonem konfiguracji programatora"},"setting:gprsProgrammerFile":function(e){return"Ścieżka do pliku wykonywalnego programatora"},"setting:flResource1":function(e){return"Adres stanu pierwszej lampy"},"setting:flResource2":function(e){return"Adres stanu drugiej lampy"},"setting:ftEnabled":function(e){return"Testowanie"},"setting:ftEnabled:on":function(e){return"Włączone"},"setting:ftEnabled:off":function(e){return"Wyłączone"},"setting:ftDuration":function(e){return"Czas testu [ms]"},"setting:ftSetCurrent":function(e){return"Nastawa natężenia [A]"},"setting:ftSetVoltage":function(e){return"Nastawa napięcia [V]"},"setting:ftMaxResistance":function(e){return"Maksymalny opór [Ω]"},"setting:ftStartResource1":function(e){return"Adres stanu pierwszego przycisku startu"},"setting:ftStartResource2":function(e){return"Adres stanu drugiego przycisku startu"},"setting:ftSerialProxyAddress":function(e){return"Adres serwera ser2net"},"setting:ftOrderPattern":function(e){return"Test ramki aktywny dla wyrobów o nazwie pasującej do wzorców"},"setting:hidEnabled":function(e){return"Sprawdzanie lamp HID"},"setting:hidEnabled:off":function(e){return"Wyłączone"},"setting:hidEnabled:on":function(e){return"Włączone"},"setting:weightEnabled":function(e){return"Sprawdzanie wagi komponentów"},"setting:weightEnabled:off":function(e){return"Wyłączone"},"setting:weightEnabled:on":function(e){return"Włączone"},"setting:weightRequireComponent":function(e){return"Sprawdzanie istnienia komponentu w zleceniu"},"setting:weightRequireComponent:off":function(e){return"Wyłączone"},"setting:weightRequireComponent:on":function(e){return"Włączone"},"setting:weightStabilized":function(e){return"Stabilizacja pomiarów"},"setting:weightStabilized:off":function(e){return"Wyłączona"},"setting:weightStabilized:on":function(e){return"Włączona"},"setting:weightHost":function(e){return"Adres IP wagi"},"setting:weightPort":function(e){return"Port TCP wagi"},"setting:weightTolerance":function(e){return"Tolerancja pomiarów [g]"},"setting:weightTimeout":function(e){return"Czas oczekiwania na zważenie [s]"},"setting:weightRefUnit":function(e){return"Wartość referencyjna"},"setting:weightCurrentValue":function(e){return"Aktualna waga [g]"},"setting:weightWeighedValue":function(e){return"Referencyjna waga [g]"},"setting:weightRefUnitCalc":function(e){return"Oblicz"},"setting:weightTare":function(e){return"Taruj"},"setting:weightCheckScope":function(e){return"Sprawdzanie numerów seryjnych komponentów"},"setting:weightCheckScope:none":function(e){return"Wyłączone"},"setting:weightCheckScope:current":function(e){return"W całym aktualnym zleceniu"},"setting:weightCheckScope:all":function(e){return"We wszystkich zleceniach"},"license:NO_KEY":function(e){return"Brak klucza licencji."},"license:INVALID_ED_PEM":function(e){return"Nieprawidłowy klucz odszyfrowywania."},"license:APP_ID":function(e){return"Ustawiona licencja nie została przydzielona do uruchomionej aplikacji."},"license:APP_VERSION":function(e){return"Ustawiona licencja nie obejmuje aktualnie uruchomionej wersji aplikacji."},"license:UNKNOWN_LICENSE":function(e){return"Licencja nie została rozpoznana przez zewnętrzy serwer."},"license:DUPLICATE_LICENSE":function(e){return"Zewnętrzny serwer wykrył zduplikowane licencje."},"hotkey:showDashboardPage":function(e){return"Przejdź do Programowania"},"hotkey:showHistoryPage":function(e){return"Przejdź do Historii"},"hotkey:showSettingsPage":function(e){return"Przejdź do Ustawień"},"hotkey:showProgramsPage":function(e){return"Przejdź do Programów"},"hotkey:focusOrderNo":function(e){return"Zaznacz pole Nr zlecenia"},"hotkey:focusQuantity":function(e){return"Zaznacz pole Ilość"},"hotkey:focusNc12":function(e){return"Zaznacz pole 12NC"},"hotkey:focusLog":function(e){return"Zaznacz okno Przebiegu programowania"},"hotkey:focusHistory":function(e){return"Zaznacz pierwszy wpis w Historii"},"hotkey:toggleInputMode":function(e){return"Przełącz tryb wprowadzania danych"},"hotkey:toggleWorkMode":function(e){return"Przełącz tryb pracy"},"hotkey:reset":function(e){return"Resetuj aktualny stan"},"hotkey:reload":function(e){return"Wczytaj ostatnie zlecenie"},"hotkey:start":function(e){return"Rozpocznij"},"hotkey:cancel":function(e){return"Anuluj"},"hotkey:continue":function(e){return"Kontynuuj"},"hotkey:setProgram":function(e){return"Wybierz program"},"hotkey:printServiceTag":function(e){return"Drukuj Service Tag"},"hotkey:closeDialog":function(e){return"Zamknij okno dialogowe"},"import:line":function(e){return"Linia produkcyjna"},"import:line:help":function(e){return"Wybierz linię, jaka ma być ustawiona dla tej instalacji."},"import:client":function(e){return"Klient ustawień"},"import:client:help":function(e){return"Wybierz klienta, z którego mają zostać skopiowane ustawienia do tej instalacji."},"import:features":function(e){return"Opcje licencji"},"import:features:help":function(e){return"Wybierz opcje licencji dla tej instalacji."},"import:button":function(e){return"Importuj ustawienia"},"import:failure":function(e){return"Nie udało się zaimportować ustawień :("},"features:wmes":function(e){return"Tryb zdalny (WMES)"},"features:sol":function(e){return"Fortimo Solar (SOL)"},"features:t24vdc":function(e){return"Tester 24V DC (T24VDC)"},"features:led":function(e){return"Skanowanie LED (LED)"},"features:gprs":function(e){return"Programowanie GPRS (GPRS)"},"features:glp2":function(e){return"Tester Schleich GLP2-I (GLP2)"},"features:fl":function(e){return"Świetlówki (FL)"},"features:ft":function(e){return"Tester ramki (FT)"},"features:hid":function(e){return"Skanowanie HID (HID)"},"features:weight":function(e){return"Ważenie komponentów (WEIGHT)"},"weight:help":function(e){return"1"}}}),define("app/settings/routes",["app/broker","app/router","app/viewport","./pages/SettingsFormPage","i18n!app/nls/settings"],function(e,t,n,r){"use strict";e.subscribe("hotkeys.showSettingsPage",function(){e.publish("router.navigate",{url:"/settings",trigger:!0,replace:!1})}),t.map("/settings",function(e){n.showPage(new r({tab:e.query.tab}))})}),define("app/routes",["./dashboard/routes","./xiconfPrograms/routes","./history/routes","./settings/routes"],function(){"use strict"}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new r(this)),"string"==typeof t&&i[t].call(n)})}var n='[data-dismiss="alert"]',r=function(t){e(t).on("click",n,this.close)};r.VERSION="3.3.2",r.TRANSITION_DURATION=150,r.prototype.close=function(t){function n(){a.detach().trigger("closed.bs.alert").remove()}var i=e(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var a=e(o);t&&t.preventDefault(),a.length||(a=i.closest(".alert")),a.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(r.TRANSITION_DURATION):n())};var i=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=r,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",n,r.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.button"),o="object"==typeof t&&t;i||r.data("bs.button",i=new n(this,o)),"toggle"==t?i.toggle():t&&i.setState(t)})}var n=function(t,r){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.3.2",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",o=r.data();t+="Text",null==o.resetText&&r.data("resetText",r[i]()),setTimeout(e.proxy(function(){r[i](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));e&&this.$element.toggleClass("active")};var r=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=r,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var r=e(n.target);r.hasClass("btn")||(r=r.closest(".btn")),t.call(r,"toggle"),n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){"use strict";function t(t){t&&3===t.which||(e(i).remove(),e(o).each(function(){var r=e(this),i=n(r),o={relatedTarget:this};i.hasClass("open")&&(i.trigger(t=e.Event("hide.bs.dropdown",o)),t.isDefaultPrevented()||(r.attr("aria-expanded","false"),i.removeClass("open").trigger("hidden.bs.dropdown",o)))}))}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}function r(t){return this.each(function(){var n=e(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new a(this)),"string"==typeof t&&r[t].call(n)})}var i=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(t){e(t).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.2",a.prototype.toggle=function(r){var i=e(this);if(!i.is(".disabled, :disabled")){var o=n(i),a=o.hasClass("open");if(t(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var s={relatedTarget:this};if(o.trigger(r=e.Event("show.bs.dropdown",s)),r.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},a.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var r=e(this);if(t.preventDefault(),t.stopPropagation(),!r.is(".disabled, :disabled")){var i=n(r),a=i.hasClass("open");if(!a&&27!=t.which||a&&27==t.which)return 27==t.which&&i.find(o).trigger("focus"),r.trigger("click");var s=" li:not(.divider):visible a",l=i.find('[role="menu"]'+s+', [role="listbox"]'+s);if(l.length){var p=l.index(t.target);38==t.which&&p>0&&p--,40==t.which&&p<l.length-1&&p++,~p||(p=0),l.eq(p).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=r,e.fn.dropdown.Constructor=a,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o,a.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',a.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',a.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t,r){return this.each(function(){var i=e(this),o=i.data("bs.modal"),a=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);o||i.data("bs.modal",o=new n(this,a)),"string"==typeof t?o[t](r):a.show&&o.show(r)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.2",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var r=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var i=e.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.options.backdrop&&r.adjustBackdrop(),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass("in").attr("aria-hidden",!1),r.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});i?r.$element.find(".modal-dialog").one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):r.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&i;if(this.$backdrop=e('<div class="modal-backdrop '+i+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){r.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else t&&t()},n.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},n.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var r=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=e(this),i=r.attr("href"),o=e(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},o.data(),r.data());r.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),t.call(o,a,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new n(this)),"string"==typeof t&&i[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.2",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");if(r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=n.find(".active:last a"),o=e.Event("hide.bs.tab",{relatedTarget:t[0]}),a=e.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),t.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=e(r);this.activate(t.closest("li"),n),this.activate(s,s.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},n.prototype.activate=function(t,r,i){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var a=r.find("> .active"),s=i&&e.support.transition&&(a.length&&a.hasClass("fade")||!!r.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),a.removeClass("in")};var r=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=r,this};var i=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||e(r).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),define("bootstrap",["jquery"],function(){}),function(e){"function"==typeof define&&define.amd?define("moment-lang/pl",["moment"],e):"object"==typeof exports?module.exports=e(require("../moment")):e(window.moment)}(function(e){function t(e){return e%10<5&&e%10>1&&~~(e/10)%10!==1}function n(e,n,r){var i=e+" ";switch(r){case"m":return n?"minuta":"minutę";case"mm":return i+(t(e)?"minuty":"minut");case"h":return n?"godzina":"godzinę";case"hh":return i+(t(e)?"godziny":"godzin");case"MM":return i+(t(e)?"miesiące":"miesięcy");case"yy":return i+(t(e)?"lata":"lat")}}var r="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),i="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_");return e.defineLocale("pl",{months:function(e,t){return/D MMMM/.test(t)?i[e.month()]:r[e.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"nie_pon_wt_śr_czw_pt_sb".split("_"),weekdaysMin:"N_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:n,mm:n,h:n,hh:n,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:n,y:"rok",yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),define("app/nls/core",["app/nls/locale/en"],function(e){var t={lc:{pl:function(t){return e(t)},en:function(t){return e(t)}},c:function(e,t){if(!e)throw new Error("MessageFormat: Data required for '"+t+"'.")},n:function(e,t,n){if(isNaN(e[t]))throw new Error("MessageFormat: '"+t+"' isn't a number.");return e[t]-(n||0)},v:function(e,n){return t.c(e,n),e[n]},p:function(e,n,r,i,o){return t.c(e,n),e[n]in o?o[e[n]]:(n=t.lc[i](e[n]-r),n in o?o[n]:o.other)},s:function(e,n,r){return t.c(e,n),e[n]in r?r[e[n]]:r.other}};return{root:{TITLE:function(e){return"Programmer"},"MSG:LOADING":function(e){return"Loading..."},"MSG:LOADING_FAILURE":function(e){return"Loading failed :("},"MSG:LOG_OUT:FAILURE":function(e){return"Logging out failed :("},"MSG:LOG_OUT:SUCCESS":function(e){return"You are now logged out!"},"PAGE_ACTION:filter":function(e){return"Filter"},"LIST:COLUMN:actions":function(e){return"Actions"},"LIST:NO_DATA":function(e){return"No data."},"LIST:NO_DATA:cell":function(e){return"no data"},"LIST:ACTION:viewDetails":function(e){return"View details"},"LIST:ACTION:edit":function(e){return"Edit"},"LIST:ACTION:delete":function(e){return"Delete"},"LIST:ACTION:print":function(e){return"Print"},"BREADCRUMBS:edit":function(e){return"Editing"},"BREADCRUMBS:delete":function(e){return"Deleting"},"BREADCRUMBS:error":function(e){return"Error "+t.v(e,"code")+": "+t.s(e,"codeStr",{e401:"unauthorized access",e404:"not found",other:"bad request"})},"ERROR:400":function(e){return"The request cannot be fulfilled due to bad syntax :("},"ERROR:401":function(e){return"Unfortunately, you do not have the right privileges to perform the requested action :("},"ERROR:404":function(e){return"The requested resource could not be found :("},"PAGINATION:FIRST_PAGE":function(e){return"First page"},"PAGINATION:PREV_PAGE":function(e){return"Previous page"},"PAGINATION:NEXT_PAGE":function(e){return"Next page"},"PAGINATION:LAST_PAGE":function(e){return"Last page"},"BOOL:true":function(e){return"Yes"},"BOOL:false":function(e){return"No"},"BOOL:null":function(e){return"N/A"},"#":function(e){return"No."},GUEST_USER_NAME:function(e){return"Guest"},"navbar:toggle":function(e){return"Toggle menu"},"navbar:dashboard":function(e){return"Programming"},"navbar:programs":function(e){return"Programs"},"navbar:history":function(e){return"History"},"navbar:settings":function(e){return"Settings"},"ACTION_FORM:BUTTON":function(e){return"Perform action"},"ACTION_FORM:BUTTON:delete":function(e){return"Delete"},"ACTION_FORM:BUTTON:cancel":function(e){return"Cancel"},"ACTION_FORM:MESSAGE":function(e){return"Are you sure you want to perform the requested action?"},"ACTION_FORM:MESSAGE:failure":function(e){return"Action failed :("},"featureSync:started":function(e){return"Feature files sync started..."},"featureSync:failure":function(e){return"Feature files sync failed :("},"featureSync:success":function(e){return"Feature files sync succeeded :)"},"filter:date:from":function(e){return"From"},"filter:date:from:info":function(e){return"Data from 06:00 of the selected day"},"filter:date:to":function(e){return"To"},"filter:date:to:info":function(e){return"Data to 06:00 of the selected day"},"filter:submit":function(e){return"Filter"},"filter:limit":function(e){return"Limit"},"highcharts:contextButtonTitle":function(e){return"Chart's context menu"},"highcharts:downloadJPEG":function(e){return"Save as JPEG"},"highcharts:downloadPDF":function(e){return"Save as PDF"},"highcharts:downloadPNG":function(e){return"Save as PNG"},"highcharts:downloadSVG":function(e){return"Save as SVG"},"highcharts:downloadCSV":function(e){return"Save as CSV"},"highcharts:printChart":function(e){return"Print the chart"},"highcharts:decimalPoint":function(e){return"."},"highcharts:thousandsSep":function(e){return","},"highcharts:noData":function(e){return"No data :("},"highcharts:resetZoom":function(e){return"1:1"},"highcharts:resetZoomTitle":function(e){return"Reset the zoom level to 1:1"},"highcharts:loading":function(e){return"Loading..."},"highcharts:months":function(e){return"January_February_March_April_May_June_July_August_September_October_November_December"},"highcharts:shortMonths":function(e){return"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec"},"highcharts:weekdays":function(e){return"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday"},"parent:switchApp":function(e){return"Switch apps/Configure after 3s"},"parent:reboot":function(e){return"Refresh page/Restart after 3s"},"parent:shutdown":function(e){return"Shutdown after 3s"}},pl:!0}}),define("app/nls/pl/core",["app/nls/locale/pl"],function(e){var t={lc:{pl:function(t){return e(t)}},c:function(e,t){if(!e)throw new Error("MessageFormat: Data required for '"+t+"'.");
},n:function(e,t,n){if(isNaN(e[t]))throw new Error("MessageFormat: '"+t+"' isn't a number.");return e[t]-(n||0)},v:function(e,n){return t.c(e,n),e[n]},p:function(e,n,r,i,o){return t.c(e,n),e[n]in o?o[e[n]]:(n=t.lc[i](e[n]-r),n in o?o[n]:o.other)},s:function(e,n,r){return t.c(e,n),e[n]in r?r[e[n]]:r.other}};return{TITLE:function(e){return"Programator"},"MSG:LOADING":function(e){return"Ładowanie..."},"MSG:LOADING_FAILURE":function(e){return"Ładowanie nie powiodło się :("},"MSG:LOG_OUT:FAILURE":function(e){return"Wylogowanie nie powiodło się :("},"MSG:LOG_OUT:SUCCESS":function(e){return"Zostałeś wylogowany!"},"PAGE_ACTION:filter":function(e){return"Filtruj"},"LIST:COLUMN:actions":function(e){return"Akcje"},"LIST:NO_DATA":function(e){return"Brak danych."},"LIST:NO_DATA:cell":function(e){return"brak danych"},"LIST:ACTION:viewDetails":function(e){return"Pokaż szczegóły"},"LIST:ACTION:edit":function(e){return"Edytuj"},"LIST:ACTION:delete":function(e){return"Usuń"},"LIST:ACTION:print":function(e){return"Drukuj"},"BREADCRUMBS:edit":function(e){return"Edycja"},"BREADCRUMBS:delete":function(e){return"Usuwanie"},"BREADCRUMBS:error":function(e){return"Błąd "+t.v(e,"code")+": "+t.s(e,"codeStr",{e401:"nieautoryzowany dostęp",e404:"nie znaleziono",other:"nieprawidłowe zapytanie"})},"ERROR:400":function(e){return"Żądanie nie może być obsłużone z powodu błędnej składni zapytania :("},"ERROR:401":function(e){return"Niestety, ale nie masz wystarczających uprawnień do wykonania żądanej akcji :("},"ERROR:404":function(e){return"Wybrana strona nie istnieje :("},"PAGINATION:FIRST_PAGE":function(e){return"Pierwsza strona"},"PAGINATION:PREV_PAGE":function(e){return"Poprzednia strona"},"PAGINATION:NEXT_PAGE":function(e){return"Następna strona"},"PAGINATION:LAST_PAGE":function(e){return"Ostatnia strona"},"BOOL:true":function(e){return"Tak"},"BOOL:false":function(e){return"Nie"},"BOOL:null":function(e){return"Nie dotyczy"},"#":function(e){return"Lp."},GUEST_USER_NAME:function(e){return"Gość"},"navbar:toggle":function(e){return"Pokaż menu"},"navbar:dashboard":function(e){return"Programowanie"},"navbar:programs":function(e){return"Programy"},"navbar:history":function(e){return"Historia"},"navbar:settings":function(e){return"Ustawienia"},"ACTION_FORM:BUTTON":function(e){return"Wykonaj akcję"},"ACTION_FORM:BUTTON:delete":function(e){return"Usuń"},"ACTION_FORM:BUTTON:cancel":function(e){return"Anuluj"},"ACTION_FORM:MESSAGE":function(e){return"Czy na pewno chcesz wykonać żądaną akcję?"},"ACTION_FORM:MESSAGE:failure":function(e){return"Wykonywanie akcji nie powiodło się :("},"featureSync:started":function(e){return"Rozpoczęto kopiowanie konfiguracji driverów..."},"featureSync:failure":function(e){return"Nie udało się skopiować konfiguracji driverów :("},"featureSync:success":function(e){return"Pomyślnie skopiowano konfiguracje driverów :)"},"filter:date:from":function(e){return"Od"},"filter:date:from:info":function(e){return"Dane od godziny 06:00 wybranego dnia"},"filter:date:to":function(e){return"Do"},"filter:date:to:info":function(e){return"Dane do godziny 06:00 wybranego dnia"},"filter:submit":function(e){return"Filtruj"},"filter:limit":function(e){return"Limit"},"highcharts:contextButtonTitle":function(e){return"Menu kontekstowe wykresu"},"highcharts:downloadJPEG":function(e){return"Zapisz jako JPEG"},"highcharts:downloadPDF":function(e){return"Zapisz jako PDF"},"highcharts:downloadPNG":function(e){return"Zapisz jako PNG"},"highcharts:downloadSVG":function(e){return"Zapisz jako SVG"},"highcharts:downloadCSV":function(e){return"Zapisz jako CSV"},"highcharts:printChart":function(e){return"Drukuj wykres"},"highcharts:decimalPoint":function(e){return","},"highcharts:thousandsSep":function(e){return" "},"highcharts:noData":function(e){return"Brak danych :("},"highcharts:resetZoom":function(e){return"1:1"},"highcharts:resetZoomTitle":function(e){return"Zresetuj przybliżenie"},"highcharts:loading":function(e){return"Ładowanie..."},"highcharts:months":function(e){return"Styczeń_Luty_Marzec_Kwiecień_Maj_Czerwiec_Lipiec_Sierpień_Wrzesień_Październik_Listopad_Grudzień"},"highcharts:shortMonths":function(e){return"Sty_Lut_Mar_Kwi_Maj_Cze_Lip_Sie_Wrz_Paź_Lis_Gru"},"highcharts:weekdays":function(e){return"Niedziela_Poniedziałek_Wtorek_Środa_Czwartek_Piątek_Sobota"},"parent:switchApps":function(e){return"Zmień aplikację/Konfiguruj po 3s"},"parent:reboot":function(e){return"Odśwież stronę/Restartuj komputer po 3s"},"parent:shutdown":function(e){return"Wyłącz komputer po 3s"}}}),function(){"use strict";function e(e,t,n,o,a,s,l,p,c,u,d,f,h,g,_,m,v){function b(){null!==P&&(d.msg.hide(P,!0),P=null)}function y(){var e=u.getCurrentRequest();return new g({currentPath:null===e?"/":e.path,loadedModules:f.map})}function w(){null!==T&&(T.destroy(),T=null),s.subscribe("socket.connected",function(){window.location.reload(!0)}),s.subscribe("i18n.reloaded",function(e){localStorage.setItem("LOCALE",e.newLocale),d.render()}),e(function(){t("#app-loading").fadeOut(function(){t(this).remove()}),v.start(),n.history.start({root:"/",hashChange:!0,pushState:!1})})}var T=null;r(n,t),p.connect(),a.locale(i),t.ajaxSetup({dataType:"json",accepts:{json:"application/json",text:"text/plain"},contentType:"application/json"}),o.configure({manage:!0,el:!1,keep:!0}),d.registerLayout("page",function(){return new h({version:window.APP_VERSION,views:{".navbar":y()}})}),s.subscribe("page.titleChanged",function(e){var t=m.get("title");"string"==typeof t&&t.length?e.unshift(t):e.unshift(l("core","TITLE")),e.unshift("Walkner Xiconf ["+(window.location.port||80)+"]"),document.title=e.reverse().join(" < ")});var P=null;c.subscribe("featureSync.started",function(){b(),P=d.msg.show({type:"info",time:3e3,text:l("core","featureSync:started")})}),c.subscribe("featureSync.finished",function(e){b(),P=d.msg.show({type:e.error?"error":"success",time:3e3,text:l("core","featureSync:"+(e.error?"failure":"success"))})}),T=s.sandbox(),T.subscribe("socket.connected",w),T.subscribe("socket.connectFailed",w)}function t(){require(["domReady","jquery","backbone","backbone.layout","moment","app/broker","app/i18n","app/socket","app/pubsub","app/router","app/viewport","app/data/loadedModules","app/core/layouts/PageLayout","app/core/views/NavbarView","app/data/currentState","app/data/settings","app/data/hotkeys","app/updater/index","app/backdrop","app/time","app/routes","bootstrap","moment-lang/pl","i18n!app/nls/core"],e)}function n(){clearTimeout(c),c=null,l.onnoupdate=null,l.oncached=null,l.onerror=null,l.onobsolete=null,l.onupdateready=null,t()}function r(e,t){var n=e.sync;e.sync=function(e,t,r){return r.syncMethod=e,n.call(this,e,t,r)},t.fn.modal.Constructor.prototype.enforceFocus=function(){}}location.origin||(location.origin=location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")),location.search.indexOf("LOCAL=")!==-1&&history.replaceState(null,document.title,"/"+location.hash);var i=localStorage.getItem("LOCALE")||navigator.language||"en";"pl"!==i&&(i="en"),window.parent&&window.parent.postMessage({type:"init",host:location.host},"*");var o=[],a=null,s=null;if(require.onError=function(e){var t=document.getElementById("app-loading");if(t){t.className="error";var n=t.getElementsByClassName("fa-spin")[0];n&&n.classList.remove("fa-spin")}},require.onResourceLoad=function(e,t){if("i18n"===t.prefix){var n=e.defined[t.id],r=t.id.substr(t.id.lastIndexOf("/")+1);null!==a?a.register(r,n,t.id):o.push([r,n,t.id])}else if("app/i18n"===t.id)a=e.defined[t.id],a.config=e.config.config.i18n,o.forEach(function(e){a.register(e[0],e[1],e[2])}),o=null;else if("select2"===t.id)s=e.defined[t.id],s.lang=function(e){window.jQuery.extend(window.jQuery.fn.select2.defaults,s.lang[e])};else if(/^select2-lang/.test(t.id)){var i=t.id.substr(t.id.lastIndexOf("/")+1);s.lang[i]=e.defined[t.id]}},!navigator.onLine||!document.getElementsByTagName("html")[0].hasAttribute("manifest"))return t();var l=window.applicationCache,p=location.reload.bind(location),c=setTimeout(p,6e4);l.onnoupdate=n,l.oncached=n,l.onerror=n,l.onobsolete=p,l.onupdateready=p}(),define("main",function(){});